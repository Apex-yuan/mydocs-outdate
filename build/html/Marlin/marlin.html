

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Compiler Directives &mdash; mydocs  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Welcome to mydocs’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> mydocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Compiler Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="#sources-of-documentation">Sources of Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#before-you-begin">Before You Begin</a></li>
<li class="toctree-l1"><a class="reference internal" href="#configuration-h"><code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-versioning">Configuration versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firmware-info">Firmware Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-info">Hardware Info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#serial-port">Serial Port</a></li>
<li class="toctree-l3"><a class="reference internal" href="#baud-rate">Baud Rate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bluetooth">Bluetooth</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motherboard">Motherboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-machine-name">Custom Machine Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#machine-uuid">Machine UUID</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extruder-info">Extruder Info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#extruders">Extruders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filament-diameter">Filament Diameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#single-nozzle">Single Nozzle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prusa-mmu2">Prusa MMU2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switching-extruder">Switching Extruder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switching-nozzle">Switching Nozzle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parking-extruder-with-solenoid">Parking extruder (with solenoid)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parking-extruder-with-magnets">Parking extruder (with magnets)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switching-toolhead">Switching Toolhead</a></li>
<li class="toctree-l3"><a class="reference internal" href="#magnetic-switching-toolhead">Magnetic Switching Toolhead</a></li>
<li class="toctree-l3"><a class="reference internal" href="#electromagnetic-switching-toolhead">Electromagnetic Switching Toolhead</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mixing-extruder">Mixing Extruder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hotend-offsets">Hotend Offsets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#power-supply">Power Supply</a></li>
<li class="toctree-l2"><a class="reference internal" href="#thermal-settings">Thermal Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#temperature-sensors">Temperature Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-stability">Temperature Stability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-ranges">Temperature Ranges</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pid">PID</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hotend-pid-options">Hotend PID Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pid-values-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">PID Values <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bed-pid-options">Bed PID Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bed-pid-values-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Bed PID Values <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#safety">Safety</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prevent-cold-extrusion-em-class-fa-fa-sticky-note-o-aria-hidden-true-em">Prevent Cold Extrusion <em class="fa fa-sticky-note-o" aria-hidden="true"></em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#prevent-lengthy-extrude">Prevent Lengthy Extrude</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thermal-protection">Thermal Protection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kinematics">Kinematics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#corexy">CoreXY</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#endstops">Endstops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#endstop-plugs">Endstop Plugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endstop-pullups">Endstop Pullups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endstop-pulldowns">Endstop Pulldowns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endstop-inverting">Endstop Inverting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stepper-drivers">Stepper Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endstop-interrupts">Endstop Interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endstop-noise-threshold">Endstop Noise Threshold</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#movement">Movement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distinct-e-factors">Distinct E Factors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-steps-per-mm-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Default Steps per mm <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-max-feed-rate-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Default Max Feed Rate <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#acceleration">Acceleration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-max-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Default Max Acceleration <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Default Acceleration <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#junction-deviation-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Junction Deviation <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#jerk-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Jerk <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#s-curve-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">S-Curve Acceleration <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#z-probe-options">Z Probe Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#probe-pins">Probe Pins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#probe-type">Probe Type</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#manual-probe-no-probe">Manual Probe (no probe)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fix-mounted-probe">Fix Mounted Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="#servo-z-probe">Servo Z Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bltouch">BLTouch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#touch-mi-probe">TOUCH MI PROBE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#solenoid-probe">Solenoid Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="#z-probe-sled">Z Probe Sled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rack-and-pinion-probe">Rack-and-pinion probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="#allen-key">Allen Key</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#probe-offsets-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">Probe Offsets <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#distance-from-edge">Distance from edge</a></li>
<li class="toctree-l3"><a class="reference internal" href="#probing-speed">Probing Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-probes">Multiple Probes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#probe-clearance">Probe Clearance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#probe-testing">Probe Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#probe-with-heaters-off">Probe with heaters off</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Stepper Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#motor-enable">Motor Enable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motor-disable">Motor Disable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motor-direction">Motor Direction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#homing-and-bounds">Homing and Bounds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#z-homing-height">Z Homing Height</a></li>
<li class="toctree-l3"><a class="reference internal" href="#homing-direction">Homing Direction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#movement-bounds">Movement Bounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#software-endstops">Software Endstops</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#filament-runout-sensor">Filament Runout Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bed-leveling">Bed Leveling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bed-leveling-style">Bed Leveling Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restore-after-g28">Restore after G28</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debug-leveling">Debug Leveling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#leveling-fade-height">Leveling Fade Height</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#g26-mesh-validation-pattern">G26 Mesh Validation Pattern</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linear-bilinear-options">Linear / Bilinear Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bilinear-options">Bilinear Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unified-bed-leveling-options">Unified Bed Leveling Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#probe-points">Probe Points</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-bed-leveling-options">Mesh Bed Leveling Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#point-options">3-Point Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lcd-bed-leveling">LCD Bed Leveling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#corner-leveling">Corner Leveling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#z-probe-end-script">Z Probe End Script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#homing-options">Homing Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bed-center-at-0-0">Bed Center at 0,0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manual-home-position">Manual Home Position</a></li>
<li class="toctree-l3"><a class="reference internal" href="#z-safe-homing">Z Safe Homing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#homing-speed">Homing Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bed-skew-compensation">Bed Skew Compensation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#additonal-features">Additonal Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#eeprom">EEPROM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#eeprom-options">EEPROM Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#host-keepalive">Host Keepalive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#free-memory-watcher">Free Memory Watcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inch-units">Inch Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-units">Temperature Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lcd-material-presets-em-class-fa-fa-sticky-note-o-text-info-aria-hidden-true-em-em-class-fa-fa-desktop-text-info-aria-hidden-true-em">LCD Material Presets <em class="fa fa-sticky-note-o text-info" aria-hidden="true"></em> <em class="fa fa-desktop text-info" aria-hidden="true"></em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nozzle-park">Nozzle Park</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nozzle-clean">Nozzle Clean</a></li>
<li class="toctree-l3"><a class="reference internal" href="#print-job-timer">Print Job Timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#print-counter">Print Counter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lcd-language">LCD Language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#user-interface-language">User Interface Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hd44780-character-set">HD44780 Character Set</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lcd-type">LCD Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sd-card">SD Card</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spi-speed">SPI Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enable-crc">Enable CRC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#encoder">Encoder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#encoder-resolution">Encoder Resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#encoder-direction">Encoder Direction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#speaker">Speaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lcd-controller">LCD Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#character-lcds">Character LCDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graphical-lcds">Graphical LCDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keypads">Keypads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2c-character-lcds">I2C Character LCDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2c-graphical-lcds">I2C Graphical LCDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fan-pwm">Fan PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-status-leds">Temperature Status LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#photo-pin">Photo Pin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#skeinforge-arc-fix">SkeinForge Arc Fix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extra-features">Extra Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fast-pwm-fan">Fast PWM Fan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fan-software-pwm">Fan Software PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Temperature Status LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#skeinforge-arc-g-code-correction">SkeinForge ARC G-code correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#paste-extruder">Paste Extruder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rgb-color-leds">RGB Color LEDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adafruit-neopixel-led-driver">Adafruit Neopixel LED Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#printer-event-leds">Printer Event LEDs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#servos">Servos</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#number-of-servos">Number of Servos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#servo-deactivation">Servo Deactivation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#configuration-adv-h"><code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#temperature-options">Temperature Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#custom-thermistor-1000-parameters">Custom Thermistor 1000 Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heated-chamber">Heated Chamber</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bang-bang-bed-heating">Bang-Bang Bed Heating</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thermal-protection-settings">Thermal Protection Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hotend-thermal-protection">Hotend Thermal Protection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bed-thermal-protection">Bed Thermal Protection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#heated-chamber-thermal-protection">Heated Chamber Thermal Protection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pid-extrusion-scaling">PID Extrusion Scaling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-temperature">Automatic Temperature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-report-adc">Temperature Report ADC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#high-temperature-thermistors">High Temperature Thermistors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ad595-ad8495">AD595 / AD8495</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extruder-runout-prevention">Extruder Runout Prevention</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cooling-fans">Cooling Fans</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#controller-fan">Controller Fan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pwm-fans-kickstart">PWM Fans Kickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pwm-fans-minimum-and-maximum-speeds">PWM Fans Minimum and maximum Speeds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extruder-auto-cooling-fans">Extruder Auto-Cooling Fans</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-cooling-fan-multiplexer">Part-Cooling Fan Multiplexer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#case-light">Case Light</a></li>
<li class="toctree-l2"><a class="reference internal" href="#endstops-always-on">Endstops Always On</a></li>
<li class="toctree-l2"><a class="reference internal" href="#z-late-enable">Z Late Enable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#external-closed-loop-controller">External Closed Loop Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dual-steppers-dual-endstops">Dual Steppers / Dual Endstops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dual-x-carriage">Dual X Carriage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solenoid">Solenoid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#homing">Homing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">BLTouch</a></li>
<li class="toctree-l2"><a class="reference internal" href="#z-steppers-auto-alignment">Z Steppers Auto-Alignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#todo-options">TODO Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sd-card-extras">SD Card Extras</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sd-detect-inverted">SD Detect Inverted</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-finished-stepper-release">SD Finished Stepper Release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-menu-autostart">SD Menu Autostart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-card-sorting">SD Card Sorting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recent-first">Recent First</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alpha-sort">Alpha Sort</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#progress-bar-character-lcd">Progress Bar (character LCD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-print-progress">Set Print Progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#long-filename-host-support">Long Filename Host Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scroll-long-filenames">Scroll Long Filenames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#abort-on-endstop-hit">Abort on Endstop Hit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reprint-last-file">Reprint Last File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#graphical-display-extras">Graphical Display Extras</a></li>
<li class="toctree-l2"><a class="reference internal" href="#watchdog">Watchdog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#watchdog-manual-reset">Watchdog Manual Reset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#babystepping">Babystepping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linear-advance">Linear Advance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delta-scara-limits">Delta / Scara Limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-mesh-bounds">Custom Mesh Bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enhanced-g-code">Enhanced G-code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#g2-g3-arc-support">G2/G3 Arc Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#g5-bezier-curve">G5 Bezier Curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="#g38-2-g38-3-probe-target">G38.2/G38.3 Probe Target</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#minimum-steps-per-segment">Minimum Steps Per Segment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimum-stepper-pulse">Minimum Stepper Pulse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallel-heaters">Parallel Heaters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#buffer-hosts">Buffer / Hosts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#block-buffer">Block Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serial-command-buffer">Serial Command Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transmit-to-host-buffer">Transmit to Host Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#host-receive-buffer">Host Receive Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sd-transfer-stats">SD Transfer Stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emergency-parser">Emergency Parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="#no-timeouts">No Timeouts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-ok">Advanced OK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#firmware-retraction">Firmware Retraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extra-fan-speed">Extra Fan Speed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-pause">Advanced Pause</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">Stepper Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#trinamic-tmc26x">Trinamic TMC26X</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trinamic-tmc2130">Trinamic TMC2130</a></li>
<li class="toctree-l3"><a class="reference internal" href="#l6470-drivers">L6470 Drivers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#experimental-i2c-bus">Experimental i2c Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spindle-laser">Spindle / Laser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filament-width-sensor">Filament Width Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cnc-coordinate-systems">CNC Coordinate Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pins-debugging">Pins Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#temperature-auto-report">Temperature Auto-Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extended-capabilities-report">Extended Capabilities Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#volumetric-mode-default">Volumetric Mode Default</a></li>
<li class="toctree-l2"><a class="reference internal" href="#no-workspace-offsets">No Workspace Offsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#proportional-font-ratio">Proportional Font Ratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#faster-g-code-parser">Faster G-code Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#even-more-options">Even More Options…</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prusa-mmu2-advanced-settings">Prusa MMU2 advanced settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#serial-connection">Serial connection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bit-avr-boards">8-bit AVR boards</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bit-boards">32-bit boards</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mmu2-reset">MMU2 Reset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v-mode">12V mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filament-runout-handling">Filament runout handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lcd-menu">LCD Menu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filament-load-unload-settings">Filament load/unload settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#load-to-nozzle">Load to nozzle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unload-filament">Unload filament</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eject-filament">Eject filament</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#debug">Debug</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mydocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Compiler Directives</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Marlin/marlin.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><img alt="image-20200213151030103" src="https://github.com/Apex-yuan/BalanceCar/blob/cascade_pid/Datum/Controller.jpg?raw=true" /></p>
<p><img alt="image-20200213151030103" src="https://github.com/Apex-yuan/BalanceCar/blob/cascade_pid/Datum/Controller.jpg" /></p>
<p><img alt="啊飒飒" src="https://blog.csdn.net/xiaoyuanwuhui/article/details/104265514?raw=true" /></p>
<p>Marlin is a huge C++ program composed of many files, but here we’ll only be talking about the two files that contain all of Marlin’s compile-time configuration options:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> contains the core settings for the hardware, language and controller selection, and settings for the most common features and components.</li>
<li><code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code> serves up more detailed customization options, add-ons, experimental features, and other esoterica.</li>
</ul>
<p>These two files contain all of Marlin’s build-time configuration options. Simply edit or replace these files before building and uploading Marlin to the board. A variety of pre-built configurations are included in the <code class="docutils literal notranslate"><span class="pre">config/examples</span></code> folder to get you started.</p>
<p>To use configurations from an earlier version of Marlin, try dropping them into the newer Marlin and building. As part of the build process, the <code class="docutils literal notranslate"><span class="pre">SanityCheck.h</span></code> will print helpful error messages explaining what needs to be changed.</p>
<p>Also a tool like <a class="reference external" href="http://winmerge.org/">Winmerge</a> is usefull to compare the old file to the new one and you can copy over the settings.</p>
<div class="section" id="compiler-directives">
<h1>Compiler Directives<a class="headerlink" href="#compiler-directives" title="Permalink to this headline">¶</a></h1>
<p>Marlin is configured using C++ compiler directives. This allows Marlin to leverage the C++ preprocessor and include only the code and data needed for the enabled options. This results in the smallest possible binary. A build of Marlin can range from 50K to over 230K in size.</p>
<p>Settings can be enabled, disabled, and assigned values using C preprocessor syntax like so:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define THIS_IS_ENABLED    </span><span class="c1">// this switch is enabled</span>
<span class="c1">//#define THIS_IS_DISABLED // this switch is disabled</span>
<span class="cp">#define OPTION_VALUE 22    </span><span class="c1">// this setting is &quot;22&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="sources-of-documentation">
<h1>Sources of Documentation<a class="headerlink" href="#sources-of-documentation" title="Permalink to this headline">¶</a></h1>
<p>The most authoritative source on configuration details will always be <strong>the configuration files themselves</strong>. They provide good descriptions of each option, and are themselves the source for most of the information presented here.</p>
<p>If you’ve never configured and calibrated a 3D Printer before, here are some good resources:</p>
<ul class="simple">
<li><a class="reference external" href="http://reprap.org/wiki/Calibration">Calibration</a></li>
<li><a class="reference external" href="http://youtu.be/wAL9d7FgInk">Calibrating Steps-per-unit</a></li>
<li><a class="reference external" href="http://calculator.josefprusa.cz">Prusa’s calculators</a></li>
<li><a class="reference external" href="http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide">Triffid Hunter’s Calibration Guide</a></li>
<li><a class="reference external" href="http://www.thingiverse.com/thing:5573">The Essential Calibration Set</a></li>
<li><a class="reference external" href="https://sites.google.com/site/repraplogphase/calibration-of-your-reprap">Calibration of your RepRap</a></li>
<li><a class="reference external" href="http://www.thingiverse.com/thing:298812">XY 20 mm Calibration Box</a></li>
<li><a class="reference external" href="http://reprap.org/wiki/G-code">G-code reference</a></li>
<li><a class="reference external" href="https://github.com/cabbagecreek/Marlin3DprinterTool">Marlin3DprinterTool</a></li>
</ul>
</div>
<div class="section" id="before-you-begin">
<h1>Before You Begin<a class="headerlink" href="#before-you-begin" title="Permalink to this headline">¶</a></h1>
<p>To get your core <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> settings right you’ll need to know the following things about your printer:</p>
<ul class="simple">
<li>Printer style, such as Cartesian, Delta, CoreXY, or SCARA</li>
<li>Driver board, such as RAMPS, RUMBA, Teensy, etc.</li>
<li>Number of extruders</li>
<li>Steps-per-mm for XYZ axes and extruders (can be tuned later)</li>
<li>Endstop positions</li>
<li>Thermistors and/or thermocouples</li>
<li>Probes and probing settings</li>
<li>LCD controller brand and model</li>
<li>Add-ons and custom components</li>
</ul>
</div>
<div class="section" id="configuration-h">
<h1><code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code><a class="headerlink" href="#configuration-h" title="Permalink to this headline">¶</a></h1>
<p>The core and default settings of Marlin live in the <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> file. Most of these settings are fixed. Once you compile Marlin, that’s it. To change them you need to re-compile. However, several items in <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> only provide defaults -factory settings- that can be changed via the user interface, stored on EEPROM and reloaded or restored to initial values.</p>
<p>{% alert info %}
Settings that can be changed and saved to EEPROM are marked with <em class="fa fa-sticky-note-o" aria-hidden="true"></em>. Options marked with <em class="fa fa-desktop" aria-hidden="true"></em> can be changed from the LCD controller.</p>
<hr class="docutils" />
<p>Settings saved in EEPROM persist across reboots and still remain after flashing new firmware, so always send <code class="docutils literal notranslate"><span class="pre">M502</span></code>, <code class="docutils literal notranslate"><span class="pre">M500</span></code> (or “Reset EEPROM” from the LCD) after flashing.
{% endalert %}</p>
<p>This section follows the order of settings as they appear. The order isn’t always logical, so “Search In Page” may be helpful. We’ve tried to keep descriptions brief and to the point. For more detailed information on various topics, please read the main articles and follow the links provided in the option descriptions.</p>
<div class="section" id="configuration-versioning">
<h2>Configuration versioning<a class="headerlink" href="#configuration-versioning" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define CONFIGURATION_H_VERSION 020000</span>
</pre></div>
</div>
<p>Marlin now checks for a configuration version and won’t compile without this setting. If you want to upgrade from an earlier version of Marlin, add this line to your old configuration file. During compilation, Marlin will throw errors explaining what needs to be changed.</p>
</div>
<div class="section" id="firmware-info">
<h2>Firmware Info<a class="headerlink" href="#firmware-info" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define STRING_CONFIG_H_AUTHOR &quot;(none, default config)&quot;</span>

<span class="cp">#define SHOW_BOOTSCREEN</span>
<span class="cp">#define SHOW_CUSTOM_BOOTSCREEN</span>
<span class="cp">#define CUSTOM_STATUS_SCREEN_IMAGE</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">STRING_CONFIG_H_AUTHOR</span></code> is shown in the Marlin startup message, and is meant to identify the author (and optional variant) of the firmware. Use this setting as a way to uniquely identify all your custom configurations. The startup message is printed when connecting to host software, when the board reboots and M115.</li>
<li><code class="docutils literal notranslate"><span class="pre">SHOW_BOOTSCREEN</span></code> enables the boot screen for LCD controllers.</li>
<li><code class="docutils literal notranslate"><span class="pre">SHOW_CUSTOM_BOOTSCREEN</span></code> shows the bitmap in Marlin/_Bootscreen.h on startup.</li>
<li><code class="docutils literal notranslate"><span class="pre">CUSTOM_STATUS_SCREEN_IMAGE</span></code> shows the bitmap in Marlin/_Statusscreen.h on the status screen.</li>
</ul>
</div>
<div class="section" id="hardware-info">
<h2>Hardware Info<a class="headerlink" href="#hardware-info" title="Permalink to this headline">¶</a></h2>
<div class="section" id="serial-port">
<h3>Serial Port<a class="headerlink" href="#serial-port" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SERIAL_PORT 0</span>
</pre></div>
</div>
<p>The index of the on-board serial port that will be used for primary host communication. Change this if, for example, you need to connect a wireless adapter to non-default port pins.</p>
<p>{% alert info %}
The first serial port (-1 or 0) will always be used by the Arduino bootloader regardless of this setting.
{% endalert %}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SERIAL_PORT_2 -1</span>
</pre></div>
</div>
<p>Enable this if your board has a secondary serial port.</p>
<p>{% alert info %}
Serial port -1 is the USB emulated serial port, if available.
{% endalert %}</p>
</div>
<div class="section" id="baud-rate">
<h3>Baud Rate<a class="headerlink" href="#baud-rate" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define BAUDRATE 115200</span>
</pre></div>
</div>
<p>The serial communication speed of the printer should be as fast as it can manage without generating errors. In most cases 115200 gives a good balance between speed and stability. Start with 250000 and only go lower if “line number” and “checksum” errors start to appear. Note that some boards (e.g., a temperamental Sanguinololu clone based on the ATMEGA1284P) may not be able to handle a baudrate over 57600. Allowed values: 2400, 9600, 19200, 38400, 57600, 115200, 250000.</p>
</div>
<div class="section" id="bluetooth">
<h3>Bluetooth<a class="headerlink" href="#bluetooth" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define BLUETOOTH</span>
</pre></div>
</div>
<p>Enable the Bluetooth serial interface. For boards based on the AT90USB.</p>
<p><img alt="Motherboard" src="assets/images/config/motherboard.jpg" />{: .floater.framed}</p>
</div>
<div class="section" id="motherboard">
<h3>Motherboard<a class="headerlink" href="#motherboard" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MOTHERBOARD BOARD_RAMPS_14_EFB</span>
</pre></div>
</div>
<p>The most important setting is Marlin is the motherboard. The firmware needs to know what board it will be running on so it can assign the right functions to all pins and take advantage of the full capabilities of the board. Setting this incorrectly will lead to unpredictable results.</p>
<p>Using <a class="reference external" href="/docs/hardware/boards.html"><code class="docutils literal notranslate"><span class="pre">boards.h</span></code></a> as a reference, replace <code class="docutils literal notranslate"><span class="pre">BOARD_RAMPS_14_EFB</span></code> with your board’s ID. The <a class="reference external" href="/docs/hardware/boards.html"><code class="docutils literal notranslate"><span class="pre">boards.h</span></code></a> file has the most up-to-date listing of supported boards, so check it first if you don’t see yours listed there.</p>
<p>{% alert info %}
The Sanguino board requires adding “Sanguino” support to Arduino IDE. Open <code class="docutils literal notranslate"><span class="pre">Preferences</span></code> and locate the <code class="docutils literal notranslate"><span class="pre">Additional</span> <span class="pre">Boards</span> <span class="pre">Manager</span> <span class="pre">URLs</span></code> field. Copy and paste <a class="reference external" href="https://raw.githubusercontent.com/Lauszus/Sanguino/master/package_lauszus_sanguino_index.json">this source URL</a>. Then use <code class="docutils literal notranslate"><span class="pre">Tools</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Boards</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Boards</span> <span class="pre">Manager</span></code> to install “Sanguino” from the list. An internet connection is required. (Thanks to “Dust’s RepRap Blog” for the tip.)
{% endalert %}</p>
</div>
<div class="section" id="custom-machine-name">
<h3>Custom Machine Name<a class="headerlink" href="#custom-machine-name" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define CUSTOM_MACHINE_NAME &quot;3D Printer&quot;</span>
</pre></div>
</div>
<p>This is the name of your printer as displayed on the LCD and by <a class="reference external" href="/docs/gcode/M115.html"><code class="docutils literal notranslate"><span class="pre">M115</span></code></a>. For example, if you set this to “My Delta” the LCD will display “My Delta ready” when the printer starts up.</p>
</div>
<div class="section" id="machine-uuid">
<h3>Machine UUID<a class="headerlink" href="#machine-uuid" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MACHINE_UUID &quot;00000000-0000-0000-0000-000000000000&quot;</span>
</pre></div>
</div>
<p>A unique ID for your 3D printer. A suitable unique ID can be generated randomly at <a class="reference external" href="https://www.uuidtools.com/generate/v4">uuidtools.com</a>. Some host programs and slicers may use this identifier to differentiate between specific machines on your network.</p>
</div>
</div>
<div class="section" id="extruder-info">
<h2>Extruder Info<a class="headerlink" href="#extruder-info" title="Permalink to this headline">¶</a></h2>
<p><img alt="Extruders" src="assets/images/config/extruders.png" />{: .floater.framed}</p>
<div class="section" id="extruders">
<h3>Extruders<a class="headerlink" href="#extruders" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define EXTRUDERS 1</span>
</pre></div>
</div>
<p>This value, from 0 to 6, defines how many extruders (or E steppers) the printer has. By default Marlin will assume separate nozzles all moving together on a single carriage. If you have a single nozzle, a switching extruder, a mixing extruder, or dual X carriages, specify that below.</p>
<p>This value should be set to the total number of E stepper motors on the machine, even if there’s only a single nozzle.</p>
</div>
<div class="section" id="filament-diameter">
<h3>Filament Diameter<a class="headerlink" href="#filament-diameter" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00</span>
</pre></div>
</div>
<p>This is the “nominal” filament diameter as written on the filament spool (1.75, 2.85, 3.0). If you typically use 1.75mm filament, but physically measure the diameter as 1.70mm, you should still use 1.75 if that’s what you have set in your slicer.</p>
<p>This value is used by Marlin to compensate for Filament Width when printing in volumetric mode (See <code class="docutils literal notranslate"><span class="pre">M200</span></code>), and by the Unified Bed Leveling command <a class="reference external" href="/docs/gcode/G026.html"><code class="docutils literal notranslate"><span class="pre">G26</span></code></a> when printing a test grid.</p>
<p>You can override this value with <a class="reference external" href="/docs/gcode/M404.html"><code class="docutils literal notranslate"><span class="pre">M404</span> <span class="pre">W</span></code></a>.</p>
</div>
<div class="section" id="single-nozzle">
<h3>Single Nozzle<a class="headerlink" href="#single-nozzle" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SINGLENOZZLE</span>
</pre></div>
</div>
<p>Enable <code class="docutils literal notranslate"><span class="pre">SINGLENOZZLE</span></code> if you have an E3D Cyclops or any other “multi-extruder” system that shares a single nozzle. In a single-nozzle setup, only one filament drive is engaged at a time, and each needs to retract before the next filament can be loaded and begin purging and extruding.</p>
<p>###Průša MK2 Single Nozzle Multi-Material Multiplexer</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MK2_MULTIPLEXER</span>
</pre></div>
</div>
<p>Enabling <code class="docutils literal notranslate"><span class="pre">MK2_MULTIPLEXER</span></code> allows one stepper driver on a control board to drive two to eight stepper motors, one at a time.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define E_MUX0_PIN 40  // Always Required</span>
<span class="c1">//#define E_MUX1_PIN 42  // Needed for 3 to 8 inputs</span>
<span class="c1">//#define E_MUX2_PIN 44  // Needed for 5 to 8 inputs</span>
</pre></div>
</div>
<p>Override the default DIO selector pins.</p>
</div>
<div class="section" id="prusa-mmu2">
<h3>Prusa MMU2<a class="headerlink" href="#prusa-mmu2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PRUSA_MMU2</span>
</pre></div>
</div>
<p>Enable support for the Prusa Multi-material unit 2. This requires a free serial port on your printer board. To use the MMU2 you also have to</p>
<ul class="simple">
<li>enable <a class="reference external" href="#nozzle-park">NOZZLE_PARK_FEATURE</a></li>
<li>set <a class="reference external" href="#extruders">EXTRUDERS</a> = 5</li>
</ul>
<p>All details are configured in [Configuration_adv.h]</p>
</div>
<div class="section" id="switching-extruder">
<h3>Switching Extruder<a class="headerlink" href="#switching-extruder" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SWITCHING_EXTRUDER</span>
<span class="cp">#if ENABLED(SWITCHING_EXTRUDER)</span>
  <span class="cp">#define SWITCHING_EXTRUDER_SERVO_NR 0</span>
  <span class="cp">#define SWITCHING_EXTRUDER_SERVO_ANGLES { 0, 90 } </span><span class="c1">// Angles for E0, E1[, E2, E3]</span>
  <span class="cp">#if EXTRUDERS &gt; 3</span>
    <span class="cp">#define SWITCHING_EXTRUDER_E23_SERVO_NR 1</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>A Switching Extruder is a dual extruder that uses a single stepper motor to drive two filaments, but only one at a time. The servo is used to switch the side of the extruder that will drive the filament. The E motor also reverses direction for the second filament. Set the servo sub-settings above according to your particular extruder’s setup instructions.</p>
</div>
<div class="section" id="switching-nozzle">
<h3>Switching Nozzle<a class="headerlink" href="#switching-nozzle" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SWITCHING_NOZZLE</span>
<span class="cp">#if ENABLED(SWITCHING_NOZZLE)</span>
  <span class="cp">#define SWITCHING_NOZZLE_SERVO_NR 0</span>
  <span class="c1">//#define SWITCHING_NOZZLE_E1_SERVO_NR 1          // If two servos are used, the index of the second</span>
  <span class="cp">#define SWITCHING_NOZZLE_SERVO_ANGLES { 0, 90 }   </span><span class="c1">// Angles for E0, E1 (single servo) or lowered/raised (dual servo)</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>A Switching Nozzle is a carriage with 2 nozzles. A servo is used to move one of the nozzles up and down. The servo either lowers the active nozzle or raises the inactive one. Set the servo sub-settings above according to your particular extruder’s setup instructions.</p>
</div>
<div class="section" id="parking-extruder-with-solenoid">
<h3>Parking extruder (with solenoid)<a class="headerlink" href="#parking-extruder-with-solenoid" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PARKING_EXTRUDER</span>
</pre></div>
</div>
<p>Two separate X-carriages with extruders that connect to a moving part via a solenoid docking mechanism. Requires SOL1_PIN and SOL2_PIN.</p>
</div>
<div class="section" id="parking-extruder-with-magnets">
<h3>Parking extruder (with magnets)<a class="headerlink" href="#parking-extruder-with-magnets" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MAGNETIC_PARKING_EXTRUDER</span>
</pre></div>
</div>
<p>Two separate X-carriages with extruders that connect to a moving part via a magnetic docking mechanism using movements and no solenoid</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if EITHER(PARKING_EXTRUDER, MAGNETIC_PARKING_EXTRUDER)</span>

  <span class="cp">#define PARKING_EXTRUDER_PARKING_X { -78, 184 }     </span><span class="c1">// X positions for parking the extruders</span>
  <span class="cp">#define PARKING_EXTRUDER_GRAB_DISTANCE 1            </span><span class="c1">// (mm) Distance to move beyond the parking point to grab the extruder</span>
  <span class="c1">//#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381</span>

  <span class="cp">#if ENABLED(PARKING_EXTRUDER)</span>

    <span class="cp">#define PARKING_EXTRUDER_SOLENOIDS_INVERT           </span><span class="c1">// If enabled, the solenoid is NOT magnetized with applied voltage</span>
    <span class="cp">#define PARKING_EXTRUDER_SOLENOIDS_PINS_ACTIVE LOW  </span><span class="c1">// LOW or HIGH pin signal energizes the coil</span>
    <span class="cp">#define PARKING_EXTRUDER_SOLENOIDS_DELAY 250        </span><span class="c1">// (ms) Delay for magnetic field. No delay if 0 or not defined.</span>
    <span class="c1">//#define MANUAL_SOLENOID_CONTROL                   // Manual control of docking solenoids with M380 S / M381</span>

  <span class="cp">#elif ENABLED(MAGNETIC_PARKING_EXTRUDER)</span>

    <span class="cp">#define MPE_FAST_SPEED      9000      </span><span class="c1">// (mm/m) Speed for travel before last distance point</span>
    <span class="cp">#define MPE_SLOW_SPEED      4500      </span><span class="c1">// (mm/m) Speed for last distance travel to park and couple</span>
    <span class="cp">#define MPE_TRAVEL_DISTANCE   10      </span><span class="c1">// (mm) Last distance point</span>
    <span class="cp">#define MPE_COMPENSATION       0      </span><span class="c1">// Offset Compensation -1 , 0 , 1 (multiplier) only for coupling</span>

  <span class="cp">#endif</span>

<span class="cp">#endif</span>
</pre></div>
</div>
<p>Adjust the relavant settings to your specifications for use with either <code class="docutils literal notranslate"><span class="pre">PARKING_EXTRUDER</span></code> or <code class="docutils literal notranslate"><span class="pre">MAGNETIC_PARKING_EXTRUDER</span></code>.</p>
</div>
<div class="section" id="switching-toolhead">
<h3>Switching Toolhead<a class="headerlink" href="#switching-toolhead" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SWITCHING_TOOLHEAD</span>
</pre></div>
</div>
<p>Support for swappable and dockable toolheads, such as the E3D Tool Changer. Toolheads are locked with a servo.</p>
</div>
<div class="section" id="magnetic-switching-toolhead">
<h3>Magnetic Switching Toolhead<a class="headerlink" href="#magnetic-switching-toolhead" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MAGNETIC_SWITCHING_TOOLHEAD</span>
</pre></div>
</div>
<p>Support swappable and dockable toolheads with a magnetic docking mechanism using movement and no servo.</p>
</div>
<div class="section" id="electromagnetic-switching-toolhead">
<h3>Electromagnetic Switching Toolhead<a class="headerlink" href="#electromagnetic-switching-toolhead" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ELECTROMAGNETIC_SWITCHING_TOOLHEAD</span>
</pre></div>
</div>
<p>For CoreXY / HBot kinematics, toolheads are parked at one edge and held with an electromagnet. Supports more than 2 Toolheads. See https://youtu.be/JolbsAKTKf4</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ANY(SWITCHING_TOOLHEAD, MAGNETIC_SWITCHING_TOOLHEAD, ELECTROMAGNETIC_SWITCHING_TOOLHEAD)</span>
  <span class="cp">#define SWITCHING_TOOLHEAD_Y_POS          235         </span><span class="c1">// (mm) Y position of the toolhead dock</span>
  <span class="cp">#define SWITCHING_TOOLHEAD_Y_SECURITY      10         </span><span class="c1">// (mm) Security distance Y axis</span>
  <span class="cp">#define SWITCHING_TOOLHEAD_Y_CLEAR         60         </span><span class="c1">// (mm) Minimum distance from dock for unobstructed X axis</span>
  <span class="cp">#define SWITCHING_TOOLHEAD_X_POS          { 215, 0 }  </span><span class="c1">// (mm) X positions for parking the extruders</span>
  <span class="cp">#if ENABLED(SWITCHING_TOOLHEAD)</span>
    <span class="cp">#define SWITCHING_TOOLHEAD_SERVO_NR       2         </span><span class="c1">// Index of the servo connector</span>
    <span class="cp">#define SWITCHING_TOOLHEAD_SERVO_ANGLES { 0, 180 }  </span><span class="c1">// (degrees) Angles for Lock, Unlock</span>
  <span class="cp">#elif ENABLED(MAGNETIC_SWITCHING_TOOLHEAD)</span>
    <span class="cp">#define SWITCHING_TOOLHEAD_Y_RELEASE      5         </span><span class="c1">// (mm) Security distance Y axis</span>
    <span class="cp">#define SWITCHING_TOOLHEAD_X_SECURITY   { 90, 150 } </span><span class="c1">// (mm) Security distance X axis (T0,T1)</span>
    <span class="c1">//#define PRIME_BEFORE_REMOVE                       // Prime the nozzle before release from the dock</span>
    <span class="cp">#if ENABLED(PRIME_BEFORE_REMOVE)</span>
      <span class="cp">#define SWITCHING_TOOLHEAD_PRIME_MM           20  </span><span class="c1">// (mm)   Extruder prime length</span>
      <span class="cp">#define SWITCHING_TOOLHEAD_RETRACT_MM         10  </span><span class="c1">// (mm)   Retract after priming length</span>
      <span class="cp">#define SWITCHING_TOOLHEAD_PRIME_FEEDRATE    300  </span><span class="c1">// (mm/m) Extruder prime feedrate</span>
      <span class="cp">#define SWITCHING_TOOLHEAD_RETRACT_FEEDRATE 2400  </span><span class="c1">// (mm/m) Extruder retract feedrate</span>
    <span class="cp">#endif</span>
  <span class="cp">#elif ENABLED(ELECTROMAGNETIC_SWITCHING_TOOLHEAD)</span>
    <span class="cp">#define SWITCHING_TOOLHEAD_Z_HOP          2         </span><span class="c1">// (mm) Z raise for switching</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Adjust the relavant settings to your specifications for use with <code class="docutils literal notranslate"><span class="pre">SWITCHING_TOOLHEAD</span></code>, <code class="docutils literal notranslate"><span class="pre">PARKING_EXTRUDER</span></code> or <code class="docutils literal notranslate"><span class="pre">MAGNETIC_PARKING_EXTRUDER</span></code>.</p>
</div>
<div class="section" id="mixing-extruder">
<h3>Mixing Extruder<a class="headerlink" href="#mixing-extruder" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MIXING_EXTRUDER</span>
<span class="cp">#if ENABLED(MIXING_EXTRUDER)</span>
  <span class="cp">#define MIXING_STEPPERS 2        </span><span class="c1">// Number of steppers in your mixing extruder</span>
  <span class="cp">#define MIXING_VIRTUAL_TOOLS 16  </span><span class="c1">// Use the Virtual Tool method with [`M163`](/docs/gcode/M163.html) and [`M164`](/docs/gcode/M164.html)</span>
  <span class="c1">//#define DIRECT_MIXING_IN_G1    // Allow ABCDHI mix factors in [`G1`](/docs/gcode/G000-G001.html) movement commands</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>A Mixing Extruder uses two or more stepper motors to drive multiple filaments into a mixing chamber, with the mixed filaments extruded from a single nozzle. This option adds the ability to set a mixture, to save mixtures, and to recall mixtures using the <code class="docutils literal notranslate"><span class="pre">T</span></code> command. The extruder still uses a single E axis, while the current mixture is used to determine the proportion of each filament to use. An “experimental” <a class="reference external" href="/docs/gcode/G000-G001.html"><code class="docutils literal notranslate"><span class="pre">G1</span></code></a> direct mixing option is included.</p>
<p><code class="docutils literal notranslate"><span class="pre">MIXING_EXTRUDER</span></code> enables <a class="reference external" href="/docs/gcode/M163.html"><code class="docutils literal notranslate"><span class="pre">M163</span></code></a> - set mix factor, <a class="reference external" href="/docs/gcode/M164.html"><code class="docutils literal notranslate"><span class="pre">M164</span></code></a> - save mix, and <a class="reference external" href="/docs/gcode/M165.html"><code class="docutils literal notranslate"><span class="pre">M165</span></code></a> - set mix.</p>
</div>
<div class="section" id="hotend-offsets">
<h3>Hotend Offsets<a class="headerlink" href="#hotend-offsets" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define HOTEND_OFFSET_X { 0.0, 20.00 } // (mm) relative X-offset for each nozzle</span>
<span class="c1">//#define HOTEND_OFFSET_Y { 0.0, 5.00 }  // (mm) relative Y-offset for each nozzle</span>
<span class="c1">//#define HOTEND_OFFSET_Z { 0.0, 0.00 }  // (mm) relative Z-offset for each nozzle</span>
</pre></div>
</div>
<p>Hotend offsets are needed if your extruder has more than one nozzle. These values specify the offset from the first nozzle to each nozzle. So the first element is always set to 0.0. The next element corresponds to the next nozzle, and so on. Add more offsets if you have 3 or more nozzles.</p>
</div>
</div>
<div class="section" id="power-supply">
<h2>Power Supply<a class="headerlink" href="#power-supply" title="Permalink to this headline">¶</a></h2>
<p><img alt="ATX" src="assets/images/config/atx.jpg" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PSU_CONTROL</span>
<span class="c1">//#define PSU_NAME &quot;Power Supply&quot;</span>

<span class="cp">#if ENABLED(PSU_CONTROL)</span>
  <span class="cp">#define PSU_ACTIVE_HIGH false </span><span class="c1">// Set &#39;false&#39; for ATX (1), &#39;true&#39; for X-Box (2)</span>

  <span class="c1">//#define PS_DEFAULT_OFF      // Keep power off until enabled directly with M80</span>

  <span class="c1">//#define AUTO_POWER_CONTROL  // Enable automatic control of the PS_ON pin</span>
  <span class="cp">#if ENABLED(AUTO_POWER_CONTROL)</span>
    <span class="cp">#define AUTO_POWER_FANS           </span><span class="c1">// Turn on PSU if fans need power</span>
    <span class="cp">#define AUTO_POWER_E_FANS</span>
    <span class="cp">#define AUTO_POWER_CONTROLLERFAN</span>
    <span class="cp">#define AUTO_POWER_CHAMBER_FAN</span>
    <span class="c1">//#define AUTO_POWER_E_TEMP        50 // (°C) Turn on PSU over this temperature</span>
    <span class="c1">//#define AUTO_POWER_CHAMBER_TEMP  30 // (°C) Turn on PSU over this temperature</span>
    <span class="cp">#define POWER_TIMEOUT 30</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>This option allows the controller board to switch the power supply 12v on and off with <a class="reference external" href="/docs/gcode/M080.html"><code class="docutils literal notranslate"><span class="pre">M80</span></code></a> and <a class="reference external" href="/docs/gcode/M081.html"><code class="docutils literal notranslate"><span class="pre">M81</span></code></a>. Requires <code class="docutils literal notranslate"><span class="pre">PS_ON_PIN</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PS_DEFAULT_OFF</span>
</pre></div>
</div>
<p>Enable this if you don’t want the power supply to switch on when you turn on the printer. This is for printers that have dual power supplies. For instance some setups have a separate power supply for the heaters. In this situation you can save power by leaving the power supply off until needed. If you don’t know what this is leave it.</p>
<p><img alt="Thermometer" src="assets/images/config/thermal.jpg" />{: .floater}</p>
</div>
<div class="section" id="thermal-settings">
<h2>Thermal Settings<a class="headerlink" href="#thermal-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="temperature-sensors">
<h3>Temperature Sensors<a class="headerlink" href="#temperature-sensors" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TEMP_SENSOR_0 1</span>
<span class="cp">#define TEMP_SENSOR_1 0</span>
<span class="cp">#define TEMP_SENSOR_2 0</span>
<span class="cp">#define TEMP_SENSOR_3 0</span>
<span class="cp">#define TEMP_SENSOR_4 0</span>
<span class="cp">#define TEMP_SENSOR_5 0</span>
<span class="cp">#define TEMP_SENSOR_BED 0</span>
<span class="cp">#define TEMP_SENSOR_CHAMBER 0</span>
</pre></div>
</div>
<p>Temperature sensors are vital components in a 3D printer. Fast and accurate sensors ensure that the temperature will be well controlled, to keep plastic flowing smoothly and to prevent mishaps. Use these settings to specify the hotend and bed temperature sensors. Every 3D printer will have a hotend thermistor, and most will have a bed thermistor.</p>
<p>The listing above these options in <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> contains all the thermistors and thermocouples that Marlin knows and supports. Try to match your brand and model with one of the sensors in the list. If no match is found, use a profile for a similar sensor of the same brand, or try “1” – the generic profile. Each profile is calibrated for a particular temperature sensor so it’s important to be as precise as possible.</p>
<p>{% alert warning %}
It is crucial to obtain accurate temperature measurements. As a last resort, use 100k thermistor for <code class="docutils literal notranslate"><span class="pre">TEMP_SENSOR</span></code> and <code class="docutils literal notranslate"><span class="pre">TEMP_SENSOR_BED</span></code> but be highly skeptical of the temperature accuracy.
{% endalert %}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Dummy thermistor constant temperature readings, for use with 998 and 999</span>
<span class="cp">#define DUMMY_THERMISTOR_998_VALUE 25</span>
<span class="cp">#define DUMMY_THERMISTOR_999_VALUE 100</span>
</pre></div>
</div>
<p>Marlin provides two dummy sensors for testing purposes. Set their constant temperature readings here.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define TEMP_SENSOR_1_AS_REDUNDANT</span>
<span class="cp">#define MAX_REDUNDANT_TEMP_SENSOR_DIFF 10</span>
</pre></div>
</div>
<p>Enable this option to use sensor 1 as a redundant sensor for sensor 0. This is an advanced way to protect against temp sensor failure. If the temperature difference between sensors exceeds <code class="docutils literal notranslate"><span class="pre">MAX_REDUNDANT_TEMP_SENSOR_DIFF</span></code> Marlin will abort the print and disable the heater.</p>
</div>
<div class="section" id="temperature-stability">
<h3>Temperature Stability<a class="headerlink" href="#temperature-stability" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TEMP_RESIDENCY_TIME 10  </span><span class="c1">// (seconds)</span>
<span class="cp">#define TEMP_HYSTERESIS 3       </span><span class="c1">// (degC) range of +/- temperatures considered &quot;close&quot; to the target one</span>
<span class="cp">#define TEMP_WINDOW 1           </span><span class="c1">// (degC) Window around target to start the residency timer x degC early.</span>
</pre></div>
</div>
<p>Extruders must maintain a stable temperature for <code class="docutils literal notranslate"><span class="pre">TEMP_RESIDENCY_TIME</span></code> before <a class="reference external" href="/docs/gcode/M109.html"><code class="docutils literal notranslate"><span class="pre">M109</span></code></a> will return success and start the print. Tune what “stable” means using <code class="docutils literal notranslate"><span class="pre">TEMP_HYSTERESIS</span></code> and <code class="docutils literal notranslate"><span class="pre">TEMP_WINDOW</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TEMP_BED_RESIDENCY_TIME 10  </span><span class="c1">// (seconds)</span>
<span class="cp">#define TEMP_BED_HYSTERESIS 3       </span><span class="c1">// (degC) range of +/- temperatures considered &quot;close&quot; to the target one</span>
<span class="cp">#define TEMP_BED_WINDOW 1           </span><span class="c1">// (degC) Window around target to start the residency timer x degC early.</span>
</pre></div>
</div>
<p>The bed must maintain a stable temperature for <code class="docutils literal notranslate"><span class="pre">TEMP_BED_RESIDENCY_TIME</span></code> before <a class="reference external" href="/docs/gcode/M109.html"><code class="docutils literal notranslate"><span class="pre">M109</span></code></a> will return success and start the print. Tune what “stable” means using <code class="docutils literal notranslate"><span class="pre">TEMP_BED_HYSTERESIS</span></code> and <code class="docutils literal notranslate"><span class="pre">TEMP_BED_WINDOW</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TEMP_CHAMBER_HYSTERESIS  3  </span><span class="c1">// (°C) Temperature proximity considered &quot;close enough&quot; to the target</span>
</pre></div>
</div>
<p>Set how far from target the chamber can be and still be considered ok.</p>
</div>
<div class="section" id="temperature-ranges">
<h3>Temperature Ranges<a class="headerlink" href="#temperature-ranges" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define HEATER_0_MINTEMP 5</span>
<span class="cp">#define HEATER_1_MINTEMP 5</span>
<span class="cp">#define HEATER_2_MINTEMP 5</span>
<span class="cp">#define HEATER_3_MINTEMP 5</span>
<span class="cp">#define HEATER_4_MINTEMP 5</span>
<span class="cp">#define BED_MINTEMP 5</span>
</pre></div>
</div>
<p>These parameters help prevent the printer from overheating and catching fire. Temperature sensors report abnormally low values when they fail or become disconnected. Set these to the lowest value (in degrees C) that the machine is likely to experience. Indoor temperatures range from 10C-40C, but a value of 0 might be appropriate for an unheated workshop.</p>
<p>If any sensor goes below the minimum temperature set here, Marlin will <strong>shut down the printer</strong> with a “MINTEMP” error.</p>
<p>{% alert error MINTEMP %}
<code class="docutils literal notranslate"><span class="pre">Err:</span> <span class="pre">MINTEMP</span></code>: This error means your thermistor has disconnected or become an open circuit. (Or the machine is just very cold.)
{% endalert %}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define HEATER_0_MAXTEMP 285</span>
<span class="cp">#define HEATER_1_MAXTEMP 275</span>
<span class="cp">#define HEATER_2_MAXTEMP 275</span>
<span class="cp">#define HEATER_3_MAXTEMP 275</span>
<span class="cp">#define HEATER_4_MAXTEMP 275</span>
<span class="cp">#define BED_MAXTEMP 130</span>
</pre></div>
</div>
<p>Maximum temperature for each temperature sensor. If Marlin reads a temperature above these values, it will immediately shut down for safety reasons. For the E3D V6 hotend, many use 285 as a maximum value.</p>
<p>{% alert error MAXTEMP %}
<code class="docutils literal notranslate"><span class="pre">Err:</span> <span class="pre">MAXTEMP</span></code>: This error usually means that the temperature sensor wires are shorted together. It may also indicate an issue with the heater MOSFET or relay that is causing it to stay on.
{% endalert %}
{% alert warning %}
Remember that cold surfaces near hot surfaces can lead to <strong>condensation</strong>, which is NOT GOOD for electronics. Use blower fans to keep air moving and use a <a class="reference external" href="http://www.dpcalc.org/">Dew Point Calculator</a> to check your local dew point.
{% endalert %}</p>
</div>
<hr class="docutils" />
<div class="section" id="pid">
<h3>PID<a class="headerlink" href="#pid" title="Permalink to this headline">¶</a></h3>
<p>Marlin uses PID (Proportional, Integral, Derivative) control (<a class="reference external" href="https://en.wikipedia.org/wiki/PID_controller">Wikipedia</a>) to stabilize the dynamic heating system for the hotends and bed. When PID values are set correctly, heaters reach their target temperatures faster, maintain temperature better, and experience less wear over time.</p>
<p>Most vitally, correct PID settings will prevent excessive overshoot, which is a safety hazard. During PID calibration, use the highest target temperature you intend to use (where overshoots are more critical).</p>
<p>See the <a class="reference external" href="http://reprap.org/wiki/PID_Tuning">PID Tuning</a> topic on the RepRap wiki for detailed instructions on <a class="reference external" href="/docs/gcode/M303.html"><code class="docutils literal notranslate"><span class="pre">M303</span></code></a> auto-tuning. The PID settings should be tuned whenever changing a hotend, temperature sensor, heating element, board, power supply voltage (12v/24v), or anything else related to the high-voltage circuitry.</p>
<hr class="docutils" />
<div class="section" id="hotend-pid-options">
<h4>Hotend PID Options<a class="headerlink" href="#hotend-pid-options" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PIDTEMP</span>
<span class="cp">#define BANG_MAX 255     </span><span class="c1">// limits current to nozzle while in bang-bang mode; 255=full current</span>
<span class="cp">#define PID_MAX BANG_MAX </span><span class="c1">// limits current to nozzle while PID is active (see PID_FUNCTIONAL_RANGE below); 255=full current</span>
<span class="cp">#define K1 0.95</span>
</pre></div>
</div>
<p>Disable <code class="docutils literal notranslate"><span class="pre">PIDTEMP</span></code> to run extruders in bang-bang mode. Bang-bang is a pure binary mode - the heater is either fully-on or fully-off for a long period. PID control uses higher frequency PWM and (in most cases) is superior for maintaining a stable temperature.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(PIDTEMP)</span>
  <span class="c1">//#define PID_EDIT_MENU</span>
  <span class="c1">//#define PID_AUTOTUNE_MENU</span>
  <span class="c1">//#define PID_DEBUG</span>
  <span class="c1">//#define PID_OPENLOOP 1</span>
  <span class="c1">//#define SLOW_PWM_HEATERS</span>
  <span class="c1">//#define PID_PARAMS_PER_HOTEND</span>
  <span class="cp">#define PID_FUNCTIONAL_RANGE 10</span>
  
</pre></div>
</div>
<p>Enable <code class="docutils literal notranslate"><span class="pre">PID_AUTOTUNE_MENU</span></code> to add an option on the LCD to run an Autotune cycle and automatically apply the result. Enable <code class="docutils literal notranslate"><span class="pre">PID_PARAMS_PER_HOTEND</span></code> if you have more than one extruder and they are different models.</p>
</div>
<div class="section" id="pid-values-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>PID Values <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#pid-values-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="c1">// Ultimaker</span>
  <span class="cp">#define  DEFAULT_Kp 22.2</span>
  <span class="cp">#define  DEFAULT_Ki 1.08</span>
  <span class="cp">#define  DEFAULT_Kd 114</span>

  <span class="c1">// MakerGear</span>
  <span class="c1">//#define  DEFAULT_Kp 7.0</span>
  <span class="c1">//#define  DEFAULT_Ki 0.1</span>
  <span class="c1">//#define  DEFAULT_Kd 12</span>

  <span class="c1">// Mendel Parts V9 on 12V</span>
  <span class="c1">//#define  DEFAULT_Kp 63.0</span>
  <span class="c1">//#define  DEFAULT_Ki 2.25</span>
  <span class="c1">//#define  DEFAULT_Kd 440</span>
</pre></div>
</div>
<p>Sample PID values are included for reference, but they won’t apply to most setups. The PID values you get from <a class="reference external" href="/docs/gcode/M303.html"><code class="docutils literal notranslate"><span class="pre">M303</span></code></a> may be very different, but will be better for your specific machine.</p>
<p>{% alert info %}
<a class="reference external" href="/docs/gcode/M301.html"><code class="docutils literal notranslate"><span class="pre">M301</span></code></a> can be used to set Hotend PID and is also accessible through the LCD. <a class="reference external" href="/docs/gcode/M304.html"><code class="docutils literal notranslate"><span class="pre">M304</span></code></a> can be used to set bed PID. <a class="reference external" href="/docs/gcode/M303.html"><code class="docutils literal notranslate"><span class="pre">M303</span></code></a> should be used to tune PID values before using any new hotend components.
{% endalert %}</p>
</div>
<hr class="docutils" />
<div class="section" id="bed-pid-options">
<h4>Bed PID Options<a class="headerlink" href="#bed-pid-options" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PIDTEMPBED</span>
</pre></div>
</div>
<p>Enable <code class="docutils literal notranslate"><span class="pre">PIDTEMPBED</span></code> to use PID for the bed heater (at the same PWM frequency as the extruders). With the default PID_dT the PWM frequency is 7.689Hz, fine for driving a square wave into a resistive load without significant impact on FET heating. This also works fine on a Fotek SSR-10DA Solid State Relay into a 250W heater. If your configuration is significantly different than this and you don’t understand the issues involved, you probably shouldn’t use bed PID until it’s verified that your hardware works. Use <code class="docutils literal notranslate"><span class="pre">M303</span> <span class="pre">E-1</span></code> to tune the bed PID for this option.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define BED_LIMIT_SWITCHING</span>
</pre></div>
</div>
<p>Enable <code class="docutils literal notranslate"><span class="pre">BED_LIMIT_SWITCHING</span></code></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MAX_BED_POWER 255</span>
</pre></div>
</div>
<p>The max power delivered to the bed. All forms of bed control obey this (PID, bang-bang, bang-bang with hysteresis). Setting this to anything other than 255 enables a form of PWM. As with <code class="docutils literal notranslate"><span class="pre">PIDTEMPBED</span></code>, don’t enable this unless your bed hardware is ok with PWM.</p>
</div>
<div class="section" id="bed-pid-values-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>Bed PID Values <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#bed-pid-values-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(PIDTEMPBED)</span>

  <span class="c1">//#define PID_BED_DEBUG // Sends debug data to the serial port.</span>

  <span class="c1">//120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)</span>
  <span class="c1">//from FOPDT model - kp=.39 Tp=405 Tdead=66, Tc set to 79.2, aggressive factor of .15 (vs .1, 1, 10)</span>
  <span class="cp">#define  DEFAULT_bedKp 10.00</span>
  <span class="cp">#define  DEFAULT_bedKi .023</span>
  <span class="cp">#define  DEFAULT_bedKd 305.4</span>

  <span class="c1">//120V 250W silicone heater into 4mm borosilicate (MendelMax 1.5+)</span>
  <span class="c1">//from pidautotune</span>
  <span class="c1">//#define  DEFAULT_bedKp 97.1</span>
  <span class="c1">//#define  DEFAULT_bedKi 1.41</span>
  <span class="c1">//#define  DEFAULT_bedKd 1675.16</span>

  <span class="c1">// FIND YOUR OWN: &quot;M303 E-1 C8 S90&quot; to run autotune on the bed at 90 degreesC for 8 cycles.</span>
<span class="cp">#endif </span><span class="c1">// PIDTEMPBED</span>
</pre></div>
</div>
<p>Sample Bed PID values are included for reference, but use the result from <a class="reference external" href="/docs/gcode/M303.html"><code class="docutils literal notranslate"><span class="pre">M303</span> <span class="pre">E-1</span></code></a> for your specific machine.</p>
<p><img alt="Safety" src="assets/images/config/safety.gif" />{: .floater}</p>
</div>
</div>
<div class="section" id="safety">
<h3>Safety<a class="headerlink" href="#safety" title="Permalink to this headline">¶</a></h3>
<div class="section" id="prevent-cold-extrusion-em-class-fa-fa-sticky-note-o-aria-hidden-true-em">
<h4>Prevent Cold Extrusion <em class="fa fa-sticky-note-o" aria-hidden="true"></em><a class="headerlink" href="#prevent-cold-extrusion-em-class-fa-fa-sticky-note-o-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PREVENT_COLD_EXTRUSION</span>
<span class="cp">#define EXTRUDE_MINTEMP 170</span>
</pre></div>
</div>
<p>So-called “cold extrusion” can damage a machine in several ways, but it usually just results in gouged filament and a jammed extruder. With this option, the extruder motor won’t move if the hotend is below the specified temperature. Override this setting with <a class="reference external" href="/docs/gcode/M302.html"><code class="docutils literal notranslate"><span class="pre">M302</span></code></a> if needed.</p>
</div>
<div class="section" id="prevent-lengthy-extrude">
<h4>Prevent Lengthy Extrude<a class="headerlink" href="#prevent-lengthy-extrude" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PREVENT_LENGTHY_EXTRUDE</span>
<span class="cp">#define EXTRUDE_MAXLENGTH 200</span>
</pre></div>
</div>
<p>A lengthy extrusion may not damage your machine, but it can be an awful waste of filament. This feature is meant to prevent a typo or glitch in a <a class="reference external" href="/docs/gcode/G000-G001.html"><code class="docutils literal notranslate"><span class="pre">G1</span></code></a> command from extruding some enormous amount of filament. For Bowden setups, the max length should be set greater than or equal to the load/eject length.</p>
</div>
<div class="section" id="thermal-protection">
<h4>Thermal Protection<a class="headerlink" href="#thermal-protection" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define THERMAL_PROTECTION_HOTENDS </span><span class="c1">// Enable thermal protection for all extruders</span>
<span class="cp">#define THERMAL_PROTECTION_BED     </span><span class="c1">// Enable thermal protection for the heated bed</span>
<span class="cp">#define THERMAL_PROTECTION_CHAMBER </span><span class="c1">// Enable thermal protection for the heated chamber</span>
</pre></div>
</div>
<p>Thermal protection is one of the most vital safety features in Marlin, allowing the firmware to catch a bad situation and shut down heaters before it goes too far. Consider what happens when a thermistor comes loose during printing. The firmware sees a low temperature reading so it keeps the heat on. As long as the temperature reading is low, the hotend will continue to heat up indefinitely, leading to smoke, oozing, a ruined print, and possibly even fire.</p>
<p>Marlin offers two levels of thermal protection:</p>
<ol class="simple">
<li>Check that the temperature is actually increasing when a heater is on. If the temperature fails to rise enough within a certain time period (by default, 2 degrees in 20 seconds), the machine will shut down with a “<code class="docutils literal notranslate"><span class="pre">Heating</span> <span class="pre">failed</span></code>” error. This will detect a disconnected, loose, or misconfigured thermistor, or a disconnected heater.</li>
<li>Monitor thermal stability. If the measured temperature drifts too far from the target temperature for too long, the machine will shut down with a “<code class="docutils literal notranslate"><span class="pre">Thermal</span> <span class="pre">runaway</span></code>” error. This error may indicate poor contact between thermistor and hot end, poor PID tuning, or a cold environment.</li>
</ol>
<p>More thermal protection options are located in <code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code>. In most setups these can be left unchanged, but should be tuned as needed to prevent false positives.</p>
<p>{% panel info %}
For false thermal runaways <em>not</em> caused by a loose temperature sensor, try increasing <code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_PERIOD</span></code> or decreasing <code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_INCREASE</span></code>. Heating may be slowed in a cold environment, if a fan is blowing on the heat block, or if the heater has high resistance.
{% endpanel %}</p>
<p><img alt="Kinematics" src="assets/images/config/kinematics.jpg" />{: .floater}</p>
</div>
</div>
</div>
<div class="section" id="kinematics">
<h2>Kinematics<a class="headerlink" href="#kinematics" title="Permalink to this headline">¶</a></h2>
<p>Marlin supports four kinematic motion systems: Cartesian, Core (H-Bot), Delta, and SCARA. Cartesian is the simplest, applying each stepper directly to an axis. CoreXY uses a special belt arrangement to do XY motion, requiring a little extra maths. Delta robots convert the motion of three vertical carriages into XYZ motion in an “effector” attached to the carriages by six arms. SCARA robots move an arm in the XY plane using two angular joints.</p>
<div class="section" id="corexy">
<h3>CoreXY<a class="headerlink" href="#corexy" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define COREXY</span>
<span class="c1">//#define COREXZ</span>
<span class="c1">//#define COREYZ</span>
<span class="c1">//#define COREYX</span>
<span class="c1">//#define COREZX</span>
<span class="c1">//#define COREZY</span>
</pre></div>
</div>
<p>Enable the option that applies to the specific Core setup. Both normal and reversed options are included for completeness.</p>
<p><img alt="Endstop switch" src="assets/images/config/endstop.jpg" />{: .floater}</p>
</div>
</div>
<div class="section" id="endstops">
<h2>Endstops<a class="headerlink" href="#endstops" title="Permalink to this headline">¶</a></h2>
<p>In open loop systems, endstops are an inexpensive way to establish the actual position of the carriage on all axes. In the procedure known as “homing,” each axis is moved towards one end until the endstop switch is triggered, at which point the machine knows that the axis is at the endstop (home) position. From this point on, the machine “knows” its position by keeping track of how far the steppers have been moved. If the machine gets out of step for any reason, re-homing may be required.</p>
<div class="section" id="endstop-plugs">
<h3>Endstop Plugs<a class="headerlink" href="#endstop-plugs" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define USE_XMIN_PLUG</span>
<span class="cp">#define USE_YMIN_PLUG</span>
<span class="cp">#define USE_ZMIN_PLUG</span>
<span class="c1">//#define USE_XMAX_PLUG</span>
<span class="c1">//#define USE_YMAX_PLUG</span>
<span class="c1">//#define USE_ZMAX_PLUG</span>
</pre></div>
</div>
<p>Specify all the endstop connectors that are connected to any endstop or probe. Most printers will use all three min plugs. On delta machines, all the max plugs should be used. Probes can share the Z min plug, or can use one or more of the extra connectors. Don’t enable plugs used for non-endstop and non-probe purposes here.
{% alert info %}
<code class="docutils literal notranslate"><span class="pre">SENSORLESS_HOMING</span></code> will still need endstop connectors declared.
{% endalert %}</p>
</div>
<div class="section" id="endstop-pullups">
<h3>Endstop Pullups<a class="headerlink" href="#endstop-pullups" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define ENDSTOPPULLUPS</span>

<span class="cp">#if DISABLED(ENDSTOPPULLUPS)</span>
  <span class="c1">// Disable ENDSTOPPULLUPS to set pullups individually</span>
  <span class="c1">//#define ENDSTOPPULLUP_XMAX</span>
  <span class="c1">//#define ENDSTOPPULLUP_YMAX</span>
  <span class="c1">//#define ENDSTOPPULLUP_ZMAX</span>
  <span class="c1">//#define ENDSTOPPULLUP_XMIN</span>
  <span class="c1">//#define ENDSTOPPULLUP_YMIN</span>
  <span class="c1">//#define ENDSTOPPULLUP_ZMIN</span>
  <span class="c1">//#define ENDSTOPPULLUP_ZMIN_PROBE</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>By default all endstops have pullup resistors enabled. This is best for NC switches, preventing the values from “floating.” If only some endstops should have pullup resistors, you can disable <code class="docutils literal notranslate"><span class="pre">ENDSTOPPULLUPS</span></code> and enable pullups individually.</p>
</div>
<div class="section" id="endstop-pulldowns">
<h3>Endstop Pulldowns<a class="headerlink" href="#endstop-pulldowns" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ENDSTOPPULLDOWNS</span>

<span class="cp">#if DISABLED(ENDSTOPPULLDOWNS)</span>
  <span class="c1">// Disable ENDSTOPPULLDOWNS to set pulldowns individually</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_XMAX</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_YMAX</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_ZMAX</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_XMIN</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_YMIN</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_ZMIN</span>
  <span class="c1">//#define ENDSTOPPULLDOWN_ZMIN_PROBE</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>By default all endstops have pulldown resistors disabled.</p>
</div>
<div class="section" id="endstop-inverting">
<h3>Endstop Inverting<a class="headerlink" href="#endstop-inverting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Mechanical endstop with COM to ground and NC to Signal uses &quot;false&quot; here (most common setup).</span>
<span class="cp">#define X_MIN_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
<span class="cp">#define Y_MIN_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
<span class="cp">#define Z_MIN_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
<span class="cp">#define X_MAX_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
<span class="cp">#define Y_MAX_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
<span class="cp">#define Z_MAX_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
<span class="cp">#define Z_MIN_PROBE_ENDSTOP_INVERTING false </span><span class="c1">// set to true to invert the logic of the endstop.</span>
</pre></div>
</div>
<p>Use <a class="reference external" href="/docs/gcode/M119.html"><code class="docutils literal notranslate"><span class="pre">M119</span></code></a> to test if these are set correctly. If an endstop shows up as “TRIGGERED” when not pressed, and “open” when pressed, then it should be inverted here.</p>
</div>
<div class="section" id="stepper-drivers">
<h3>Stepper Drivers<a class="headerlink" href="#stepper-drivers" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define X_DRIVER_TYPE  A4988</span>
<span class="c1">//#define Y_DRIVER_TYPE  A4988</span>
<span class="c1">//#define Z_DRIVER_TYPE  A4988</span>
<span class="c1">//#define X2_DRIVER_TYPE A4988</span>
<span class="c1">//#define Y2_DRIVER_TYPE A4988</span>
<span class="c1">//#define Z2_DRIVER_TYPE A4988</span>
<span class="c1">//#define Z3_DRIVER_TYPE A4988</span>
<span class="c1">//#define E0_DRIVER_TYPE A4988</span>
<span class="c1">//#define E1_DRIVER_TYPE A4988</span>
<span class="c1">//#define E2_DRIVER_TYPE A4988</span>
<span class="c1">//#define E3_DRIVER_TYPE A4988</span>
<span class="c1">//#define E4_DRIVER_TYPE A4988</span>
<span class="c1">//#define E5_DRIVER_TYPE A4988</span>
</pre></div>
</div>
<p>These settings allow Marlin to tune stepper driver timing and enable advanced options for stepper drivers that support them. You may also override timing options in Configuration_adv.h.</p>
</div>
<div class="section" id="endstop-interrupts">
<h3>Endstop Interrupts<a class="headerlink" href="#endstop-interrupts" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ENDSTOP_INTERRUPTS_FEATURE</span>
</pre></div>
</div>
<p>Enable this feature if all enabled endstop pins are interrupt-capable.
This will remove the need to poll the interrupt pins, saving many CPU cycles.</p>
</div>
<div class="section" id="endstop-noise-threshold">
<h3>Endstop Noise Threshold<a class="headerlink" href="#endstop-noise-threshold" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ENDSTOP_NOISE_FEATURE</span>
</pre></div>
</div>
<p>Enable if your probe or endstops falsely trigger due to noise.</p>
<p><img alt="Movement" src="assets/images/config/movement.png" />{: .floater}</p>
</div>
</div>
<div class="section" id="movement">
<h2>Movement<a class="headerlink" href="#movement" title="Permalink to this headline">¶</a></h2>
<div class="section" id="distinct-e-factors">
<h3>Distinct E Factors<a class="headerlink" href="#distinct-e-factors" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define DISTINCT_E_FACTORS</span>
</pre></div>
</div>
<p>Enable <code class="docutils literal notranslate"><span class="pre">DISTINCT_E_FACTORS</span></code> if your extruders are not all mechanically identical. With this setting you can optionally specify different steps-per-mm, max feedrate, and max acceleration for each extruder.</p>
</div>
<div class="section" id="default-steps-per-mm-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h3>Default Steps per mm <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#default-steps-per-mm-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DEFAULT_AXIS_STEPS_PER_UNIT   { 80, 80, 4000, 500 }</span>
</pre></div>
</div>
<p>These are the most crucial settings for your printer, as they determine how accurately the steppers will position the axes. Here we’re telling the firmware how many individual steps produce a single millimeter (or degree on SCARA) of movement. These depend on various factors, including belt pitch, number of teeth on the pulley, thread pitch on leadscrews, micro-stepping settings, and extruder style.</p>
<p>Override with <a class="reference external" href="/docs/gcode/M092.html"><code class="docutils literal notranslate"><span class="pre">M92</span></code></a>.</p>
<p>{% panel info Step Calculator %}
The <a class="reference external" href="http://prusaprinters.org/calculator/">Prusa Calculator</a> is a great tool to help find the right values for your specific printer configuration.
{% endpanel %}</p>
<div class="section" id="default-max-feed-rate-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>Default Max Feed Rate <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#default-max-feed-rate-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DEFAULT_MAX_FEEDRATE { 500, 500, 2.25, 45 }</span>
</pre></div>
</div>
<p>In any move, the velocities (in mm/sec) in the X, Y, Z, and E directions will be limited to the corresponding <code class="docutils literal notranslate"><span class="pre">DEFAULT_MAX_FEEDRATE</span></code>.</p>
<p>Override with <a class="reference external" href="/docs/gcode/M203.html"><code class="docutils literal notranslate"><span class="pre">M203</span></code></a>.</p>
<p>{% alert danger %}
Setting these too high will cause the corresponding stepper motor to lose steps, especially on high speed movements.
{% endalert %}</p>
</div>
</div>
<div class="section" id="acceleration">
<h3>Acceleration<a class="headerlink" href="#acceleration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="default-max-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>Default Max Acceleration <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#default-max-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DEFAULT_MAX_ACCELERATION      { 3000, 3000, 100, 10000 }</span>
</pre></div>
</div>
<p>When the velocity of any axis changes, its acceleration (or deceleration) in mm/s/s is limited by the current max acceleration setting. Also see the <em>jerk</em> settings below, which specify the largest instant speed change that can occur between segments.</p>
<p>A value of 3000 means that an axis may accelerate from 0 to 3000mm/m (50mm/s) within a one second movement.</p>
<p>Jerk sets the floor for accelerated moves. If the change in top speed for a given axis between segments is less than the jerk value for the axis, an instantaneous change in speed may be allowed. Limits placed on other axes also apply. Basically, lower jerk values result in more accelerated moves, which may be near-instantaneous in some cases, depending on the final acceleration determined by the planner.</p>
<p>Override with <a class="reference external" href="/docs/gcode/M201.html"><code class="docutils literal notranslate"><span class="pre">M201</span></code></a>.</p>
</div>
<div class="section" id="default-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>Default Acceleration <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#default-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DEFAULT_ACCELERATION          3000    </span><span class="c1">// X, Y, Z and E acceleration for printing moves</span>
<span class="cp">#define DEFAULT_RETRACT_ACCELERATION  3000    </span><span class="c1">// E acceleration for retracts</span>
<span class="cp">#define DEFAULT_TRAVEL_ACCELERATION   3000    </span><span class="c1">// X, Y, Z acceleration for travel (non printing) moves</span>
</pre></div>
</div>
<p>The planner uses the default accelerations set here (or by <code class="docutils literal notranslate"><span class="pre">M204</span></code>) as the starting values for movement acceleration, and then constrains them further, if needed. There are separate default acceleration values for printing moves, retraction moves, and travel moves.</p>
<ul class="simple">
<li>Printing moves include E plus at least one of the XYZ axes.</li>
<li>Retraction moves include only the E axis.</li>
<li>Travel moves include only the XYZ axes.</li>
</ul>
<p>In print/travel moves, <code class="docutils literal notranslate"><span class="pre">DEFAULT_ACCELERATION</span></code> and <code class="docutils literal notranslate"><span class="pre">DEFAULT_TRAVEL_ACCELERATION</span></code> apply to the XYZ axes. In retraction moves, <code class="docutils literal notranslate"><span class="pre">DEFAULT_RETRACT_ACCELERATION</span></code> applies only to the <em>E</em>-axis. During movement planning, Marlin constrains the default accelerations to the maximum acceleration of all axes involved in the move.</p>
<p>Override with <a class="reference external" href="/docs/gcode/M204.html"><code class="docutils literal notranslate"><span class="pre">M204</span></code></a>.</p>
<p>{% alert danger %}
Don’t set these too high. Larger acceleration values can lead to excessive vibration, noisy steppers, or even skipped steps. Lower acceleration produces smoother motion, eliminates vibration, and helps reduce wear on mechanical parts.
{% endalert %}</p>
</div>
<hr class="docutils" />
<div class="section" id="junction-deviation-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>Junction Deviation <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#junction-deviation-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define JUNCTION_DEVIATION</span>
<span class="cp">#if ENABLED(JUNCTION_DEVIATION)</span>
  <span class="cp">#define JUNCTION_DEVIATION_MM 0.02  </span><span class="c1">// (mm) Distance from real junction edge</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Use Junction Deviation instead of traditional Jerk Limiting. Jerk settings is overriden with Junction Deviation.</p>
</div>
<div class="section" id="jerk-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>Jerk <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#jerk-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DEFAULT_XJERK                 20.0</span>
<span class="cp">#define DEFAULT_YJERK                 20.0</span>
<span class="cp">#define DEFAULT_ZJERK                  0.4</span>
<span class="cp">#define DEFAULT_EJERK                  5.0</span>
</pre></div>
</div>
<p>Jerk works in conjunction with acceleration (see above). Jerk is the maximum change in velocity (in mm/sec) that can occur instantaneously. It can also be thought of as the minimum change in velocity that will be done as an accelerated (not instantaneous) move.</p>
<p>Both acceleration and jerk affect your print quality. If jerk is too low, the extruder will linger too long on small segments and corners, possibly leaving blobs. If the jerk is set too high, direction changes will apply too much torque and you may see “ringing” artifacts or dropped steps.</p>
<p>Override with <a class="reference external" href="/docs/gcode/M205.html"><code class="docutils literal notranslate"><span class="pre">M205</span></code></a>.</p>
</div>
<div class="section" id="s-curve-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h4>S-Curve Acceleration <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#s-curve-acceleration-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define S_CURVE_ACCELERATION</span>
</pre></div>
</div>
<p>This option eliminates vibration during printing by fitting a Bézier curve to move acceleration, producing much smoother direction changes.</p>
</div>
</div>
</div>
<div class="section" id="z-probe-options">
<h2>Z Probe Options<a class="headerlink" href="#z-probe-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="probe-pins">
<h3>Probe Pins<a class="headerlink" href="#probe-pins" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN</span>
</pre></div>
</div>
<p>Use this option in all cases when the probe is connected to the Z MIN endstop plug. This option is used for <code class="docutils literal notranslate"><span class="pre">DELTA</span></code> robots, which always home to MAX, and may be used in other setups.</p>
<p>You can use this option to configure a machine with no Z endstops. In that case the probe will be used to home Z and you will need to enable <code class="docutils literal notranslate"><span class="pre">Z_SAFE_HOMING</span></code> to ensure that the probe is positioned over the bed when homing the Z axis - done after X and Y.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_MIN_PROBE_PIN 32</span>
</pre></div>
</div>
<p>Use this option if you’ve connected the probe to a pin other than the Z MIN endstop pin. With this option enabled, by default Marlin will use the <code class="docutils literal notranslate"><span class="pre">Z_MIN_PROBE_PIN</span></code> specified in your board’s pins file (usually the X or Z MAX endstop pin since these are the most likely to be unused). If you need to use a different pin, define your custom pin number for <code class="docutils literal notranslate"><span class="pre">Z_MIN_PROBE_PIN</span></code> in <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code>.</p>
</div>
<div class="section" id="probe-type">
<h3>Probe Type<a class="headerlink" href="#probe-type" title="Permalink to this headline">¶</a></h3>
<p>Marlin supports any kind of probe that can be made to work like a switch. Specific types of probes have different needs.</p>
<div class="section" id="manual-probe-no-probe">
<h4>Manual Probe (no probe)<a class="headerlink" href="#manual-probe-no-probe" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PROBE_MANUALLY</span>
<span class="c1">//#define MANUAL_PROBE_START_Z 0.2</span>
</pre></div>
</div>
<p>Even if you have no bed probe you can still use any of the core <code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_*</span></code> options below by selecting this option. With <code class="docutils literal notranslate"><span class="pre">PROBE_MANUALLY</span></code> the <a class="reference external" href="/docs/gcode/G029-mbl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code></a> command only moves the nozzle to the next probe point where it pauses. You adjust the Z height with a piece of paper or feeler gauge, then send <a class="reference external" href="/docs/gcode/G029-mbl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code></a>  again to continue to the next point. You can also enable <code class="docutils literal notranslate"><span class="pre">LCD_BED_LEVELING</span></code> to add a “Level Bed” Menu item to the LCD for a fully interactive leveling process.
<code class="docutils literal notranslate"><span class="pre">MANUAL_PROBE_START_Z</span></code> sets the z-height the printer initially moves to at each mesh point during manual probing. With this disabled, the printer will move to Z0 for the first probe point. Then each consecutive probe point uses the Z position of the probe point preceding it.</p>
</div>
<div class="section" id="fix-mounted-probe">
<h4>Fix Mounted Probe<a class="headerlink" href="#fix-mounted-probe" title="Permalink to this headline">¶</a></h4>
<p><img alt="Fixed Probe - EZABL" src="assets/images/config/fixed_probe_EZABL.png" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FIX_MOUNTED_PROBE</span>
</pre></div>
</div>
<p>This option is for any probe that’s fixed in place, with no need to be deployed or stowed. Specify this type for an inductive probe or when using the nozzle itself as the probe.</p>
</div>
<div class="section" id="servo-z-probe">
<h4>Servo Z Probe<a class="headerlink" href="#servo-z-probe" title="Permalink to this headline">¶</a></h4>
<p><img alt="Probe" src="assets/images/config/probe.png" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_PROBE_SERVO_NR 0       // Defaults to SERVO 0 connector.</span>
<span class="c1">//#define Z_SERVO_ANGLES { 70, 0 } // Z Servo Deploy and Stow angles</span>
</pre></div>
</div>
<p>To indicate a Servo Z Probe (e.g., an endstop switch mounted on a rotating arm) just specify the servo index. Use the <a class="reference external" href="/docs/gcode/M280.html"><code class="docutils literal notranslate"><span class="pre">M280</span></code></a> command to find the best <code class="docutils literal notranslate"><span class="pre">Z_SERVO_ANGLES</span></code> values.</p>
</div>
<div class="section" id="bltouch">
<h4>BLTouch<a class="headerlink" href="#bltouch" title="Permalink to this headline">¶</a></h4>
<p><img alt="BLTouch" src="assets/images/config/BLTouch.png" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define BLTOUCH</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://plus.google.com/113792662927481823969">ANTCLABS BLTouch</a> probe uses custom circuitry and a magnet to raise and lower a metal pin which acts as a touch probe. The BLTouch uses the servo connector and is controlled using specific servo angles. With this option enabled the other required settings are automatically configured (so there’s no need to enter servo angles, for example).</p>
</div>
<div class="section" id="touch-mi-probe">
<h4>TOUCH MI PROBE<a class="headerlink" href="#touch-mi-probe" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define TOUCH_MI_PROBE</span>
<span class="cp">#if ENABLED(TOUCH_MI_PROBE)</span>
  <span class="cp">#define TOUCH_MI_RETRACT_Z 0.5                  </span><span class="c1">// Height at which the probe retracts</span>
  <span class="c1">//#define TOUCH_MI_DEPLOY_XPOS (X_MAX_BED + 2)  // For a magnet on the right side of the bed</span>
  <span class="c1">//#define TOUCH_MI_MANUAL_DEPLOY                // For manual deploy (LCD menu)</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Touch-MI Probe by hotends.fr is deployed and activated by moving the X-axis to a magnet at the edge of the bed. By default, the magnet is assumed to be on the left and activated by a home. If the magnet is on the right, enable and set TOUCH_MI_DEPLOY_XPOS to the deploy position. Also option requires: <code class="docutils literal notranslate"><span class="pre">BABYSTEPPING</span></code>, <code class="docutils literal notranslate"><span class="pre">BABYSTEP_ZPROBE_OFFSET</span></code>, <code class="docutils literal notranslate"><span class="pre">Z_SAFE_HOMING</span></code>, and a minimum <code class="docutils literal notranslate"><span class="pre">Z_HOMING_HEIGHT</span></code> of 10.</p>
</div>
<div class="section" id="solenoid-probe">
<h4>Solenoid Probe<a class="headerlink" href="#solenoid-probe" title="Permalink to this headline">¶</a></h4>
<p><img alt="Solenoid probe" src="assets/images/config/solenoid.png" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SOLENOID_PROBE</span>
</pre></div>
</div>
<p>A probe that is deployed and stowed with a solenoid pin (Defined as <code class="docutils literal notranslate"><span class="pre">SOL1_PIN</span></code>.)</p>
</div>
<div class="section" id="z-probe-sled">
<h4>Z Probe Sled<a class="headerlink" href="#z-probe-sled" title="Permalink to this headline">¶</a></h4>
<p><img alt="Z-Probe Sled" src="assets/images/config/zprobe_sled.png" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_PROBE_SLED</span>
<span class="c1">//#define SLED_DOCKING_OFFSET 5</span>
</pre></div>
</div>
<p>This type of probe is mounted on a detachable “sled” that sits at the far end of the X axis. Before probing, the X carriage moves to the far end and picks up the sled. When probing is completed, it drops the sled off. The <code class="docutils literal notranslate"><span class="pre">SLED_DOCKING_OFFSET</span></code> specifies the extra distance the X axis must travel to pickup the sled. 0 should be fine but it may be pushed further if needed.</p>
</div>
<div class="section" id="rack-and-pinion-probe">
<h4>Rack-and-pinion probe<a class="headerlink" href="#rack-and-pinion-probe" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define RACK_AND_PINION_PROBE</span>
<span class="cp">#if ENABLED(RACK_AND_PINION_PROBE)</span>
  <span class="cp">#define Z_PROBE_DEPLOY_X  X_MIN_POS</span>
  <span class="cp">#define Z_PROBE_RETRACT_X X_MAX_POS</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>A probe deployed by moving the x-axis, such as the Wilson II’s rack-and-pinion probe designed by Marty Rice.</p>
</div>
<div class="section" id="allen-key">
<h4>Allen Key<a class="headerlink" href="#allen-key" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_PROBE_ALLEN_KEY</span>
</pre></div>
</div>
<p>A retractable z-probe for deltas that uses an Allen key as the probe. See “<a class="reference external" href="http://reprap.org/wiki/Kossel#Automatic_bed_leveling_probe">Kossel automatic bed leveling probe</a>” at the RepRap wiki. It deploys by leveraging against the z-axis belt, and retracts by pushing the probe down.</p>
<p>More information will be included in an upcoming Delta configuration page.</p>
</div>
</div>
<div class="section" id="probe-offsets-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em">
<h3>Probe Offsets <em class="fa fa-sticky-note-o" aria-hidden="true"></em> <em class="fa fa-desktop" aria-hidden="true"></em><a class="headerlink" href="#probe-offsets-em-class-fa-fa-sticky-note-o-aria-hidden-true-em-em-class-fa-fa-desktop-aria-hidden-true-em" title="Permalink to this headline">¶</a></h3>
<p>These offsets specify the distance from the tip of the nozzle to the probe — or more precisely, to the point at which the probe triggers. The X and Y offsets are specified as integers. The Z offset should be specified as exactly as possible using a decimal value. The Z offset can be overridden with <code class="docutils literal notranslate"><span class="pre">M851</span> <span class="pre">Z</span></code> or the LCD controller. The <a class="reference external" href="/docs/gcode/M851.html"><code class="docutils literal notranslate"><span class="pre">M851</span></code></a> offset is saved to EEPROM with <a class="reference external" href="/docs/gcode/M500.html"><code class="docutils literal notranslate"><span class="pre">M500</span></code></a>.</p>
</div>
<div class="section" id="distance-from-edge">
<h3>Distance from edge<a class="headerlink" href="#distance-from-edge" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define X_PROBE_OFFSET_FROM_EXTRUDER 10  </span><span class="c1">// X offset: -left  +right  [of the nozzle]</span>
<span class="cp">#define Y_PROBE_OFFSET_FROM_EXTRUDER 10  </span><span class="c1">// Y offset: -front +behind [the nozzle]</span>
<span class="cp">#define Z_PROBE_OFFSET_FROM_EXTRUDER 0   </span><span class="c1">// Z offset: -below +above  [the nozzle]</span>

<span class="cp">#define MIN_PROBE_EDGE 10</span>
</pre></div>
</div>
<p>Certain types of probe need to stay away from the edge</p>
</div>
<div class="section" id="probing-speed">
<h3>Probing Speed<a class="headerlink" href="#probing-speed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// X and Y axis travel speed (mm/m) between probes</span>
<span class="cp">#define XY_PROBE_SPEED 8000</span>

<span class="c1">// Feedrate (mm/m) for the first approach when double-probing (MULTIPLE_PROBING == 2)</span>
<span class="cp">#define Z_PROBE_SPEED_FAST HOMING_FEEDRATE_Z</span>

<span class="c1">// Feedrate (mm/m) for the &quot;accurate&quot; probe of each point</span>
<span class="cp">#define Z_PROBE_SPEED_SLOW (Z_PROBE_SPEED_FAST / 2)</span>
</pre></div>
</div>
<p>Probing should be done quickly, but the Z speed should be tuned for best repeatability. Depending on the probe, a slower Z probing speed may be needed for repeatable results.</p>
</div>
<div class="section" id="multiple-probes">
<h3>Multiple Probes<a class="headerlink" href="#multiple-probes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MULTIPLE_PROBING 2</span>
<span class="c1">//#define EXTRA_PROBING    1</span>
</pre></div>
</div>
<p>Probing mutiple times yields better results. Set to 2 for a fast/slow probe - the second probe result will be used. Set to 3 or more for slow probes - the average result will be used.</p>
</div>
<div class="section" id="probe-clearance">
<h3>Probe Clearance<a class="headerlink" href="#probe-clearance" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define Z_CLEARANCE_DEPLOY_PROBE   10 </span><span class="c1">// Z Clearance for Deploy/Stow</span>
<span class="cp">#define Z_CLEARANCE_BETWEEN_PROBES  5 </span><span class="c1">// Z Clearance between probe points</span>
<span class="cp">#define Z_CLEARANCE_MULTI_PROBE     5 </span><span class="c1">// Z Clearance between multiple probes</span>
<span class="c1">//#define Z_AFTER_PROBING           5 // Z position after probing is done</span>

<span class="cp">#define Z_PROBE_LOW_POINT          -2 </span><span class="c1">// Farthest distance below the trigger-point to go before stopping</span>
</pre></div>
</div>
<p>Z probes require clearance when deploying, stowing, and moving between probe points to avoid hitting the bed and other hardware. Servo-mounted probes require extra space for the arm to rotate. Inductive probes need space to keep from triggering early.</p>
<p>Use these settings to specify the distance (mm) to raise the probe (or lower the bed). The values set here apply over and above any (negative) probe Z Offset set with <code class="docutils literal notranslate"><span class="pre">Z_PROBE_OFFSET_FROM_EXTRUDER</span></code>, <a class="reference external" href="/docs/gcode/M204.html"><code class="docutils literal notranslate"><span class="pre">M851</span></code></a>, or the LCD. Only integer values &gt;= 1 are valid for these settings.</p>
<ul class="simple">
<li><em>Example</em>: <code class="docutils literal notranslate"><span class="pre">M851</span> <span class="pre">Z-5</span></code> with a CLEARANCE of 4  =&gt;  9mm from bed to nozzle.</li>
<li><em>But</em>: <code class="docutils literal notranslate"><span class="pre">M851</span> <span class="pre">Z+1</span></code> with a CLEARANCE of 2  =&gt;  2mm from bed to nozzle.</li>
</ul>
<p>{% panel warning G29 Movement %}
Make sure you have enough clearance for the probe to move between points!
{% endpanel %}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define Z_PROBE_OFFSET_RANGE_MIN -20</span>
<span class="cp">#define Z_PROBE_OFFSET_RANGE_MAX 20</span>
</pre></div>
</div>
<p>For <code class="docutils literal notranslate"><span class="pre">M851</span></code> and LCD menus give a range for adjusting the Z probe offset.</p>
</div>
<div class="section" id="probe-testing">
<h3>Probe Testing<a class="headerlink" href="#probe-testing" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define Z_MIN_PROBE_REPEATABILITY_TEST</span>
</pre></div>
</div>
<p>This enables you to test the reliability of your probe.
Issue a <a class="reference external" href="/docs/gcode/M048.html"><code class="docutils literal notranslate"><span class="pre">M48</span></code></a> command to start testing. It will give you a standard deviation for the probe.
Tip: 0.02 mm is normally acceptable for bed leveling to work.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Before deploy/stow pause for user confirmation</span>
<span class="c1">//#define PAUSE_BEFORE_DEPLOY_STOW</span>
<span class="cp">#if ENABLED(PAUSE_BEFORE_DEPLOY_STOW)</span>
  <span class="c1">//#define PAUSE_PROBE_DEPLOY_WHEN_TRIGGERED // For Manual Deploy Allenkey Probe</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Before deploy/stow pause for user confirmation</p>
</div>
<div class="section" id="probe-with-heaters-off">
<h3>Probe with heaters off<a class="headerlink" href="#probe-with-heaters-off" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PROBING_HEATERS_OFF       // Turn heaters off when probing</span>
<span class="cp">#if ENABLED(PROBING_HEATERS_OFF)</span>
  <span class="c1">//#define WAIT_FOR_BED_HEATER     // Wait for bed to heat back up between probes (to improve accuracy)</span>
<span class="cp">#endif</span>
<span class="c1">//#define PROBING_FANS_OFF          // Turn fans off when probing</span>
<span class="c1">//#define PROBING_STEPPERS_OFF      // Turn steppers off (unless needed to hold position) when probing</span>
<span class="c1">//#define DELAY_BEFORE_PROBING 200  // (ms) To prevent vibrations from triggering piezo sensors</span>
</pre></div>
</div>
<p>Heatinging the bed and extruder for probing will produce results that more accurately correspond with your bed if you typically print with the bed heated. Enable <code class="docutils literal notranslate"><span class="pre">PROBING_HEATERS_OFF</span></code> if you are experiencing electrical noise. A delay can also be added to allow noise and vibration to settle.</p>
<p><img alt="Stepper Spin" src="assets/images/config/motor-dir.jpg" />{: .floater}</p>
</div>
</div>
<div class="section" id="id1">
<h2>Stepper Drivers<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="motor-enable">
<h3>Motor Enable<a class="headerlink" href="#motor-enable" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define X_ENABLE_ON 0</span>
<span class="cp">#define Y_ENABLE_ON 0</span>
<span class="cp">#define Z_ENABLE_ON 0</span>
<span class="cp">#define E_ENABLE_ON 0 </span><span class="c1">// For all extruders</span>
</pre></div>
</div>
<p>These options set the pin states used for stepper enable. The most common setting is 0 (<code class="docutils literal notranslate"><span class="pre">LOW</span></code>) for Active Low. For Active High use 1 or <code class="docutils literal notranslate"><span class="pre">HIGH</span></code>.</p>
</div>
<div class="section" id="motor-disable">
<h3>Motor Disable<a class="headerlink" href="#motor-disable" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DISABLE_X false</span>
<span class="cp">#define DISABLE_Y false</span>
<span class="cp">#define DISABLE_Z false</span>
</pre></div>
</div>
<p>Use these options to disable steppers when not being issued a movement. This was implemented as a hack to run steppers at higher-than-normal current in an effort to produce more torque at the cost of increased heat for drivers and steppers.</p>
<p>Disabling the steppers between moves gives the motors and drivers a chance to cool off. It sounds good in theory, but in practice it has drawbacks. Disabled steppers can’t hold the carriage stable. This results in poor accuracy and carries a strong probability of axial drift (i.e., lost steps).</p>
<p>Most 3D printers use an “open loop” control system, meaning the software can’t ascertain the actual carriage position at a given time. It simply sends commands and assumes they have been obeyed. In practice with a well-calibrated machine this is not an issue and using open loop is a major cost saving with excellent quality.</p>
<p><strong>We don’t recommend this hack.</strong> There are much better ways to address the problem of stepper/driver overheating. Some examples: stepper/driver heatsink, active cooling, dual motors on the axis, reduce microstepping, check belt for over tension, check components for smooth motion, etc.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define DISABLE_REDUCED_ACCURACY_WARNING</span>
</pre></div>
</div>
<p>Enable this option to suppress the warning given in cases when reduced accuracy is likely to occur.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DISABLE_E false 					</span><span class="c1">// For all extruders</span>
<span class="cp">#define DISABLE_INACTIVE_EXTRUDER	false 	</span><span class="c1">// Keep only the active extruder enabled</span>
</pre></div>
</div>
<p>The E disable option works like <code class="docutils literal notranslate"><span class="pre">DISABLE_[XYZ]</span></code> but pertains to one or more extruders. The default setting keeps the active extruder enabled, disabling all inactive extruders. This is reasonable for situations where a “wipe tower” or other means is used to ensure that the nozzle is primed and not oozing between uses.</p>
</div>
<div class="section" id="motor-direction">
<h3>Motor Direction<a class="headerlink" href="#motor-direction" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define INVERT_X_DIR false</span>
<span class="cp">#define INVERT_Y_DIR true</span>
<span class="cp">#define INVERT_Z_DIR false</span>

<span class="cp">#define INVERT_E0_DIR false</span>
<span class="cp">#define INVERT_E1_DIR false</span>
<span class="cp">#define INVERT_E2_DIR false</span>
<span class="cp">#define INVERT_E3_DIR false</span>
<span class="cp">#define INVERT_E4_DIR false</span>
</pre></div>
</div>
<p>These settings reverse the motor direction for each axis. Be careful when first setting these. Axes moving the wrong direction can cause damage. Get these right without belts attached first, if possible. Before testing, move the carriage and bed to the middle. Test each axis for proper movemnt using the host or LCD “Move Axis” menu. If an axis is inverted, either flip the plug around or change its invert setting.</p>
</div>
</div>
<div class="section" id="homing-and-bounds">
<h2>Homing and Bounds<a class="headerlink" href="#homing-and-bounds" title="Permalink to this headline">¶</a></h2>
<div class="section" id="z-homing-height">
<h3>Z Homing Height<a class="headerlink" href="#z-homing-height" title="Permalink to this headline">¶</a></h3>
<p><img alt="Home Icon" src="assets/images/config/home.jpg" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NO_MOTION_BEFORE_HOMING	// Inhibit movement until all axes have been homed</span>
<span class="c1">//#define UNKNOWN_Z_NO_RAISE		// Don&#39;t raise Z (lower the bed) if Z is &quot;unknown.&quot;</span>
									<span class="c1">//For beds that fall when Z is powered off.</span>
<span class="c1">//#define Z_HOMING_HEIGHT 4</span>
</pre></div>
</div>
<p>This value raises Z to the specified height above the bed before homing X or Y. This is useful to prevent the head crashing into bed mountings such as screws, bulldog clips, etc. This also works with auto bed leveling enabled and will be triggered only when the Z axis height is less than the defined value, otherwise the Z axis will not move.
<code class="docutils literal notranslate"><span class="pre">NO_MOTION_BEFORE_HOMING</span></code> and <code class="docutils literal notranslate"><span class="pre">UNKNOWN_Z_NO_RAISE</span></code></p>
</div>
<div class="section" id="homing-direction">
<h3>Homing Direction<a class="headerlink" href="#homing-direction" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define X_HOME_DIR -1</span>
<span class="cp">#define Y_HOME_DIR -1</span>
<span class="cp">#define Z_HOME_DIR -1</span>
</pre></div>
</div>
<p>Homing direction for each axis: -1 = min, 1 = max. Most cartesian and core machines have three min endstops. Deltas have three max endstops. For other configurations set these values appropriately.</p>
</div>
<div class="section" id="movement-bounds">
<h3>Movement Bounds<a class="headerlink" href="#movement-bounds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define X_BED_SIZE 200</span>
<span class="cp">#define Y_BED_SIZE 200</span>
</pre></div>
</div>
<p>With Marlin you can directly specify the bed size. This allows Marlin to do extra logic related to the bed size when it differs from the movement limits below. If the XY carriage is able to move outside of the bed, you can specify a wider range below.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define X_MIN_POS 0</span>
<span class="cp">#define Y_MIN_POS 0</span>
<span class="cp">#define Z_MIN_POS 0</span>
<span class="cp">#define X_MAX_POS X_BED_SIZE</span>
<span class="cp">#define Y_MAX_POS Y_BED_SIZE</span>
<span class="cp">#define Z_MAX_POS 170</span>
</pre></div>
</div>
<p>These values specify the physical limits of the machine. Usually the <code class="docutils literal notranslate"><span class="pre">[XYZ]_MIN_POS</span></code> values are set to 0, because endstops are positioned at the bed limits. <code class="docutils literal notranslate"><span class="pre">[XYZ]_MAX_POS</span></code> should be set to the farthest reachable point. By default, these are used as your homing positions as well. However, the <code class="docutils literal notranslate"><span class="pre">MANUAL_[XYZ]_HOME_POS</span></code> options can be used to override these, if needed.</p>
<p>{% panel info Home Offset %}
Although home positions are fixed, <code class="docutils literal notranslate"><span class="pre">M206</span></code> can be used to apply offsets to the home position if needed.
{% endpanel %}</p>
</div>
<div class="section" id="software-endstops">
<h3>Software Endstops<a class="headerlink" href="#software-endstops" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MIN_SOFTWARE_ENDSTOPS</span>
<span class="cp">#if ENABLED(MIN_SOFTWARE_ENDSTOPS)</span>
  <span class="cp">#define MIN_SOFTWARE_ENDSTOP_X</span>
  <span class="cp">#define MIN_SOFTWARE_ENDSTOP_Y</span>
  <span class="cp">#define MIN_SOFTWARE_ENDSTOP_Z</span>
<span class="cp">#endif</span>

<span class="cp">#define MAX_SOFTWARE_ENDSTOPS</span>
<span class="cp">#if ENABLED(MAX_SOFTWARE_ENDSTOPS)</span>
  <span class="cp">#define MAX_SOFTWARE_ENDSTOP_X</span>
  <span class="cp">#define MAX_SOFTWARE_ENDSTOP_Y</span>
  <span class="cp">#define MAX_SOFTWARE_ENDSTOP_Z</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Enable these options to constrain movement to the physical boundaries of the machine (as set by <code class="docutils literal notranslate"><span class="pre">[XYZ]_(MIN|MAX)_POS</span></code>). For example, <code class="docutils literal notranslate"><span class="pre">G1</span> <span class="pre">Z-100</span></code> can be min constrained to <code class="docutils literal notranslate"><span class="pre">G1</span> <span class="pre">Z0</span></code>. It is recommended to enable these options as a safety feature. If software endstops need to be disabled, use <a class="reference external" href="/docs/gcode/M211.html"><code class="docutils literal notranslate"><span class="pre">M211</span> <span class="pre">S0</span></code></a>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if EITHER(MIN_SOFTWARE_ENDSTOPS, MAX_SOFTWARE_ENDSTOPS)</span>
  <span class="c1">//#define SOFT_ENDSTOPS_MENU_ITEM</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Enable/Disable software endstops from the LCD</p>
</div>
</div>
<div class="section" id="filament-runout-sensor">
<h2>Filament Runout Sensor<a class="headerlink" href="#filament-runout-sensor" title="Permalink to this headline">¶</a></h2>
<p><img alt="Filament Sensor" src="assets/images/config/filament-sensor.jpg" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FILAMENT_RUNOUT_SENSOR</span>
<span class="cp">#if ENABLED(FILAMENT_RUNOUT_SENSOR)</span>
  <span class="cp">#define NUM_RUNOUT_SENSORS   1     </span><span class="c1">// Number of sensors, up to one per extruder. Define a FIL_RUNOUT#_PIN for each.</span>
  <span class="cp">#define FIL_RUNOUT_INVERTING false </span><span class="c1">// Set to true to invert the logic of the sensor.</span>
  <span class="cp">#define FIL_RUNOUT_PULLUP          </span><span class="c1">// Use internal pullup for filament runout pins.</span>
  <span class="c1">//#define FIL_RUNOUT_PULLDOWN      // Use internal pulldown for filament runout pins.</span>

  <span class="c1">// Set one or more commands to execute on filament runout.</span>
  <span class="c1">// (After &#39;M412 H&#39; Marlin will ask the host to handle the process.)</span>
  <span class="cp">#define FILAMENT_RUNOUT_SCRIPT &quot;M600&quot;</span>

  <span class="c1">// After a runout is detected, continue printing this length of filament</span>
  <span class="c1">// before executing the runout script. Useful for a sensor at the end of</span>
  <span class="c1">// a feed tube. Requires 4 bytes SRAM per sensor, plus 4 bytes overhead.</span>
  <span class="c1">//#define FILAMENT_RUNOUT_DISTANCE_MM 25</span>

  <span class="cp">#ifdef FILAMENT_RUNOUT_DISTANCE_MM</span>
    <span class="c1">// Enable this option to use an encoder disc that toggles the runout pin</span>
    <span class="c1">// as the filament moves. (Be sure to set FILAMENT_RUNOUT_DISTANCE_MM</span>
    <span class="c1">// large enough to avoid false positives.)</span>
    <span class="c1">//#define FILAMENT_MOTION_SENSOR</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>With this feature, a mechanical or opto endstop switch is used to check for the presence of filament in the feeder (usually the switch is closed when filament is present). If the filament runs out, Marlin will run the specified GCode script (by default <a class="reference external" href="/docs/gcode/M600.html"><code class="docutils literal notranslate"><span class="pre">M600</span></code></a>). RAMPS-based boards use <code class="docutils literal notranslate"><span class="pre">SERVO3_PIN</span></code>. For other boards you may need to define <code class="docutils literal notranslate"><span class="pre">FIL_RUNOUT_PIN</span></code>.</p>
</div>
<div class="section" id="bed-leveling">
<h2>Bed Leveling<a class="headerlink" href="#bed-leveling" title="Permalink to this headline">¶</a></h2>
<p><img alt="Bed Level" src="assets/images/config/bedlevel.png" />{: .floater}</p>
<p>There are many cases where it is useful to measure variances in bed height. Even if the bed on a 3D printer is perfectly flat and level, there may still be imperfections in the mechanics. For example, a machine may have a very flat bed, but a corner of the XY gantry is a half-mm high. The ends of the Z axis may not be perfectly level. The bed may move slightly in the Z plane as it moves in the X and/or Y plane. On a Delta there may be a lingering bowl-shape to its XY trajectory.</p>
<p>Bed Compensation or “— Bed Leveling” allows the machine —with a bed probe or user assistance— to take accurate measurements of the “bed height” at various points in the XY plane. With this data the machine can then adjust movement to align better to the tilt or “height” variances in the bed. (I’m scare-quoting “height” here because variances may come from other than the bed.)</p>
<p>For more details on these features, see <a class="reference external" href="/docs/gcode/G029-mbl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code> for MBL</a> and <a class="reference external" href="/docs/gcode/G029-abl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code> for ABL</a>.</p>
<p><strong>We recommend</strong> that you try and get your printer the best it can be before using bedlevel, after all bedlevel only compensates for “bad” hardware, it does not correct it.</p>
<div class="section" id="bed-leveling-style">
<h3>Bed Leveling Style<a class="headerlink" href="#bed-leveling-style" title="Permalink to this headline">¶</a></h3>
<p>Bed Leveling is a standard feature on many 3D printers. It takes the guess-work out of getting a good first layer and good bed adhesion.  All forms of bed leveling add <code class="docutils literal notranslate"><span class="pre">G29</span></code> Bed Probing, <code class="docutils literal notranslate"><span class="pre">M420</span></code> enable/disable, and can save their results to EEPROM with <code class="docutils literal notranslate"><span class="pre">M500</span></code>. Bravo!</p>
<p>With Bed Leveling enabled:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">G28</span></code> disables bed leveling, but leaves previous leveling data intact.</li>
<li><code class="docutils literal notranslate"><span class="pre">G29</span></code> automatically or manually probes the bed at various points, measures the bed height, calculates a correction grid or matrix, and turns on leveling compensation. Specific behavior depends on configuration and type of bed leveling.</li>
<li><a class="reference external" href="/docs/gcode/M500.html"><code class="docutils literal notranslate"><span class="pre">M500</span></code></a> saves the bed leveling data to EEPROM. Use <a class="reference external" href="/docs/gcode/M501.html"><code class="docutils literal notranslate"><span class="pre">M501</span></code></a> to load it, <a class="reference external" href="/docs/gcode/M502.html"><code class="docutils literal notranslate"><span class="pre">M502</span></code></a> to clear it, and <a class="reference external" href="/docs/gcode/M503.html"><code class="docutils literal notranslate"><span class="pre">M503</span></code></a> to report it.</li>
<li><code class="docutils literal notranslate"><span class="pre">M420</span> <span class="pre">S&lt;bool&gt;</span></code> can be used to enable/disable bed leveling. For example, <a class="reference external" href="/docs/gcode/M420.html"><code class="docutils literal notranslate"><span class="pre">M420</span> <span class="pre">S1</span></code></a> must be used after <code class="docutils literal notranslate"><span class="pre">M501</span></code> to enable the loaded mesh or matrix, and to re-enable leveling after <code class="docutils literal notranslate"><span class="pre">G28</span></code>, which disables leveling compensation.</li>
<li>A “Level Bed” menu item can be added to the LCD with the <code class="docutils literal notranslate"><span class="pre">LCD_BED_LEVELING</span></code> option.</li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define AUTO_BED_LEVELING_3POINT</span>
<span class="c1">//#define AUTO_BED_LEVELING_LINEAR</span>
<span class="c1">//#define AUTO_BED_LEVELING_BILINEAR</span>
<span class="c1">//#define AUTO_BED_LEVELING_UBL</span>
<span class="c1">//#define MESH_BED_LEVELING</span>
</pre></div>
</div>
<p>Enable just one type of Bed Leveling.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_3POINT</span></code> probes three points in a triangle. The flat plane gives a transform matrix suitable to compensate for a flat but tilted bed.</li>
<li><code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_LINEAR</span></code> probes the bed in a grid. A transform matrix is produced by least-squares method to compensate for a flat but tilted bed.</li>
<li><code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_BILINEAR</span></code> probes the bed in a grid, with optional Catmull-Rom subdivision. The mesh data is used to adjust Z height across the bed using bilinear interpolation. Good for delta, large, or uneven beds.</li>
<li><code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_UBL</span></code> (recommended) combines the features of 3-point, linear, bilinear, and mesh leveling. As with bilinear leveling, the mesh data generated by UBL is used to adjust Z height across the bed using bilinear interpolation. An LCD controller is currently required.</li>
<li><code class="docutils literal notranslate"><span class="pre">MESH_BED_LEVELING</span></code> provides a custom <code class="docutils literal notranslate"><span class="pre">G29</span></code> command to measure the bed height at several grid points using a piece of paper or feeler gauge. See <a class="reference external" href="/docs/gcode/G029-mbl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code> for MBL</a> for the full procedure. This type of leveling is only compatible with <code class="docutils literal notranslate"><span class="pre">PROBE_MANUALLY</span></code>.</li>
</ul>
<p>{% alert info %}
Only <code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_BILINEAR</span></code> and <code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_UBL</span></code> support <code class="docutils literal notranslate"><span class="pre">DELTA</span></code>.<br/>
Only <code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_BILINEAR</span></code> currently supports <code class="docutils literal notranslate"><span class="pre">SCARA</span></code>.<br/>
<code class="docutils literal notranslate"><span class="pre">MESH_BED_LEVELING</span></code> is incompatible with Delta and SCARA.
{% endalert %}</p>
</div>
<div class="section" id="restore-after-g28">
<h3>Restore after G28<a class="headerlink" href="#restore-after-g28" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define RESTORE_LEVELING_AFTER_G28</span>
</pre></div>
</div>
<p>Normally <a class="reference external" href="/docs/gcode/G028.html"><code class="docutils literal notranslate"><span class="pre">G28</span></code></a> leaves leveling disabled on completion. Enable this option to have <a class="reference external" href="/docs/gcode/G028.html"><code class="docutils literal notranslate"><span class="pre">G28</span></code></a> restore the prior leveling state.</p>
</div>
<div class="section" id="debug-leveling">
<h3>Debug Leveling<a class="headerlink" href="#debug-leveling" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define DEBUG_LEVELING_FEATURE</span>
</pre></div>
</div>
<p>Use this option to enable extra debugging of homing and leveling. You can then use <code class="docutils literal notranslate"><span class="pre">M111</span> <span class="pre">S32</span></code> before issuing <code class="docutils literal notranslate"><span class="pre">G28</span></code> and <code class="docutils literal notranslate"><span class="pre">G29</span> <span class="pre">V4</span></code> to get a detailed log of the process for diagnosis. This option is useful to figure out the cause of unexpected behaviors, or when reporting issues to the project.</p>
</div>
<div class="section" id="leveling-fade-height">
<h3>Leveling Fade Height<a class="headerlink" href="#leveling-fade-height" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define ENABLE_LEVELING_FADE_HEIGHT</span>
</pre></div>
</div>
<p>Available with <code class="docutils literal notranslate"><span class="pre">MESH_BED_LEVELING</span></code>, <code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_BILINEAR</span></code>, and <code class="docutils literal notranslate"><span class="pre">AUTO_BED_LEVELING_UBL</span></code>.</p>
<p>This option adds the <code class="docutils literal notranslate"><span class="pre">Z</span></code> parameter to <a class="reference external" href="/docs/gcode/M420.html"><code class="docutils literal notranslate"><span class="pre">M420</span></code></a> which sets a fade distance over which leveling will be gradually reduced. Above the given Z height, leveling compensation will no longer be applied.</p>
<p>This feature exists to prevent irregularities in the bed from propagating through the model’s entire height. Fading out leveling also reduces computational requirements and resonance from the Z axis above the fade height. For a well-aligned machine, this feature can improve print results.</p>
<p>Example: To have leveling fade out over the first 10mm of layer printing use <code class="docutils literal notranslate"><span class="pre">M420</span> <span class="pre">Z10</span></code>. If each layer is 0.2mm high, leveling compensation will be reduced by 1/50th (2%) after each layer. Above 10mm the machine will move without compensation.</p>
<div class="section" id="g26-mesh-validation-pattern">
<h4>G26 Mesh Validation Pattern<a class="headerlink" href="#g26-mesh-validation-pattern" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Enable the G26 Mesh Validation Pattern tool.</span>
<span class="cm"> */</span>
<span class="cp">#define G26_MESH_VALIDATION   </span><span class="c1">// Enable G26 mesh validation</span>
<span class="cp">#if ENABLED(G26_MESH_VALIDATION)</span>
  <span class="cp">#define MESH_TEST_NOZZLE_SIZE     0.4   </span><span class="c1">// (mm) Diameter of primary nozzle.</span>
  <span class="cp">#define MESH_TEST_LAYER_HEIGHT    0.2   </span><span class="c1">// (mm) Default layer height for the G26 Mesh Validation Tool.</span>
  <span class="cp">#define MESH_TEST_HOTEND_TEMP   205   </span><span class="c1">// (°C) Default nozzle temperature for the G26 Mesh Validation Tool.</span>
  <span class="cp">#define MESH_TEST_BED_TEMP       60   </span><span class="c1">// (°C) Default bed temperature for the G26 Mesh Validation Tool.</span>
  <span class="cp">#define G26_XY_FEEDRATE         20    </span><span class="c1">// (mm/s) Feedrate for XY Moves for the G26 Mesh Validation Tool.</span>

<span class="cp">#endif</span>
</pre></div>
</div>
<p>When using any of the mesh-based leveling systems (1.1.7) you can activate <code class="docutils literal notranslate"><span class="pre">G26_MESH_VALIDATION</span></code> to print test patterns and fine-tune the mesh. See <a class="reference external" href="/docs/gcode/G026.html"><code class="docutils literal notranslate"><span class="pre">G26</span></code> Mesh Validation</a> for full details. The <a class="reference external" href="/docs/gcode/G026.html"><code class="docutils literal notranslate"><span class="pre">G26</span></code></a> command accepts parameters for nozzle size, layer height, etc. The sub-options above specify the default values that will be applied for omitted parameters.</p>
</div>
</div>
<div class="section" id="linear-bilinear-options">
<h3>Linear / Bilinear Options<a class="headerlink" href="#linear-bilinear-options" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define GRID_MAX_POINTS_X 3</span>
<span class="cp">#define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X</span>
</pre></div>
</div>
<p>These options specify the default number of points to probe in each dimension during <code class="docutils literal notranslate"><span class="pre">G29</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="c1">//#define LEFT_PROBE_BED_POSITION MIN_PROBE_EDGE</span>
  <span class="c1">//#define RIGHT_PROBE_BED_POSITION (X_BED_SIZE - (MIN_PROBE_EDGE))</span>
  <span class="c1">//#define FRONT_PROBE_BED_POSITION MIN_PROBE_EDGE</span>
  <span class="c1">//#define BACK_PROBE_BED_POSITION (Y_BED_SIZE - (MIN_PROBE_EDGE))</span>
</pre></div>
</div>
<p>These settings specify the boundaries for probing with <a class="reference external" href="/docs/gcode/G029-mbl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code></a>. This will most likely be a sub-section of the bed because probes are not usually able to reach every point that the nozzle can. Take account of the probe’s XY offsets when setting these boundaries.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PROBE_Y_FIRST</span>
</pre></div>
</div>
<p>Enable this option if probing should proceed in the Y dimension first instead of X first.</p>
</div>
<div class="section" id="bilinear-options">
<h3>Bilinear Options<a class="headerlink" href="#bilinear-options" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EXTRAPOLATE_BEYOND_GRID</span>
</pre></div>
</div>
<p>Usually the probed grid doesn’t extend all the way to the edges of the bed. So, outside the bounds of the probed grid, Z adjustment can take one of two approaches. Either the Z height can continue to raise/lower by the established tilt of the nearest grid box (best when most of the bed was probed), or it can follow the contour of the nearest edge (the default). Enable this option for extrapolation.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ABL_BILINEAR_SUBDIVISION</span>
<span class="cp">#if ENABLED(ABL_BILINEAR_SUBDIVISION)</span>
  <span class="c1">// Number of subdivisions between probe points</span>
  <span class="cp">#define BILINEAR_SUBDIVISIONS 3</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>If you have SRAM to spare, this option will multiply the resolution of the bilinear grid using the Catmull-Rom subdivision method. This option only applies to bilinear leveling. If the default value of 3 is too expensive, try 2 or 1. (In Marlin 1.1.1, the default grid will be stored in PROGMEM, as UBL now does.)</p>
</div>
<div class="section" id="unified-bed-leveling-options">
<h3>Unified Bed Leveling Options<a class="headerlink" href="#unified-bed-leveling-options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="probe-points">
<h4>Probe Points<a class="headerlink" href="#probe-points" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define UBL_MESH_INSET 1          </span><span class="c1">// Mesh inset margin on print area</span>
<span class="cp">#define GRID_MAX_POINTS_X 10      </span><span class="c1">// Don&#39;t use more than 15 points per axis, implementation limited.</span>
<span class="cp">#define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X</span>

  <span class="cp">#define UBL_MESH_EDIT_MOVES_Z     </span><span class="c1">// Sophisticated users prefer no movement of nozzle</span>
  <span class="cp">#define UBL_SAVE_ACTIVE_ON_M500   </span><span class="c1">// Save the currently active mesh in the current slot on M500</span>

  <span class="c1">//#define UBL_Z_RAISE_WHEN_OFF_MESH 2.5 // When the nozzle is off the mesh, this value is used</span>
                                          <span class="c1">// as the Z-Height correction value.</span>
</pre></div>
</div>
<p>These options specify the inset, grid, and 3-point triangle to use for UBL. Note that probe XY offsets and movement limits may constrain the probeable area of the bed.</p>
</div>
</div>
<div class="section" id="mesh-bed-leveling-options">
<h3>Mesh Bed Leveling Options<a class="headerlink" href="#mesh-bed-leveling-options" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MESH_INSET 10          </span><span class="c1">// Mesh inset margin on print area</span>
<span class="cp">#define GRID_MAX_POINTS_X 3    </span><span class="c1">// Don&#39;t use more than 7 points per axis, implementation limited.</span>
<span class="cp">#define GRID_MAX_POINTS_Y GRID_MAX_POINTS_X</span>

<span class="c1">//#define MESH_G28_REST_ORIGIN // After homing all axes (&#39;G28&#39; or &#39;G28 XYZ&#39;) rest Z at Z_MIN_POS</span>
</pre></div>
</div>
<p>These options specify the number of points that will always be probed in each dimension during <code class="docutils literal notranslate"><span class="pre">G29</span></code>. The mesh inset is used to automatically calculate the probe boundaries. These can be set explicitly in <code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code>. <code class="docutils literal notranslate"><span class="pre">MESH_G28_REST_ORIGIN</span></code> moves the nozzle to rest at <code class="docutils literal notranslate"><span class="pre">Z_MIN_POS</span></code> when mesh probing is done. If Z is offset (e.g., due to <code class="docutils literal notranslate"><span class="pre">home_offset</span></code> or some other cause) this is intended to move Z to a good starting point, usually Z=0.</p>
</div>
<div class="section" id="point-options">
<h3>3-Point Options<a class="headerlink" href="#point-options" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if EITHER(AUTO_BED_LEVELING_3POINT, AUTO_BED_LEVELING_UBL)</span>
  <span class="c1">//#define PROBE_PT_1_X 15</span>
  <span class="c1">//#define PROBE_PT_1_Y 180</span>
  <span class="c1">//#define PROBE_PT_2_X 15</span>
  <span class="c1">//#define PROBE_PT_2_Y 20</span>
  <span class="c1">//#define PROBE_PT_3_X 170</span>
  <span class="c1">//#define PROBE_PT_3_Y 20</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>These options specify the three points that will be probed during <code class="docutils literal notranslate"><span class="pre">G29</span></code>.</p>
</div>
<div class="section" id="lcd-bed-leveling">
<h3>LCD Bed Leveling<a class="headerlink" href="#lcd-bed-leveling" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LCD_BED_LEVELING</span>
<span class="cp">#if ENABLED(LCD_BED_LEVELING)</span>
  <span class="cp">#define MESH_EDIT_Z_STEP  0.025 </span><span class="c1">// (mm) Step size while manually probing Z axis.</span>
  <span class="cp">#define LCD_PROBE_Z_RANGE 4     </span><span class="c1">// (mm) Z Range centered on Z_MIN_POS for LCD Z adjustment</span>
  <span class="c1">//#define MESH_EDIT_MENU        // Add a menu to edit mesh points</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">LCD_BED_LEVELING</span></code> adds a “Level Bed” menu to the LCD that starts a step-by-step guided leveling procedure that requires no probe. For Mesh Bed Leveling see <a class="reference external" href="/docs/gcode/G029-mbl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code> for MBL</a>, and for <code class="docutils literal notranslate"><span class="pre">PROBE_MANUALLY</span></code> see <a class="reference external" href="/docs/gcode/G029-abl.html"><code class="docutils literal notranslate"><span class="pre">G29</span></code> for ABL</a>.</p>
<p>Available with <code class="docutils literal notranslate"><span class="pre">MESH_BED_LEVELING</span></code> and <code class="docutils literal notranslate"><span class="pre">PROBE_MANUALLY</span></code> (all forms of Auto Bed Leveling). See the <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> file for sub-options.</p>
</div>
<div class="section" id="corner-leveling">
<h3>Corner Leveling<a class="headerlink" href="#corner-leveling" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LEVEL_BED_CORNERS</span>
<span class="cp">#if ENABLED(LEVEL_BED_CORNERS)</span>
  <span class="cp">#define LEVEL_CORNERS_INSET 30    </span><span class="c1">// (mm) An inset for corner leveling</span>
  <span class="cp">#define LEVEL_CORNERS_Z_HOP  4.0  </span><span class="c1">// (mm) Move nozzle up before moving between corners</span>
  <span class="cp">#define LEVEL_CORNERS_HEIGHT 0.0  </span><span class="c1">// (mm) Z height of nozzle at leveling points</span>
  <span class="c1">//#define LEVEL_CENTER_TOO        // Move to the center after the last corner</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Add a menu item to move between bed corners for manual bed adjustment.</p>
</div>
<div class="section" id="z-probe-end-script">
<h3>Z Probe End Script<a class="headerlink" href="#z-probe-end-script" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_PROBE_END_SCRIPT &quot;G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10&quot;</span>
</pre></div>
</div>
<p>A custom script to do at the very end of <code class="docutils literal notranslate"><span class="pre">G29</span></code>. If multiple commands are needed, divide them with <code class="docutils literal notranslate"><span class="pre">\n</span></code> (the newline character).</p>
</div>
</div>
<div class="section" id="homing-options">
<h2>Homing Options<a class="headerlink" href="#homing-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bed-center-at-0-0">
<h3>Bed Center at 0,0<a class="headerlink" href="#bed-center-at-0-0" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define BED_CENTER_AT_0_0</span>
</pre></div>
</div>
<p>Enable this option if the bed center is at X0 Y0. This setting affects the way automatic home positions (those not set with <code class="docutils literal notranslate"><span class="pre">MANUAL_[XYZ]_POS</span></code>) are calculated. This should always be enabled with <code class="docutils literal notranslate"><span class="pre">DELTA</span></code>.</p>
</div>
<div class="section" id="manual-home-position">
<h3>Manual Home Position<a class="headerlink" href="#manual-home-position" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MANUAL_X_HOME_POS 0</span>
<span class="c1">//#define MANUAL_Y_HOME_POS 0</span>
<span class="c1">//#define MANUAL_Z_HOME_POS 0 // Distance from nozzle to printbed after homing</span>
</pre></div>
</div>
<p>These settings are used to override the home position. Leave them undefined for automatic settings. For <code class="docutils literal notranslate"><span class="pre">DELTA</span></code> Z home must be set to the top-most position.</p>
</div>
<div class="section" id="z-safe-homing">
<h3>Z Safe Homing<a class="headerlink" href="#z-safe-homing" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define Z_SAFE_HOMING</span>

<span class="cp">#if ENABLED(Z_SAFE_HOMING)</span>
  <span class="cp">#define Z_SAFE_HOMING_X_POINT ((X_BED_SIZE) / 2)    </span><span class="c1">// X point for Z homing when homing all axes (G28).</span>
  <span class="cp">#define Z_SAFE_HOMING_Y_POINT ((Y_BED_SIZE) / 2)    </span><span class="c1">// Y point for Z homing when homing all axes (G28).</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p><strong>Z Safe Homing</strong> prevents Z from homing when the probe (or nozzle) is outside bed area by moving to a defined XY point (by default, the middle of the bed) before Z Homing when homing all axes with <code class="docutils literal notranslate"><span class="pre">G28</span></code>. As a side-effect, X and Y homing are required before Z homing. If stepper drivers time out, X and Y homing will be required again.</p>
<p>Enable this option if a probe (not an endstop) is being used for Z homing. Z Safe Homing isn’t needed if a Z endstop is used for homing, but it may also be enabled just to have XY always move to some custom position after homing.</p>
</div>
<div class="section" id="homing-speed">
<h3>Homing Speed<a class="headerlink" href="#homing-speed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Homing speeds (mm/m)</span>
<span class="cp">#define HOMING_FEEDRATE_XY (50*60)</span>
<span class="cp">#define HOMING_FEEDRATE_Z  (4*60)</span>
</pre></div>
</div>
<p>Homing speed for use in auto home and auto bed leveling. These values may be set to the fastest speeds your machine can achieve. Homing and probing speeds are constrained by the current max feedrate and max acceleration settings.</p>
<p>{% alert warning %}
Setting these values too high may result in reduced accuracy and/or skipped steps. Reducing acceleration may help to achieve higher top speeds.
{% endalert %}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define VALIDATE_HOMING_ENDSTOPS</span>
</pre></div>
</div>
<p>Validate that endstops are triggered on homing moves.</p>
</div>
<div class="section" id="bed-skew-compensation">
<h3>Bed Skew Compensation<a class="headerlink" href="#bed-skew-compensation" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SKEW_CORRECTION</span>

<span class="cp">#if ENABLED(SKEW_CORRECTION)</span>
  <span class="c1">// Input all length measurements here:</span>
  <span class="cp">#define XY_DIAG_AC 282.8427124746</span>
  <span class="cp">#define XY_DIAG_BD 282.8427124746</span>
  <span class="cp">#define XY_SIDE_AD 200</span>

  <span class="c1">// Or, set the default skew factors directly here</span>
  <span class="c1">// to override the above measurements:</span>
  <span class="cp">#define XY_SKEW_FACTOR 0.0</span>

  <span class="c1">//#define SKEW_CORRECTION_FOR_Z</span>
  <span class="cp">#if ENABLED(SKEW_CORRECTION_FOR_Z)</span>
    <span class="cp">#define XZ_DIAG_AC 282.8427124746</span>
    <span class="cp">#define XZ_DIAG_BD 282.8427124746</span>
    <span class="cp">#define YZ_DIAG_AC 282.8427124746</span>
    <span class="cp">#define YZ_DIAG_BD 282.8427124746</span>
    <span class="cp">#define YZ_SIDE_AD 200</span>
    <span class="cp">#define XZ_SKEW_FACTOR 0.0</span>
    <span class="cp">#define YZ_SKEW_FACTOR 0.0</span>
  <span class="cp">#endif</span>

  <span class="c1">// Enable this option for M852 to set skew at runtime</span>
  <span class="c1">//#define SKEW_CORRECTION_GCODE</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Correct for misalignment in the XYZ axes. See <code class="docutils literal notranslate"><span class="pre">configuration.h</span></code> for a thorough explanation.</p>
</div>
</div>
<div class="section" id="additonal-features">
<h2>Additonal Features<a class="headerlink" href="#additonal-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="eeprom">
<h3>EEPROM<a class="headerlink" href="#eeprom" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EEPROM_SETTINGS</span>
</pre></div>
</div>
<p>Commands like <a class="reference external" href="/docs/gcode/M092.html"><code class="docutils literal notranslate"><span class="pre">M92</span></code></a> only change the settings in volatile memory, and these settings are lost when the machine is powered off. With this option enabled, Marlin uses the built-in EEPROM to preserve settings across reboots. Settings saved to EEPROM (with <code class="docutils literal notranslate"><span class="pre">M500</span></code>) are loaded automatically whenever the machine restarts (and in most setups, when connecting to a host), overriding the defaults set in the configuration files. This option is highly recommended, as it makes configurations easier to manage.</p>
<p>The EEPROM-related commands are:</p>
<ul class="simple">
<li><a class="reference external" href="/docs/gcode/M500.html"><code class="docutils literal notranslate"><span class="pre">M500</span></code></a>: Save all current settings to EEPROM.</li>
<li><a class="reference external" href="/docs/gcode/M501.html"><code class="docutils literal notranslate"><span class="pre">M501</span></code></a>: Load all settings last saved to EEPROM.</li>
<li><a class="reference external" href="/docs/gcode/M502.html"><code class="docutils literal notranslate"><span class="pre">M502</span></code></a>: Reset all settings to their default values (as set by <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code>)</li>
<li><a class="reference external" href="/docs/gcode/M503.html"><code class="docutils literal notranslate"><span class="pre">M503</span></code></a>: Print the current settings (in RAM, not EEPROM)</li>
</ul>
<div class="section" id="eeprom-options">
<h4>EEPROM Options<a class="headerlink" href="#eeprom-options" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define DISABLE_M503    // Saves ~2700 bytes of PROGMEM. Disable for release!</span>
<span class="cp">#define EEPROM_CHITCHAT   </span><span class="c1">// Give feedback on EEPROM commands. Disable to save PROGMEM.</span>
</pre></div>
</div>
<p>These EEPROM options should be left as they are, but for 128K and smaller boards they may be used to recover some program memory. Vendors are strongly discouraged from using <code class="docutils literal notranslate"><span class="pre">DISABLE_M503</span></code>.</p>
<p>{% alert info %}
Settings that can be changed and saved to EEPROM are marked with <em class="fa fa-sticky-note-o" aria-hidden="true"></em>. Options marked with <em class="fa fa-desktop" aria-hidden="true"></em> can be changed from the LCD controller.
{% endalert %}</p>
<p>{% alert info %}
When you change saveable settings in the configuration files and re-flash, the new values don’t take effect right away. They are still overridden by the saved values in EEPROM. To get your new default settings into the EEPROM, use <code class="docutils literal notranslate"><span class="pre">M502</span></code> followed by <code class="docutils literal notranslate"><span class="pre">M500</span></code>.
{% endalert %}</p>
</div>
</div>
<div class="section" id="host-keepalive">
<h3>Host Keepalive<a class="headerlink" href="#host-keepalive" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define HOST_KEEPALIVE_FEATURE        </span><span class="c1">// Disable this if your host doesn&#39;t like keepalive messages</span>
<span class="cp">#define DEFAULT_KEEPALIVE_INTERVAL 2  </span><span class="c1">// Number of seconds between &quot;busy&quot; messages. Set with M113.</span>
<span class="cp">#define BUSY_WHILE_HEATING            </span><span class="c1">// Some hosts require &quot;busy&quot; messages even during heating</span>
</pre></div>
</div>
<p>When Host Keepalive is enabled Marlin will send a busy status message to the host every couple of seconds when it can’t accept commands. Disable if your host doesn’t like keepalive messages. Use <code class="docutils literal notranslate"><span class="pre">DEFAULT_KEEPALIVE_INTERVAL</span></code> for the default number of seconds between “busy” messages. Override with <a class="reference external" href="/docs/gcode/M113.html"><code class="docutils literal notranslate"><span class="pre">M113</span></code></a>. Marlin 1.1.5 and up include the <code class="docutils literal notranslate"><span class="pre">BUSY_WHILE_HEATING</span></code> option for hosts that treat host keepalive as a strict busy protocol.</p>
</div>
<div class="section" id="free-memory-watcher">
<h3>Free Memory Watcher<a class="headerlink" href="#free-memory-watcher" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define M100_FREE_MEMORY_WATCHER</span>
</pre></div>
</div>
<p>Uncomment to add the <a class="reference external" href="/docs/gcode/M100.html"><code class="docutils literal notranslate"><span class="pre">M100</span></code></a> Free Memory Watcher for debugging purposes.</p>
</div>
<div class="section" id="inch-units">
<h3>Inch Units<a class="headerlink" href="#inch-units" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define INCH_MODE_SUPPORT</span>
</pre></div>
</div>
<p>This option adds support for the <a class="reference external" href="/docs/gcode/G020.html"><code class="docutils literal notranslate"><span class="pre">G20</span></code></a> and <a class="reference external" href="/docs/gcode/G021.html"><code class="docutils literal notranslate"><span class="pre">G21</span></code></a> commands, allowing G-code to specify units in inches.</p>
</div>
<div class="section" id="temperature-units">
<h3>Temperature Units<a class="headerlink" href="#temperature-units" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define TEMPERATURE_UNITS_SUPPORT</span>
</pre></div>
</div>
<p>This option adds support for <a class="reference external" href="/docs/gcode/M149.html"><code class="docutils literal notranslate"><span class="pre">M149</span></code></a> <code class="docutils literal notranslate"><span class="pre">C</span></code>, <a class="reference external" href="/docs/gcode/M149.html"><code class="docutils literal notranslate"><span class="pre">M149</span></code></a> <code class="docutils literal notranslate"><span class="pre">K</span></code>, and <a class="reference external" href="/docs/gcode/M149.html"><code class="docutils literal notranslate"><span class="pre">M149</span></code></a> <code class="docutils literal notranslate"><span class="pre">F</span></code> to set temperature units to Celsius, Kelvin, or Fahrenheit. Without this option all temperatures must be specified in Celsius units.</p>
</div>
<div class="section" id="lcd-material-presets-em-class-fa-fa-sticky-note-o-text-info-aria-hidden-true-em-em-class-fa-fa-desktop-text-info-aria-hidden-true-em">
<h3>LCD Material Presets <em class="fa fa-sticky-note-o text-info" aria-hidden="true"></em> <em class="fa fa-desktop text-info" aria-hidden="true"></em><a class="headerlink" href="#lcd-material-presets-em-class-fa-fa-sticky-note-o-text-info-aria-hidden-true-em-em-class-fa-fa-desktop-text-info-aria-hidden-true-em" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PREHEAT_1_TEMP_HOTEND 180</span>
<span class="cp">#define PREHEAT_1_TEMP_BED     70</span>
<span class="cp">#define PREHEAT_1_FAN_SPEED     0 </span><span class="c1">// Value from 0 to 255</span>

<span class="cp">#define PREHEAT_2_TEMP_HOTEND 240</span>
<span class="cp">#define PREHEAT_2_TEMP_BED    110</span>
<span class="cp">#define PREHEAT_2_FAN_SPEED     0 </span><span class="c1">// Value from 0 to 255</span>
</pre></div>
</div>
<p>These are the default values for the <code class="docutils literal notranslate"><span class="pre">Prepare</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Preheat</span></code> LCD menu options. These values can be overridden using the <a class="reference external" href="/docs/gcode/M145.html"><code class="docutils literal notranslate"><span class="pre">M145</span></code></a> command or the <code class="docutils literal notranslate"><span class="pre">Control</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Temperature</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Preheat</span> <span class="pre">Material</span> <span class="pre">X</span> <span class="pre">conf</span></code> submenus.</p>
</div>
<div class="section" id="nozzle-park">
<h3>Nozzle Park<a class="headerlink" href="#nozzle-park" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NOZZLE_PARK_FEATURE</span>
<span class="cp">#if ENABLED(NOZZLE_PARK_FEATURE)</span>
  <span class="c1">// Specify a park position as { X, Y, Z_raise }</span>
  <span class="cp">#define NOZZLE_PARK_POINT { (X_MIN_POS + 10), (Y_MAX_POS - 10), 20 }</span>
  <span class="cp">#define NOZZLE_PARK_XY_FEEDRATE 100   </span><span class="c1">// (mm/s) X and Y axes feedrate (also used for delta Z axis)</span>
  <span class="cp">#define NOZZLE_PARK_Z_FEEDRATE 5      </span><span class="c1">// (mm/s) Z axis feedrate (not used for delta printers)</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Park the nozzle at the given XYZ position on idle or <a class="reference external" href="/docs/gcode/G027.html"><code class="docutils literal notranslate"><span class="pre">G27</span></code></a>.</p>
<p>The “P” parameter controls the action applied to the Z axis:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">P0</span></code> - (Default) If Z is below park Z raise the nozzle.</li>
<li><code class="docutils literal notranslate"><span class="pre">P1</span></code> - Raise the nozzle always to Z-park height.</li>
<li><code class="docutils literal notranslate"><span class="pre">P2</span></code> - Raise the nozzle by Z-park amount, limited to <code class="docutils literal notranslate"><span class="pre">Z_MAX_POS</span></code>.</li>
</ul>
</div>
<div class="section" id="nozzle-clean">
<h3>Nozzle Clean<a class="headerlink" href="#nozzle-clean" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NOZZLE_CLEAN_FEATURE</span>
<span class="cp">#if ENABLED(NOZZLE_CLEAN_FEATURE)</span>
  <span class="c1">// Default number of pattern repetitions</span>
  <span class="cp">#define NOZZLE_CLEAN_STROKES  12</span>

  <span class="c1">// Default number of triangles</span>
  <span class="cp">#define NOZZLE_CLEAN_TRIANGLES  3</span>

  <span class="c1">// Specify positions as { X, Y, Z }</span>
  <span class="cp">#define NOZZLE_CLEAN_START_POINT { 30, 30, (Z_MIN_POS + 1)}</span>
  <span class="cp">#define NOZZLE_CLEAN_END_POINT   { 100, 60, (Z_MIN_POS + 1) }</span>

  <span class="c1">// Circular pattern radius</span>
  <span class="cp">#define NOZZLE_CLEAN_CIRCLE_RADIUS 6.5</span>
  <span class="c1">// Circular pattern circle fragments number</span>
  <span class="cp">#define NOZZLE_CLEAN_CIRCLE_FN 10</span>
  <span class="c1">// Middle point of circle</span>
  <span class="cp">#define NOZZLE_CLEAN_CIRCLE_MIDDLE NOZZLE_CLEAN_START_POINT</span>

  <span class="c1">// Move the nozzle to the initial position after cleaning</span>
  <span class="cp">#define NOZZLE_CLEAN_GOBACK</span>

  <span class="c1">// Enable for a purge/clean station that&#39;s always at the gantry height (thus no Z move)</span>
  <span class="c1">//#define NOZZLE_CLEAN_NO_Z</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Adds the <a class="reference external" href="/docs/gcode/G012.html"><code class="docutils literal notranslate"><span class="pre">G12</span></code></a> command to perform a nozzle cleaning process. See <code class="docutils literal notranslate"><span class="pre">Configuration.h</span></code> for additional configuration options.</p>
</div>
<div class="section" id="print-job-timer">
<h3>Print Job Timer<a class="headerlink" href="#print-job-timer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PRINTJOB_TIMER_AUTOSTART</span>
</pre></div>
</div>
<p>Automatically start and stop the print job timer when <a class="reference external" href="/docs/gcode/M104.html"><code class="docutils literal notranslate"><span class="pre">M104</span></code></a>/<a class="reference external" href="/docs/gcode/M109.html"><code class="docutils literal notranslate"><span class="pre">M109</span></code></a>/<a class="reference external" href="/docs/gcode/M190.html"><code class="docutils literal notranslate"><span class="pre">M190</span></code></a> commands are received. Also adds the following commands to control the timer:</p>
<ul class="simple">
<li><a class="reference external" href="/docs/gcode/M075.html"><code class="docutils literal notranslate"><span class="pre">M75</span></code></a> - Start the print job timer.</li>
<li><a class="reference external" href="/docs/gcode/M076.html"><code class="docutils literal notranslate"><span class="pre">M76</span></code></a> - Pause the print job timer.</li>
<li><a class="reference external" href="/docs/gcode/M077.html"><code class="docutils literal notranslate"><span class="pre">M77</span></code></a> - Stop the print job timer.</li>
</ul>
</div>
<div class="section" id="print-counter">
<h3>Print Counter<a class="headerlink" href="#print-counter" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PRINTCOUNTER</span>
</pre></div>
</div>
<p>When enabled Marlin will keep track of some print statistics such as:</p>
<ul class="simple">
<li>Total print jobs</li>
<li>Total successful print jobs</li>
<li>Total failed print jobs</li>
<li>Total time printing</li>
</ul>
<p>This information can be viewed by the <code class="docutils literal notranslate"><span class="pre">M78</span></code> command.</p>
</div>
</div>
<div class="section" id="lcd-language">
<h2>LCD Language<a class="headerlink" href="#lcd-language" title="Permalink to this headline">¶</a></h2>
<div class="section" id="user-interface-language">
<h3>User Interface Language<a class="headerlink" href="#user-interface-language" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define LCD_LANGUAGE en</span>
</pre></div>
</div>
<p>Choose your preferred language for the LCD controller here. Supported languages include:</p>
<p>| Code      | Language                    |      | Code    | Language             |      | Code  | Language               |
| ——— | ————————— | —- | ——- | ——————– | —- | —– | ———————- |
| en        | English (Default)           |      | an      | Aragonese            |      | bg    | Bulgarian              |
| ca        | Catalan                     |      | cn      | Chinese              |      | cz    | Czech                  |
| da        | Danish                      |      | de      | German               |      | el    | Greek                  |
| el-gr     | Greek (Greece)              |      | es      | Spanish              |      | eu    | Basque-Euskera         |
| fi        | Finnish                     |      | fr      | French               |      | gl    | Galician               |
| hr        | Croatian                    |      | it      | Italian              |      | kana  | Japanese               |
| kana_utf8 | Japanese (UTF8)             |      | ko_KR   | Korean (South Korea) |      | nl    | Dutch                  |
| pl        | Polish                      |      | pt      | Portuguese           |      | pt-br | Portuguese (Brazilian) |
| pt-       | Portuguese (Brazilian UTF8) |      | pt_utf8 | Portuguese (UTF8)    |      | ru    | Russian                |
| sk_utf8   | Slovak (UTF8)               |      | tr      | Turkish              |      | uk    | Ukrainian              |
| vi        | Vietnamese                  |      | zh_CN   | Chinese (Simplified) |      | zh_TW | Chinese (Traditional)  |
|           |                             |      |         |                      |      |       |                        |</p>
<p>See <code class="docutils literal notranslate"><span class="pre">language.h</span></code> for the latest list of supported languages and their international language codes.</p>
</div>
<div class="section" id="hd44780-character-set">
<h3>HD44780 Character Set<a class="headerlink" href="#hd44780-character-set" title="Permalink to this headline">¶</a></h3>
<p><img alt="LCD Charset" src="assets/images/config/lcd-charset.png" />{: .floater.framed}</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define DISPLAY_CHARSET_HD44780 JAPANESE</span>
</pre></div>
</div>
<p>This option applies only to character-based displays. Character-based displays (based on the Hitachi HD44780) provide an ASCII character set plus one of the following language extensions:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">JAPANESE</span></code> … the most common</li>
<li><code class="docutils literal notranslate"><span class="pre">WESTERN</span></code> …. with more accented characters</li>
<li><code class="docutils literal notranslate"><span class="pre">CYRILLIC</span></code> … for the Russian language</li>
</ul>
<p>To determine the language extension installed on your controller:</p>
<ul class="simple">
<li>Compile and upload with <code class="docutils literal notranslate"><span class="pre">LCD_LANGUAGE</span></code> set to ‘test’</li>
<li>Click the controller to view the LCD menu</li>
<li>The LCD will display Japanese, Western, or Cyrillic text</li>
</ul>
<p>See <a class="reference external" href="/docs/development/lcd_language.html">LCD Language System</a> for in-depth info on how the Marlin display system currently works.</p>
<p><img alt="SD Card" src="assets/images/config/sdcard.jpg" />{: .floater}</p>
</div>
</div>
<div class="section" id="lcd-type">
<h2>LCD Type<a class="headerlink" href="#lcd-type" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ULTRA_LCD // Character based</span>
<span class="c1">//#define DOGLCD    // Full graphics display</span>
</pre></div>
</div>
<p>The base LCD Type is either character-based or graphical. Marlin will automatically set the correct one for your specific display, specified below. Unless your display is unsupported by Marlin, you can leave these options disabled.</p>
</div>
<div class="section" id="sd-card">
<h2>SD Card<a class="headerlink" href="#sd-card" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SDSUPPORT // Enable SD Card Support in Hardware Console</span>
</pre></div>
</div>
<p>Enable to use SD printing, whether as part of an LCD controller or as a standalone SDCard slot.</p>
<p>{% alert info %}
The <code class="docutils literal notranslate"><span class="pre">SDSUPPORT</span></code> option must be enabled or SD printing will not be supported. It is no longer enabled automatically for LCD controllers with built-in SDCard slot.
{% endalert %}</p>
<div class="section" id="spi-speed">
<h3>SPI Speed<a class="headerlink" href="#spi-speed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SPI_SPEED SPI_HALF_SPEED</span>
<span class="c1">//#define SPI_SPEED SPI_QUARTER_SPEED</span>
<span class="c1">//#define SPI_SPEED SPI_EIGHTH_SPEED</span>
</pre></div>
</div>
<p>Uncomment ONE of these options to use a slower SPI transfer speed. This is usually required if you’re getting volume init errors.</p>
</div>
<div class="section" id="enable-crc">
<h3>Enable CRC<a class="headerlink" href="#enable-crc" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SD_CHECK_AND_RETRY</span>
</pre></div>
</div>
<p>Use CRC checks and retries on the SD communication.</p>
<p><img alt="Encoder Knob" src="assets/images/config/encoder.jpg" />{: .floater}</p>
</div>
</div>
<div class="section" id="encoder">
<h2>Encoder<a class="headerlink" href="#encoder" title="Permalink to this headline">¶</a></h2>
<div class="section" id="encoder-resolution">
<h3>Encoder Resolution<a class="headerlink" href="#encoder-resolution" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ENCODER_PULSES_PER_STEP 1</span>
</pre></div>
</div>
<p>This option overrides the default number of encoder pulses needed to produce one step. Should be increased for high-resolution encoders.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ENCODER_STEPS_PER_MENU_ITEM 5</span>
</pre></div>
</div>
<p>Use this option to override the number of step signals required to move between next/prev menu items.</p>
</div>
<div class="section" id="encoder-direction">
<h3>Encoder Direction<a class="headerlink" href="#encoder-direction" title="Permalink to this headline">¶</a></h3>
<p>Test your encoder’s behavior first with both of the following options disabled.</p>
<ul class="simple">
<li>Reversed Value Edit and Menu Nav? Enable <code class="docutils literal notranslate"><span class="pre">REVERSE_ENCODER_DIRECTION</span></code>.</li>
<li>Reversed Menu Navigation only? Enable <code class="docutils literal notranslate"><span class="pre">REVERSE_MENU_DIRECTION</span></code>.</li>
<li>Reversed Value Editing only? Enable <em>BOTH</em> options.</li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define REVERSE_ENCODER_DIRECTION</span>
</pre></div>
</div>
<p>This option reverses the encoder direction everywhere. Set if CLOCKWISE causes values to DECREASE.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define REVERSE_MENU_DIRECTION</span>
</pre></div>
</div>
<p>This option reverses the encoder direction for navigating LCD menus. If CLOCKWISE normally moves DOWN this makes it go UP. If CLOCKWISE normally moves UP this makes it go DOWN.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define INDIVIDUAL_AXIS_HOMING_MENU</span>
</pre></div>
</div>
<p>Add individual axis homing items (Home X, Home Y, and Home Z) to the LCD menu.</p>
<p><img alt="Piezo" src="assets/images/config/piezo.png" />{: .floater}</p>
</div>
</div>
<div class="section" id="speaker">
<h2>Speaker<a class="headerlink" href="#speaker" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SPEAKER</span>
</pre></div>
</div>
<p>By default Marlin assumes you have a buzzer with a fixed frequency. If you have a speaker that can produce tones, enable it here.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 100</span>
<span class="c1">//#define LCD_FEEDBACK_FREQUENCY_HZ 1000</span>
</pre></div>
</div>
<p>The duration and frequency for the UI feedback sound. Set these to 0 to disable audio feedback in the LCD menus. Test audio output with the G-code <code class="docutils literal notranslate"><span class="pre">M300</span> <span class="pre">S&lt;frequency</span> <span class="pre">Hz&gt;</span> <span class="pre">P&lt;duration</span> <span class="pre">ms&gt;</span></code></p>
</div>
<div class="section" id="lcd-controller">
<h2>LCD Controller<a class="headerlink" href="#lcd-controller" title="Permalink to this headline">¶</a></h2>
<p><img alt="LCD Controllers" src="assets/images/config/controllers.png" />{: .floater}</p>
<p>Marlin includes support for several controllers. The two most popular controllers supported by Marlin are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">REPRAP_DISCOUNT_SMART_CONTROLLER</span></code> A 20 x 4 character-based LCD controller with click-wheel.</li>
<li><code class="docutils literal notranslate"><span class="pre">REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER</span></code> A monochrome 128 x 64 pixel-based LCD controller with click-wheel. Able to display simple bitmap graphics and up to 5 lines of text.</li>
</ul>
<p>Most other LCD controllers are variants of these. Enable just one of the following options for your specific controller:</p>
<div class="section" id="character-lcds">
<h3>Character LCDs<a class="headerlink" href="#character-lcds" title="Permalink to this headline">¶</a></h3>
<p>| Option                             | Description                                                  |
| ———————————- | ———————————————————— |
| <code class="docutils literal notranslate"><span class="pre">ULTIMAKERCONTROLLER</span></code>              | The original Ultimaker Controller.                           |
| <code class="docutils literal notranslate"><span class="pre">ULTIPANEL</span></code>                        | <a class="reference external" href="http://www.thingiverse.com/thing:15081">ULTIPANEL</a> as seen on Thingiverse. |
| <code class="docutils literal notranslate"><span class="pre">PANEL_ONE</span></code>                        | <a class="reference external" href="http://reprap.org/wiki/PanelOne">PanelOne from T3P3</a> (via RAMPS 1.4 AUX2/AUX3). A variant of <code class="docutils literal notranslate"><span class="pre">ULTIMAKERCONTROLLER</span></code>. |
| <code class="docutils literal notranslate"><span class="pre">REPRAP_DISCOUNT_SMART_CONTROLLER</span></code> | <a class="reference external" href="http://reprap.org/wiki/RepRapDiscount_Smart_Controller">RepRapDiscount Smart Controller</a>. Usually sold with a white PCB. |
| <code class="docutils literal notranslate"><span class="pre">G3D_PANEL</span></code>                        | <a class="reference external" href="http://reprap.org/wiki/RAMPS_1.3/1.4_GADGETS3D_Shield_with_Panel">Gadgets3D G3D LCD/SD Controller</a>. Usually sold with a blue PCB. |
| <code class="docutils literal notranslate"><span class="pre">RIGIDBOT_PANEL</span></code>                   | <a class="reference external" href="http://www.inventapart.com/">RigidBot Panel V1.0</a>.          |
| <code class="docutils literal notranslate"><span class="pre">ANET_KEYPAD_LCD</span></code>                  | <a class="reference external" href="http://www.anet3d.com/prod_view.aspx?TypeId=10&amp;Id=178">Anet Keypad LCD</a> for the Anet A3 |</p>
</div>
<div class="section" id="graphical-lcds">
<h3>Graphical LCDs<a class="headerlink" href="#graphical-lcds" title="Permalink to this headline">¶</a></h3>
<p>| Option                                          | Description                                                  |
| ———————————————– | ———————————————————— |
| <code class="docutils literal notranslate"><span class="pre">CARTESIO_UI</span></code>                                   | <a class="reference external" href="http://mauk.cc/webshop/cartesio-shop/electronics/user-interface">Cartesio UI</a>. |
| <code class="docutils literal notranslate"><span class="pre">MAKRPANEL</span></code>                                     | <a class="reference external" href="http://reprap.org/wiki/MaKr3d_MaKrPanel">MaKr3d Makr-Panel</a> with graphic controller and SD support. |
| <code class="docutils literal notranslate"><span class="pre">REPRAPWORLD_GRAPHICAL_LCD</span></code>                     | <a class="reference external" href="https://reprapworld.com/?products_details&amp;products_id/1218">ReprapWorld Graphical LCD</a>. |
| <code class="docutils literal notranslate"><span class="pre">VIKI2</span></code>                                         | <a class="reference external" href="http://panucatt.com">Panucatt Devices</a> <a class="reference external" href="http://panucatt.com">Viki 2.0</a>. |
| <code class="docutils literal notranslate"><span class="pre">miniVIKI</span></code>                                      | <a class="reference external" href="http://panucatt.com">mini Viki with Graphic LCD</a>.           |
| <code class="docutils literal notranslate"><span class="pre">ELB_FULL_GRAPHIC_CONTROLLER</span></code>                   | <a class="reference external" href="https://github.com/eboston/Adafruit-ST7565-Full-Graphic-Controller/">Adafruit ST7565 Full Graphic Controller</a>. |
| <code class="docutils literal notranslate"><span class="pre">REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER</span></code> | <a class="reference external" href="http://reprap.org/wiki/RepRapDiscount_Full_Graphic_Smart_Controller">RepRapDiscount Full Graphic Smart Controller</a>. |
| <code class="docutils literal notranslate"><span class="pre">MINIPANEL</span></code>                                     | <a class="reference external" href="http://reprap.org/wiki/Mini_panel">MakerLab Mini Panel</a> with graphic controller and SD support. |
| <code class="docutils literal notranslate"><span class="pre">BQ_LCD_SMART_CONTROLLER</span></code>                       | BQ LCD Smart Controller shipped with the BQ Hephestos 2 and Witbox 2. |
| <code class="docutils literal notranslate"><span class="pre">ANET_FULL_GRAPHICS_LCD</span></code>                        | <a class="reference external" href="http://www.anet3d.com/prod_view.aspx?TypeId=10&amp;Id=178">Anet Full Graphics LCD</a> for the Anet A3 |</p>
</div>
<div class="section" id="keypads">
<h3>Keypads<a class="headerlink" href="#keypads" title="Permalink to this headline">¶</a></h3>
<p>| Option               | Description                                                  |
| ——————– | ———————————————————— |
| <code class="docutils literal notranslate"><span class="pre">REPRAPWORLD_KEYPAD</span></code> | <a class="reference external" href="http://reprapworld.com/?products_details&amp;products_id=202&amp;cPath=1591_1626">RepRapWorld Keypad v1.1</a> Use <code class="docutils literal notranslate"><span class="pre">REPRAPWORLD_KEYPAD_MOVE_STEP</span></code> to set how much the robot should move on each keypress (e.g., 10mm per click). |</p>
</div>
<div class="section" id="i2c-character-lcds">
<h3>I2C Character LCDs<a class="headerlink" href="#i2c-character-lcds" title="Permalink to this headline">¶</a></h3>
<p>These controllers all require the <a class="reference external" href="https://github.com/kiyoshigawa/LiquidCrystal_I2C">LiquidCrystal_I2C library</a>.</p>
<p>| Option                      | Description                                                  |
| ————————— | ———————————————————— |
| <code class="docutils literal notranslate"><span class="pre">RA_CONTROL_PANEL</span></code>          | Elefu RA Board Control Panel                                 |
| <code class="docutils literal notranslate"><span class="pre">LCD_I2C_SAINSMART_YWROBOT</span></code> | Sainsmart <a class="reference external" href="http://henrysbench.capnfatz.com/henrys-bench/arduino-displays/ywrobot-lcm1602-iic-v1-lcd-arduino-tutorial/">YWRobot LCM1602 LCD Display</a>. |
| <code class="docutils literal notranslate"><span class="pre">LCM1602</span></code>                   | Generic LCM1602 LCD adapter                                  |
| <code class="docutils literal notranslate"><span class="pre">LCD_I2C_PANELOLU2</span></code>         | PANELOLU2 LCD with status LEDs, separate encoder and click inputs. The click input can either be directly connected to a pin (if <code class="docutils literal notranslate"><span class="pre">BTN_ENC</span></code> is defined) or read through I2C (with <code class="docutils literal notranslate"><span class="pre">BTN_ENC</span></code> undefined). Requires <a class="reference external" href="https://github.com/lincomatic/LiquidTWI2">LiquidTWI2 library</a> v1.2.3 or later. |
| <code class="docutils literal notranslate"><span class="pre">LCD_I2C_VIKI</span></code>              | Panucatt VIKI LCD with status LEDs, integrated click &amp; L/R/U/D buttons, separate encoder inputs. |
| <code class="docutils literal notranslate"><span class="pre">SAV_3DLCD</span></code>                 | Shift register panels. <a class="reference external" href="https://goo.gl/aJJ4sH">2 wire Non-latching LCD SR</a>. See <a class="reference external" href="http://reprap.org/wiki/SAV_3D_LCD">LCD configuration</a>. |</p>
</div>
<div class="section" id="i2c-graphical-lcds">
<h3>I2C Graphical LCDs<a class="headerlink" href="#i2c-graphical-lcds" title="Permalink to this headline">¶</a></h3>
<p>These controllers all require the <a class="reference external" href="https://github.com/kiyoshigawa/LiquidCrystal_I2C">LiquidCrystal_I2C library</a>.</p>
<p>| Option                | Description                                                  |
| ——————— | ———————————————————— |
| <code class="docutils literal notranslate"><span class="pre">U8GLIB_SSD1306</span></code>      | SSD1306 OLED full graphics generic display.                  |
| <code class="docutils literal notranslate"><span class="pre">SAV_3DGLCD</span></code>          | SAV OLED LCD module support using either SSD1306 or SH1106 based LCD modules. |
| <code class="docutils literal notranslate"><span class="pre">OLED_PANEL_TINYBOY2</span></code> | TinyBoy2 128x64 OLED / Encoder Panel                         |</p>
</div>
<div class="section" id="fan-pwm">
<h3>Fan PWM<a class="headerlink" href="#fan-pwm" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FAST_PWM_FAN</span>
</pre></div>
</div>
<p>Increase the FAN PWM frequency. Removes the PWM noise but increases heating in the FET/Arduino.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FAN_SOFT_PWM</span>
</pre></div>
</div>
<p>Use software PWM to drive the fan, as with the heaters. This uses a very low frequency which is not as annoying as with the hardware PWM. On the other hand, if this frequency is too low, you should also increment <code class="docutils literal notranslate"><span class="pre">SOFT_PWM_SCALE</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SOFT_PWM_SCALE 0</span>
</pre></div>
</div>
<p>Incrementing this by 1 will double the software PWM frequency, affecting heaters (and the fan if <code class="docutils literal notranslate"><span class="pre">FAN_SOFT_PWM</span></code> is enabled). However, control resolution will be halved for each increment; at zero value, there are 128 effective control positions.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SOFT_PWM_DITHER</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">SOFT_PWM_SCALE</span></code> is set to a value higher than 0, dithering can be used to mitigate the associated resolution loss. If enabled, some of the PWM cycles are stretched so on average the desired duty cycle is attained.</p>
</div>
<div class="section" id="temperature-status-leds">
<h3>Temperature Status LEDs<a class="headerlink" href="#temperature-status-leds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define TEMP_STAT_LEDS</span>
</pre></div>
</div>
<p>Temperature status LEDs that display the hotend and bed temperature. If all hotend and bed temperature setpoint are &lt; 54C then the BLUE led is on. Otherwise the RED led is on. There is 1C hysteresis.</p>
</div>
<div class="section" id="photo-pin">
<h3>Photo Pin<a class="headerlink" href="#photo-pin" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PHOTOGRAPH_PIN     23</span>
</pre></div>
</div>
<p><a class="reference external" href="/docs/gcode/M240.html"><code class="docutils literal notranslate"><span class="pre">M240</span></code></a> triggers a camera by emulating a Canon RC-1 Remote Data as described on <a class="reference external" href="http://www.doc-diy.net/photo/rc-1_hacked/">this site</a>.</p>
</div>
<div class="section" id="skeinforge-arc-fix">
<h3>SkeinForge Arc Fix<a class="headerlink" href="#skeinforge-arc-fix" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SF_ARC_FIX</span>
</pre></div>
</div>
<p>Files sliced with SkeinForge contain the wrong arc GCodes when using “Arc Point” as fillet procedure. This option works around that bug, but otherwise should be left off.</p>
</div>
</div>
<div class="section" id="extra-features">
<h2>Extra Features<a class="headerlink" href="#extra-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fast-pwm-fan">
<h3>Fast PWM Fan<a class="headerlink" href="#fast-pwm-fan" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FAST_PWM_FAN</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">FAST_PWM_FAN</span></code> increases the FAN PWM frequency. The frequency and scaling can be adjusted in the <code class="docutils literal notranslate"><span class="pre">configuration_adv.h</span></code> file.</p>
</div>
<div class="section" id="fan-software-pwm">
<h3>Fan Software PWM<a class="headerlink" href="#fan-software-pwm" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FAN_SOFT_PWM</span>
<span class="cp">#define SOFT_PWM_SCALE 0</span>
<span class="c1">//#define SOFT_PWM_DITHER</span>
</pre></div>
</div>
<p>Use software PWM to drive the fan. This uses a very low frequency which is not as annoying as with the hardware PWM. Increase <code class="docutils literal notranslate"><span class="pre">SOFT_PWM_SCALE</span></code> if the frequency is too low.
If experiencing resolution loss when <code class="docutils literal notranslate"><span class="pre">SOFT_PWM_SCALE</span></code> is set to a value greater than 0, <code class="docutils literal notranslate"><span class="pre">SOFT_PWM_DITHER</span></code> can be used to mitigate it. If enabled.</p>
</div>
<div class="section" id="id2">
<h3>Temperature Status LEDs<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define TEMP_STAT_LEDS</span>
</pre></div>
</div>
<p>Adds a simple temperature status indicators using LEDs.</p>
</div>
<div class="section" id="skeinforge-arc-g-code-correction">
<h3>SkeinForge ARC G-code correction<a class="headerlink" href="#skeinforge-arc-g-code-correction" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SF_ARC_FIX</span>
</pre></div>
</div>
<p>Correct the wrong arc g-codes sent by SkeinForge when using Arc Point as fillet procedure</p>
</div>
<div class="section" id="paste-extruder">
<h3>Paste Extruder<a class="headerlink" href="#paste-extruder" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Support for the BariCUDA Paste Extruder.</span>
<span class="c1">//#define BARICUDA</span>
</pre></div>
</div>
<p>Marlin includes support for the <a class="reference external" href="http://www.thingiverse.com/thing:26343">Baricuda Extruder for 3D Printing Sugar and Chocolate</a> also <a class="reference external" href="http://www.github.com/jmil/BariCUDA">hosted on GitHub</a>. The feature adds the codes <a class="reference external" href="/docs/gcode/M126.html"><code class="docutils literal notranslate"><span class="pre">M126</span></code></a>, <a class="reference external" href="/docs/gcode/M127.html"><code class="docutils literal notranslate"><span class="pre">M127</span></code></a>, <a class="reference external" href="/docs/gcode/M128.html"><code class="docutils literal notranslate"><span class="pre">M128</span></code></a>, and <a class="reference external" href="/docs/gcode/M129.html"><code class="docutils literal notranslate"><span class="pre">M129</span></code></a> for controlling the pump and valve of the Baricuda.</p>
<p><a class="reference external" href="http://www.instructables.com/id/3D-Printer-RGB-LED-Feedback/"><img alt="LED Lights" src="assets/images/config/led-lights.jpg" />{: .floater.framed}</a>{:target=”_blank”}</p>
</div>
<div class="section" id="rgb-color-leds">
<h3>RGB Color LEDs<a class="headerlink" href="#rgb-color-leds" title="Permalink to this headline">¶</a></h3>
<p>Marlin currently supplies two options for RGB-addressable color indicators. In both cases the color is set using <a class="reference external" href="/docs/gcode/M150.html"><code class="docutils literal notranslate"><span class="pre">M150</span></code></a> <code class="docutils literal notranslate"><span class="pre">Rr</span> <span class="pre">Ug</span> <span class="pre">Bb</span></code> to specify RGB components from 0 to 255.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//define BlinkM/CyzRgb Support</span>
<span class="c1">//#define BLINKM</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://thingm.com/products/blinkm/">BLINKM board</a> supplies the backlighting for some LCD controllers. Its color is set using I2C messages.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//define PCA9632 PWM LED driver Support</span>
<span class="c1">//#define PCA9632</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://www.digchip.com/datasheets/3286493-pca9632.html">Philips PCA9632</a> is a common PWM LED driver, controlled (like BlinkM) using I2C.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define RGB_LED</span>
<span class="c1">//#define RGBW_LED</span>
<span class="cp">#if ENABLED(RGB_LED) || ENABLED(RGBW_LED)</span>
  <span class="cp">#define RGB_LED_R_PIN 34</span>
  <span class="cp">#define RGB_LED_G_PIN 43</span>
  <span class="cp">#define RGB_LED_B_PIN 35</span>
  <span class="cp">#define RGB_LED_W_PIN -1</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Enable support for an RGB(W) LED connected to 5V digital pins, or an RGB(W) Strip connected to MOSFETs controlled by digital pins. An inexpensive RGB LED can be used simply by assigning digital pins for each component. If the pins are able to do hardware PWM then a wide range of colors will be available. With simple digital pins only 7 colors are possible.</p>
<p>Adds the <a class="reference external" href="/docs/gcode/M150.html"><code class="docutils literal notranslate"><span class="pre">M150</span></code></a> command to set the LED (or LED strip) color. If pins are PWM capable (e.g., 4, 5, 6, 11) then a range of luminance values can be set from 0 to 255.</p>
<p>{% alert warning %}
LED Strips require a MOFSET Chip between PWM lines and LEDs, as the Arduino cannot handle the current the LEDs will require. Failure to follow this precaution can destroy your Arduino!
{% endalert %}</p>
<div class="section" id="adafruit-neopixel-led-driver">
<h4>Adafruit Neopixel LED Driver<a class="headerlink" href="#adafruit-neopixel-led-driver" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NEOPIXEL_LED</span>
<span class="cp">#if ENABLED(NEOPIXEL_LED)</span>
  <span class="cp">#define NEOPIXEL_TYPE   NEO_GRBW </span><span class="c1">// NEO_GRBW / NEO_GRB - four/three channel driver type (defined in Adafruit_NeoPixel.h)</span>
  <span class="cp">#define NEOPIXEL_PIN     4       </span><span class="c1">// LED driving pin</span>
  <span class="c1">//#define NEOPIXEL2_TYPE NEOPIXEL_TYPE</span>
  <span class="c1">//#define NEOPIXEL2_PIN    5</span>
  <span class="cp">#define NEOPIXEL_PIXELS 30       </span><span class="c1">// Number of LEDs in the strip, larger of 2 strips if 2 neopixel strips are used</span>
  <span class="cp">#define NEOPIXEL_IS_SEQUENTIAL   </span><span class="c1">// Sequential display for temperature change - LED by LED. Disable to change all LEDs at once.</span>
  <span class="cp">#define NEOPIXEL_BRIGHTNESS 127  </span><span class="c1">// Initial brightness (0-255)</span>
  <span class="c1">//#define NEOPIXEL_STARTUP_TEST  // Cycle through colors at startup</span>
  <span class="c1">//#define NEOPIXEL_BKGD_LED_INDEX  0               // Index of the LED to use</span>
  <span class="c1">//#define NEOPIXEL_BKGD_COLOR { 255, 255, 255, 0 } // R, G, B, W</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.adafruit.com/category/168">NEOPIXELS</a></p>
</div>
<div class="section" id="printer-event-leds">
<h4>Printer Event LEDs<a class="headerlink" href="#printer-event-leds" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(BLINKM) || ENABLED(RGB_LED) || ENABLED(RGBW_LED) || ENABLED(PCA9632)</span>
  <span class="cp">#define PRINTER_EVENT_LEDS</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>This option causes the printer to give status feedback on the installed color LED, BLINKM, or PCA9632:</p>
<ul class="simple">
<li>Gradually change from blue to violet as the heated bed gets to target temp.</li>
<li>Gradually change from violet to red as the hotend gets to temperature.</li>
<li>Change to white to illuminate work surface.</li>
<li>Change to green once print has finished.</li>
<li>Turn off after the print has finished and the user has pushed a button.</li>
</ul>
</div>
</div>
<div class="section" id="servos">
<h3>Servos<a class="headerlink" href="#servos" title="Permalink to this headline">¶</a></h3>
<p><img alt="Servo" src="assets/images/config/servo.png" />{: .floater}</p>
<div class="section" id="number-of-servos">
<h4>Number of Servos<a class="headerlink" href="#number-of-servos" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NUM_SERVOS 3 // Servo index starts with 0 for M280 command</span>
</pre></div>
</div>
<p>The total number of servos to enable for use. One common application for a servo is a Z bed probe consisting of an endstop switch mounted on a rotating arm. To use one of the servo connectors for this type of probe, set <code class="docutils literal notranslate"><span class="pre">Z_ENDSTOP_SERVO_NR</span></code> in the probe options above.</p>
</div>
<div class="section" id="servo-deactivation">
<h4>Servo Deactivation<a class="headerlink" href="#servo-deactivation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SERVO_DELAY 300</span>
</pre></div>
</div>
<p>Delay (in microseconds) before the next move will start, to give the servo time to reach its target angle. 300ms is a good value but you can try less delay. Specify a large enough delay so the servo has enough time to complete a full motion before deactivation.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define DEACTIVATE_SERVOS_AFTER_MOVE</span>
</pre></div>
</div>
<p>With this option servos are powered only during movement, then turned off to prevent jitter. We recommend enabling this option to keep electrical noise from active servos from interfering with other components. The high amperage generated by extruder motor wiring during movement can also induce movement in active servos. Leave this option enabled to avoid all such servo-related troubles.</p>
</div>
</div>
</div>
</div>
<div class="section" id="configuration-adv-h">
<h1><code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code><a class="headerlink" href="#configuration-adv-h" title="Permalink to this headline">¶</a></h1>
<div class="section" id="temperature-options">
<h2>Temperature Options<a class="headerlink" href="#temperature-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="custom-thermistor-1000-parameters">
<h3>Custom Thermistor 1000 Parameters<a class="headerlink" href="#custom-thermistor-1000-parameters" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if TEMP_SENSOR_0 == 1000</span>
  <span class="cp">#define HOTEND0_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define HOTEND0_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define HOTEND0_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_1 == 1000</span>
  <span class="cp">#define HOTEND1_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define HOTEND1_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define HOTEND1_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_2 == 1000</span>
  <span class="cp">#define HOTEND2_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define HOTEND2_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define HOTEND2_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_3 == 1000</span>
  <span class="cp">#define HOTEND3_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define HOTEND3_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define HOTEND3_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_4 == 1000</span>
  <span class="cp">#define HOTEND4_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define HOTEND4_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define HOTEND4_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_5 == 1000</span>
  <span class="cp">#define HOTEND5_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define HOTEND5_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define HOTEND5_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_BED == 1000</span>
  <span class="cp">#define BED_PULLUP_RESISTOR_OHMS     4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define BED_RESISTANCE_25C_OHMS      100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define BED_BETA                     3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>

<span class="cp">#if TEMP_SENSOR_CHAMBER == 1000</span>
  <span class="cp">#define CHAMBER_PULLUP_RESISTOR_OHMS 4700    </span><span class="c1">// Pullup resistor</span>
  <span class="cp">#define CHAMBER_RESISTANCE_25C_OHMS  100000  </span><span class="c1">// Resistance at 25C</span>
  <span class="cp">#define CHAMBER_BETA                 3950    </span><span class="c1">// Beta value</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Marlin 2.0 allows for custom temperature sensors.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">// Hephestos 2 24V heated bed upgrade kit.</span>
<span class="c1">// https://store.bq.com/en/heated-bed-kit-hephestos2</span>
<span class="c1">//</span>
<span class="c1">//#define HEPHESTOS2_HEATED_BED_KIT</span>
<span class="cp">#if ENABLED(HEPHESTOS2_HEATED_BED_KIT)</span>
  <span class="cp">#undef TEMP_SENSOR_BED</span>
  <span class="cp">#define TEMP_SENSOR_BED 70</span>
  <span class="cp">#define HEATER_BED_INVERTING true</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Enables the use of Hephestos 2 24V heated bed.</p>
</div>
<div class="section" id="heated-chamber">
<h3>Heated Chamber<a class="headerlink" href="#heated-chamber" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if TEMP_SENSOR_CHAMBER</span>
  <span class="cp">#define CHAMBER_MINTEMP             5</span>
  <span class="cp">#define CHAMBER_MAXTEMP            60</span>
  <span class="cp">#define TEMP_CHAMBER_HYSTERESIS     1   </span><span class="c1">// (°C) Temperature proximity considered &quot;close enough&quot; to the target</span>
  <span class="c1">//#define CHAMBER_LIMIT_SWITCHING</span>
  <span class="c1">//#define HEATER_CHAMBER_PIN       44   // Chamber heater on/off pin</span>
  <span class="c1">//#define HEATER_CHAMBER_INVERTING false</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>A heated chamber can greatly improve print quality. Check the pins file of your board for <code class="docutils literal notranslate"><span class="pre">TEMP_CHAMBER_PIN</span></code>. The spare extruder and hotend temperature pins can be used for <code class="docutils literal notranslate"><span class="pre">HEATER_CHAMBER_PIN</span></code> and <code class="docutils literal notranslate"><span class="pre">TEMP_CHAMBER_PIN</span></code>.</p>
</div>
<div class="section" id="bang-bang-bed-heating">
<h3>Bang-Bang Bed Heating<a class="headerlink" href="#bang-bang-bed-heating" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if DISABLED(PIDTEMPBED)</span>
  <span class="cp">#define BED_CHECK_INTERVAL 5000 </span><span class="c1">// ms between checks in bang-bang control</span>
  <span class="cp">#if ENABLED(BED_LIMIT_SWITCHING)</span>
    <span class="cp">#define BED_HYSTERESIS 2 </span><span class="c1">// Only disable heating if T&gt;target+BED_HYSTERESIS and enable heating if T&gt;target-BED_HYSTERESIS</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>These sub-options can be used when the bed isn’t using PID heating. A “bang-bang” heating method will be used instead, simply checking against current temperature at regular intervals.</p>
</div>
<div class="section" id="thermal-protection-settings">
<h3>Thermal Protection Settings<a class="headerlink" href="#thermal-protection-settings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="hotend-thermal-protection">
<h4>Hotend Thermal Protection<a class="headerlink" href="#hotend-thermal-protection" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(THERMAL_PROTECTION_HOTENDS)</span>
  <span class="cp">#define THERMAL_PROTECTION_PERIOD 40        </span><span class="c1">// Seconds</span>
  <span class="cp">#define THERMAL_PROTECTION_HYSTERESIS 4     </span><span class="c1">// Degrees Celsius</span>
  <span class="cp">#define WATCH_TEMP_PERIOD 20                </span><span class="c1">// Seconds</span>
  <span class="cp">#define WATCH_TEMP_INCREASE 2               </span><span class="c1">// Degrees Celsius</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Hot end thermal protection can be tuned with these sub-options.</p>
<p>The first two options deal with continuous thermal protection during an entire print job.</p>
<p>The second set of options applies to changes in target temperature. Whenever an <code class="docutils literal notranslate"><span class="pre">M104</span></code> or <code class="docutils literal notranslate"><span class="pre">M109</span></code> increases the target temperature the firmware will wait for the <code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_PERIOD</span></code> to expire, and if the temperature hasn’t increased by <code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_INCREASE</span></code> degrees, the machine is halted, requiring a hard reset. This test restarts with any <code class="docutils literal notranslate"><span class="pre">M104</span></code>/<code class="docutils literal notranslate"><span class="pre">M109</span></code>, but only if the current temperature is far enough below the target for a reliable test.</p>
<p>If you get false positives for “Heating failed” increase <code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_PERIOD</span></code> and/or decrease <code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_INCREASE</span></code>. (<code class="docutils literal notranslate"><span class="pre">WATCH_TEMP_INCREASE</span></code> should not be set below 2.)</p>
</div>
<div class="section" id="bed-thermal-protection">
<h4>Bed Thermal Protection<a class="headerlink" href="#bed-thermal-protection" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(THERMAL_PROTECTION_BED)</span>
  <span class="cp">#define THERMAL_PROTECTION_BED_PERIOD 20    </span><span class="c1">// Seconds</span>
  <span class="cp">#define THERMAL_PROTECTION_BED_HYSTERESIS 2 </span><span class="c1">// Degrees Celsius</span>
  <span class="cp">#define WATCH_BED_TEMP_PERIOD 60            </span><span class="c1">// Seconds</span>
  <span class="cp">#define WATCH_BED_TEMP_INCREASE 2           </span><span class="c1">// Degrees Celsius</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Heated bed thermal protection can be tuned with these sub-options.</p>
<p>The first two options deal with continuous thermal protection during an entire print job.</p>
<p>The second set of options applies to changes in target temperature. Whenever an <a class="reference external" href="/docs/gcode/M140.html"><code class="docutils literal notranslate"><span class="pre">M140</span></code></a> or <a class="reference external" href="/docs/gcode/M190.html"><code class="docutils literal notranslate"><span class="pre">M190</span></code></a> increases the target temperature the firmware will wait for the <code class="docutils literal notranslate"><span class="pre">WATCH_BED_TEMP_PERIOD</span></code> to expire, and if the temperature hasn’t increased by <code class="docutils literal notranslate"><span class="pre">WATCH_BED_TEMP_INCREASE</span></code> degrees, the machine is halted, requiring a hard reset. This test restarts with any <code class="docutils literal notranslate"><span class="pre">M140</span></code>/<code class="docutils literal notranslate"><span class="pre">M190</span></code>, but only if the current temperature is far enough below the target for a reliable test.</p>
<p>If you get too many “Heating failed” errors, increase <code class="docutils literal notranslate"><span class="pre">WATCH_BED_TEMP_PERIOD</span></code> and/or decrease <code class="docutils literal notranslate"><span class="pre">WATCH_BED_TEMP_INCREASE</span></code>. (<code class="docutils literal notranslate"><span class="pre">WATCH_BED_TEMP_INCREASE</span></code> should not be set below 2.)</p>
</div>
<div class="section" id="heated-chamber-thermal-protection">
<h4>Heated Chamber Thermal Protection<a class="headerlink" href="#heated-chamber-thermal-protection" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(THERMAL_PROTECTION_CHAMBER)</span>
  <span class="cp">#define THERMAL_PROTECTION_CHAMBER_PERIOD 20    </span><span class="c1">// Seconds</span>
  <span class="cp">#define THERMAL_PROTECTION_CHAMBER_HYSTERESIS 2 </span><span class="c1">// Degrees Celsius</span>
  <span class="cp">#define WATCH_CHAMBER_TEMP_PERIOD 60            </span><span class="c1">// Seconds</span>
  <span class="cp">#define WATCH_CHAMBER_TEMP_INCREASE 2           </span><span class="c1">// Degrees Celsius</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Similar to the description for the Bed Thermal Protection above. Use <code class="docutils literal notranslate"><span class="pre">M141</span></code>](/docs/gcode/M141.html) to set target chamber temperature and <a class="reference external" href="/docs/gcode/M191.html"><code class="docutils literal notranslate"><span class="pre">M191</span></code></a> to set and wait target chamber temperature.</p>
</div>
</div>
<div class="section" id="pid-extrusion-scaling">
<h3>PID Extrusion Scaling<a class="headerlink" href="#pid-extrusion-scaling" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(PIDTEMP)</span>
  <span class="c1">// this adds an experimental additional term to the heating power, proportional to the extrusion speed.</span>
  <span class="c1">// if Kc is chosen well, the additional required power due to increased melting should be compensated.</span>
  <span class="c1">//#define PID_EXTRUSION_SCALING</span>
  <span class="cp">#if ENABLED(PID_EXTRUSION_SCALING)</span>
    <span class="cp">#define DEFAULT_Kc (100) </span><span class="c1">//heating power=Kc*(e_speed)</span>
    <span class="cp">#define LPQ_MAX_LEN 50</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>This option further improves hotend temperature control by accounting for the extra heat energy consumed by cold filament entering the hotend melt chamber. If material enters the hotend more quickly, then more heat will need to be added to maintain energy balance. This option adds a scaling factor that must be tuned for your setup and material.</p>
<p>Extrusion scaling keeps a circular buffer of forward E movements done at each temperature measurement which acts to delay the applied factor and allow for heat dissipation. The size of this queue during printing is set by <code class="docutils literal notranslate"><span class="pre">M301</span> <span class="pre">L</span></code>, limited by <code class="docutils literal notranslate"><span class="pre">LPQ_MAX_LEN</span></code>.</p>
<p>{% alert info %}
Your <a class="reference external" href="/docs/gcode/M301.html"><code class="docutils literal notranslate"><span class="pre">M301</span></code></a> <code class="docutils literal notranslate"><span class="pre">C</span></code> and <a class="reference external" href="/docs/gcode/M301.html"><code class="docutils literal notranslate"><span class="pre">M301</span></code></a> <code class="docutils literal notranslate"><span class="pre">L</span></code> values are saved to EEPROM when <code class="docutils literal notranslate"><span class="pre">EEPROM_SETTINGS</span></code> is enabled.
{% endalert %}</p>
</div>
<div class="section" id="automatic-temperature">
<h3>Automatic Temperature<a class="headerlink" href="#automatic-temperature" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define AUTOTEMP</span>
<span class="cp">#if ENABLED(AUTOTEMP)</span>
  <span class="cp">#define AUTOTEMP_OLDWEIGHT 0.98</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>With Automatic Temperature the hotend target temperature is calculated by all the buffered lines of gcode. The maximum buffered steps/sec of the extruder motor is called “<code class="docutils literal notranslate"><span class="pre">se</span></code>”.
Start autotemp mode with <code class="docutils literal notranslate"><span class="pre">M109</span> <span class="pre">F&lt;factor&gt;</span> <span class="pre">S&lt;mintemp&gt;</span> <span class="pre">B&lt;maxtemp&gt;</span></code>, giving a range of temperatures. The target temperature is set to <code class="docutils literal notranslate"><span class="pre">mintemp</span> <span class="pre">+</span> <span class="pre">factor</span> <span class="pre">*</span> <span class="pre">se[steps/sec]</span></code> and is limited by
<code class="docutils literal notranslate"><span class="pre">mintemp</span></code> and <code class="docutils literal notranslate"><span class="pre">maxtemp</span></code>. Turn this off by executing <a class="reference external" href="/docs/gcode/M109.html"><code class="docutils literal notranslate"><span class="pre">M109</span></code></a> without <code class="docutils literal notranslate"><span class="pre">F</span></code>. If the temperature is set to a value below <code class="docutils literal notranslate"><span class="pre">mintemp</span></code> (e.g., by <a class="reference external" href="/docs/gcode/M104.html"><code class="docutils literal notranslate"><span class="pre">M104</span></code></a>) autotemp will not be applied.</p>
<p>Example: Try <a class="reference external" href="/docs/gcode/M109.html"><code class="docutils literal notranslate"><span class="pre">M109</span></code></a> <code class="docutils literal notranslate"><span class="pre">S215</span> <span class="pre">B260</span> <span class="pre">F1</span></code> in your <code class="docutils literal notranslate"><span class="pre">start.gcode</span></code> to set a minimum temperature of 215 when idle, which will boost up to 260 as extrusion increases in speed.</p>
</div>
<div class="section" id="temperature-report-adc">
<h3>Temperature Report ADC<a class="headerlink" href="#temperature-report-adc" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SHOW_TEMP_ADC_VALUES</span>
</pre></div>
</div>
<p>Enable this option to have <a class="reference external" href="/docs/gcode/M105.html"><code class="docutils literal notranslate"><span class="pre">M105</span></code></a> and automatic temperature reports include raw ADC values from the temperature sensors.</p>
</div>
<div class="section" id="high-temperature-thermistors">
<h3>High Temperature Thermistors<a class="headerlink" href="#high-temperature-thermistors" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MAX_CONSECUTIVE_LOW_TEMPERATURE_ERROR_ALLOWED 0</span>
</pre></div>
</div>
<p>High temperature thermistors may give aberrant readings. If this is an issue, use this option to set the maximum number of consecutive low temperature errors that can occur before Min Temp Error is triggered. If you require a value over 10, this could indicate a problem.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MILLISECONDS_PREHEAT_TIME 0</span>
</pre></div>
</div>
<p>High Temperature Thermistors tend to give poor readings at ambient and lower temperatures. Until they reach a sufficient temperature, these sensors usually return the lowest raw value, and this will cause a Min Temp Error.</p>
<p>To solve this issue, this option sets the number of milliseconds a hotend will preheat before Marlin starts to check the temperature. Set a delay sufficient to reach a temperature your sensor can reliably read. Lower values are better and safer. If you require a value over 30000, this could indicate a problem.</p>
</div>
<div class="section" id="ad595-ad8495">
<h3>AD595 / AD8495<a class="headerlink" href="#ad595-ad8495" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TEMP_SENSOR_AD595_OFFSET  0.0</span>
<span class="cp">#define TEMP_SENSOR_AD595_GAIN    1.0</span>
<span class="cp">#define TEMP_SENSOR_AD8495_OFFSET 0.0</span>
<span class="cp">#define TEMP_SENSOR_AD8495_GAIN   1.0</span>
</pre></div>
</div>
<p>These defines help to calibrate the AD595 sensor in case you get wrong temperature measurements. The final reading is derived from <code class="docutils literal notranslate"><span class="pre">measuredTemp</span> <span class="pre">*</span> <span class="pre">TEMP_SENSOR_AD595_GAIN</span> <span class="pre">+</span> <span class="pre">TEMP_SENSOR_AD595_OFFSET</span></code>.</p>
</div>
<div class="section" id="extruder-runout-prevention">
<h3>Extruder Runout Prevention<a class="headerlink" href="#extruder-runout-prevention" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EXTRUDER_RUNOUT_PREVENT</span>
<span class="cp">#if ENABLED(EXTRUDER_RUNOUT_PREVENT)</span>
  <span class="cp">#define EXTRUDER_RUNOUT_MINTEMP 190</span>
  <span class="cp">#define EXTRUDER_RUNOUT_SECONDS 30</span>
  <span class="cp">#define EXTRUDER_RUNOUT_SPEED 1500  </span><span class="c1">// mm/m</span>
  <span class="cp">#define EXTRUDER_RUNOUT_EXTRUDE 5   </span><span class="c1">// mm</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>When the machine is idle and the temperature over a given value, Marlin can extrude a short length of filament every couple of seconds.</p>
</div>
</div>
<div class="section" id="cooling-fans">
<h2>Cooling Fans<a class="headerlink" href="#cooling-fans" title="Permalink to this headline">¶</a></h2>
<p>Cooling fans are needed on 3D printers to keep components cool and prevent failure.</p>
<div class="section" id="controller-fan">
<h3>Controller Fan<a class="headerlink" href="#controller-fan" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define USE_CONTROLLER_FAN</span>
<span class="cp">#if ENABLED(USE_CONTROLLER_FAN)</span>
  <span class="c1">//#define CONTROLLER_FAN_PIN -1           // Set a custom pin for the controller fan</span>
  <span class="cp">#define CONTROLLERFAN_SECS 60             </span><span class="c1">// Duration in seconds for the fan to run after all motors are disabled</span>
  <span class="cp">#define CONTROLLERFAN_SPEED 255           </span><span class="c1">// 255 == full speed</span>
  <span class="c1">//#define CONTROLLERFAN_SPEED_Z_ONLY 127  // Reduce noise on machines that keep Z enabled</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>A controller fan is useful to cool down the stepper drivers and MOSFETs. When stepper drivers reach a certain temperature they’ll turn off, either stuttering or stopping. With this option enabled the fan will turn on automatically whenever any steppers are enabled and turn off after a set period when all steppers are turned off.</p>
</div>
<div class="section" id="pwm-fans-kickstart">
<h3>PWM Fans Kickstart<a class="headerlink" href="#pwm-fans-kickstart" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FAN_KICKSTART_TIME 100</span>
</pre></div>
</div>
<p>When PWM fans are set to low speed, they may need a higher-energy kickstart first to get moving. Once up to speed the fan can drop back to the set speed. This option specifies the kickstart duration in milliseconds. <strong>This option doesn’t work with the software PWM fan on Sanguinololu.</strong></p>
</div>
<div class="section" id="pwm-fans-minimum-and-maximum-speeds">
<h3>PWM Fans Minimum and maximum Speeds<a class="headerlink" href="#pwm-fans-minimum-and-maximum-speeds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FAN_MIN_PWM 50</span>
<span class="c1">//#define FAN_MAX_PWM 128</span>
</pre></div>
</div>
<p>This option can be defined to set the minimum and maximum PWM speeds (1-255) required to keep the PWM fans moving. Fan speeds set by <a class="reference external" href="/docs/gcode/M106.html"><code class="docutils literal notranslate"><span class="pre">M106</span></code></a> will be scaled to the reduced range above this minimum.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(FAST_PWM_FAN)</span>
  <span class="c1">//#define FAST_PWM_FAN_FREQUENCY 31400</span>
  <span class="c1">//#define USE_OCR2A_AS_TOP</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>The default frequency for <code class="docutils literal notranslate"><span class="pre">FAST_PWM_FAN</span></code> is F = F_CPU/(2<em>255</em>1). See <code class="docutils literal notranslate"><span class="pre">configuration_adv.h</span></code> for further information.</p>
</div>
<div class="section" id="extruder-auto-cooling-fans">
<h3>Extruder Auto-Cooling Fans<a class="headerlink" href="#extruder-auto-cooling-fans" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define E0_AUTO_FAN_PIN -1</span>
<span class="cp">#define E1_AUTO_FAN_PIN -1</span>
<span class="cp">#define E2_AUTO_FAN_PIN -1</span>
<span class="cp">#define E3_AUTO_FAN_PIN -1</span>
<span class="cp">#define E4_AUTO_FAN_PIN -1</span>
<span class="cp">#define EXTRUDER_AUTO_FAN_TEMPERATURE 50</span>
<span class="cp">#define EXTRUDER_AUTO_FAN_SPEED 255   </span><span class="c1">// 255 == full speed</span>
<span class="cp">#define CHAMBER_AUTO_FAN_TEMPERATURE 30</span>
<span class="cp">#define CHAMBER_AUTO_FAN_SPEED 255</span>
</pre></div>
</div>
<p>Extruder auto fans turn on whenever their extruder temperatures go above <code class="docutils literal notranslate"><span class="pre">EXTRUDER_AUTO_FAN_TEMPERATURE</span></code>. Your board’s pins file already specifies the recommended pins. Override those here or set to -1 to disable the fans completely.</p>
<p>Multiple extruders can be assigned to the same pin in which case the fan will turn on when <em>any</em> selected extruder is above the threshold.</p>
</div>
<div class="section" id="part-cooling-fan-multiplexer">
<h3>Part-Cooling Fan Multiplexer<a class="headerlink" href="#part-cooling-fan-multiplexer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define FANMUX0_PIN -1</span>
<span class="cp">#define FANMUX1_PIN -1</span>
<span class="cp">#define FANMUX2_PIN -1</span>
</pre></div>
</div>
<p>This feature allows you to digitally multiplex the fan output. The multiplexer is automatically switched at tool-change. To enable, just assign one or more <code class="docutils literal notranslate"><span class="pre">FANMUX[012]_PIN</span></code> values for up to 2, 4, or 8 multiplexed fans.</p>
</div>
</div>
<div class="section" id="case-light">
<h2>Case Light<a class="headerlink" href="#case-light" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="c1">#define CASE_LIGHT_ENABLE</span>
<span class="c1">#if ENABLED(CASE_LIGHT_ENABLE)</span>
  <span class="o">//</span><span class="c1">#define CASE_LIGHT_PIN 4                  // Override the default pin if needed</span>
  <span class="c1">#define INVERT_CASE_LIGHT false             // Set true if Case Light is ON when pin is LOW</span>
  <span class="c1">#define CASE_LIGHT_DEFAULT_ON true          // Set default power-up state on</span>
  <span class="c1">#define CASE_LIGHT_DEFAULT_BRIGHTNESS 105   // Set default power-up brightness (0-255, requires PWM pin)</span>
  <span class="o">//</span><span class="c1">#define CASE_LIGHT_MENU                   // Add Case Light options to the LCD menu</span>
  <span class="o">//</span><span class="c1">#define CASE_LIGHT_NO_BRIGHTNESS          // Disable brightness control. Enable for non-PWM lighting.</span>
  <span class="o">//</span><span class="c1">#define CASE_LIGHT_USE_NEOPIXEL           // Use Neopixel LED as case light, requires NEOPIXEL_LED.</span>
  <span class="c1">#if ENABLED(CASE_LIGHT_USE_NEOPIXEL)</span>
    <span class="c1">#define CASE_LIGHT_NEOPIXEL_COLOR { 255, 255, 255, 255 } // { Red, Green, Blue, White }</span>
  <span class="c1">#endif</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>Enable this option for a firmware-controlled digital or PWM case light. Use <a class="reference external" href="/docs/gcode/M355.html"><code class="docutils literal notranslate"><span class="pre">M355</span></code></a> to turn on/off and control the brightness.</p>
</div>
<div class="section" id="endstops-always-on">
<h2>Endstops Always On<a class="headerlink" href="#endstops-always-on" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ENDSTOPS_ALWAYS_ON_DEFAULT</span>
</pre></div>
</div>
<p>Enable this option to keep the endstops on (by default) even when not homing. Override at any time with <a class="reference external" href="/docs/gcode/M120.html"><code class="docutils literal notranslate"><span class="pre">M120</span></code></a>, <a class="reference external" href="/docs/gcode/M121.html"><code class="docutils literal notranslate"><span class="pre">M121</span></code></a>.</p>
</div>
<div class="section" id="z-late-enable">
<h2>Z Late Enable<a class="headerlink" href="#z-late-enable" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_LATE_ENABLE</span>
</pre></div>
</div>
<p>With this option is active, the Z steppers will only turn on at the last moment before they move. This option may be needed if your Z driver tends to overheat. Not compatible with Core kinematics.</p>
</div>
<div class="section" id="external-closed-loop-controller">
<h2>External Closed Loop Controller<a class="headerlink" href="#external-closed-loop-controller" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EXTERNAL_CLOSED_LOOP_CONTROLLER</span>
<span class="cp">#if ENABLED(EXTERNAL_CLOSED_LOOP_CONTROLLER)</span>
  <span class="c1">//#define CLOSED_LOOP_ENABLE_PIN        -1</span>
  <span class="c1">//#define CLOSED_LOOP_MOVE_COMPLETE_PIN -1</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Employ an external closed loop controller that can be activated or deactivated by the main controller. Using a single wire for the control signal and another for the return “move complete” signal to signify whether or not the move was able to be made successfully.</p>
<p>Benefits</p>
</div>
<div class="section" id="dual-steppers-dual-endstops">
<h2>Dual Steppers / Dual Endstops<a class="headerlink" href="#dual-steppers-dual-endstops" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define X_DUAL_STEPPER_DRIVERS</span>
<span class="cp">#if ENABLED(X_DUAL_STEPPER_DRIVERS)</span>
  <span class="cp">#define INVERT_X2_VS_X_DIR true   </span><span class="c1">// Set &#39;true&#39; if X motors should rotate in opposite directions</span>
  <span class="c1">//#define X_DUAL_ENDSTOPS</span>
  <span class="cp">#if ENABLED(X_DUAL_ENDSTOPS)</span>
    <span class="cp">#define X2_USE_ENDSTOP _XMAX_</span>
    <span class="cp">#define X_DUAL_ENDSTOPS_ADJUSTMENT  0</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>

<span class="c1">//#define Y_DUAL_STEPPER_DRIVERS</span>
<span class="cp">#if ENABLED(Y_DUAL_STEPPER_DRIVERS)</span>
  <span class="cp">#define INVERT_Y2_VS_Y_DIR true   </span><span class="c1">// Set &#39;true&#39; if Y motors should rotate in opposite directions</span>
  <span class="c1">//#define Y_DUAL_ENDSTOPS</span>
  <span class="cp">#if ENABLED(Y_DUAL_ENDSTOPS)</span>
    <span class="cp">#define Y2_USE_ENDSTOP _YMAX_</span>
    <span class="cp">#define Y_DUAL_ENDSTOPS_ADJUSTMENT  0</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>

<span class="c1">//#define Z_DUAL_STEPPER_DRIVERS</span>
<span class="cp">#if ENABLED(Z_DUAL_STEPPER_DRIVERS)</span>
  <span class="c1">//#define Z_DUAL_ENDSTOPS</span>
  <span class="cp">#if ENABLED(Z_DUAL_ENDSTOPS)</span>
    <span class="cp">#define Z2_USE_ENDSTOP _XMAX_</span>
    <span class="cp">#define Z_DUAL_ENDSTOPS_ADJUSTMENT  0</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>

<span class="c1">//#define Z_TRIPLE_STEPPER_DRIVERS</span>
<span class="cp">#if ENABLED(Z_TRIPLE_STEPPER_DRIVERS)</span>
  <span class="c1">//#define Z_TRIPLE_ENDSTOPS</span>
  <span class="cp">#if ENABLED(Z_TRIPLE_ENDSTOPS)</span>
    <span class="cp">#define Z2_USE_ENDSTOP _XMAX_</span>
    <span class="cp">#define Z3_USE_ENDSTOP _YMAX_</span>
    <span class="cp">#define Z_TRIPLE_ENDSTOPS_ADJUSTMENT2  0</span>
    <span class="cp">#define Z_TRIPLE_ENDSTOPS_ADJUSTMENT3  0</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>These options allow you to use extra E drivers to drive a second motor for X, Y, and/or Z axes.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">X_DUAL_STEPPER_DRIVERS</span></code> to use a second X motor. If the X motors need to spin in opposite directions set <code class="docutils literal notranslate"><span class="pre">INVERT_X2_VS_X_DIR</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>. If the second motor has its own endstop set <code class="docutils literal notranslate"><span class="pre">X_DUAL_ENDSTOPS</span></code>. (This can adjust for “racking.”) Use <code class="docutils literal notranslate"><span class="pre">X2_USE_ENDSTOP</span></code> to set the endstop plug that should be used for the second endstop. Extra endstops will appear in the output of <a class="reference external" href="/docs/gcode/M119.html">‘M119’</a>.</p>
<p>If the two X axes aren’t perfectly aligned, use <code class="docutils literal notranslate"><span class="pre">X_DUAL_ENDSTOP_ADJUSTMENT</span></code> to adjust for the difference. This offset is applied to the X2 motor after homing with <a class="reference external" href="/docs/gcode/G028.html"><code class="docutils literal notranslate"><span class="pre">G28</span></code></a>. The dual endstop offsets can be set at runtime with <code class="docutils literal notranslate"><span class="pre">M666</span> <span class="pre">X[offset]</span> <span class="pre">Y[offset]</span> <span class="pre">Z[offset]</span></code>.</p>
<p>{% alert info %}
Requires enabling the corresponding stepper driver ie <code class="docutils literal notranslate"><span class="pre">X2_DRIVER_TYPE</span></code> in <code class="docutils literal notranslate"><span class="pre">configuration.h</span></code>. Do <code class="docutils literal notranslate"><span class="pre">NOT</span></code> enable <code class="docutils literal notranslate"><span class="pre">E2_DRIVER_TYPE</span></code> - this may produce undesireabe results that can harm your machine.
{% endalert %}</p>
</div>
<div class="section" id="dual-x-carriage">
<h2>Dual X Carriage<a class="headerlink" href="#dual-x-carriage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define DUAL_X_CARRIAGE</span>
<span class="cp">#if ENABLED(DUAL_X_CARRIAGE)</span>
  <span class="cp">#define X1_MIN_POS X_MIN_POS</span>
  <span class="cp">#define X1_MAX_POS X_BED_SIZE</span>
  <span class="cp">#define X2_MIN_POS    80 </span>
  <span class="cp">#define X2_MAX_POS   353</span>
  <span class="cp">#define X2_HOME_DIR    1 </span>
  <span class="cp">#define X2_HOME_POS X2_MAX_POS</span>
  <span class="cp">#define DEFAULT_DUAL_X_CARRIAGE_MODE DXC_AUTO_PARK_MODE</span>
  <span class="cp">#define DEFAULT_DUPLICATION_X_OFFSET 100</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Enable this option if you have Dual X-Carriages that move independently. The Dual X-Carriage design allows the inactive extruder to be parked, which keeps ooze from contaminating the print, reduces the weight of each carriage, and enables faster printing speeds. With this option simply connect the X2 stepper to the first unused E plug.</p>
<p>In a Dual X-Carriage setup the first x-carriage (<code class="docutils literal notranslate"><span class="pre">T0</span></code>) homes to the minimum endstop, while the second x-carriage (<code class="docutils literal notranslate"><span class="pre">T1</span></code>) homes to the maximum endstop.</p>
<p>With Dual X-Carriage the <code class="docutils literal notranslate"><span class="pre">HOTEND_OFFSET_X</span></code> setting for <code class="docutils literal notranslate"><span class="pre">T1</span></code> overrides <code class="docutils literal notranslate"><span class="pre">X2_HOME_POS</span></code>. Use <code class="docutils literal notranslate"><span class="pre">M218</span> <span class="pre">T1</span> <span class="pre">X[homepos]</span></code> to set a custom X2 home position, and <a class="reference external" href="/docs/gcode/M218.html"><code class="docutils literal notranslate"><span class="pre">M218</span></code></a> <code class="docutils literal notranslate"><span class="pre">T1</span> <span class="pre">X0</span></code> to use <code class="docutils literal notranslate"><span class="pre">X2_HOME_POS</span></code>. This offset can be saved to EEPROM with <a class="reference external" href="/docs/gcode/M500.html"><code class="docutils literal notranslate"><span class="pre">M500</span></code></a>.</p>
<p><strong>In your slicer, be sure to set the second extruder X-offset to 0.</strong></p>
<p>Dual X-Carriage has three different movement modes, set with <a class="reference external" href="/docs/gcode/M605.html"><code class="docutils literal notranslate"><span class="pre">M605</span></code></a> <code class="docutils literal notranslate"><span class="pre">S[mode]</span></code>:</p>
<ul class="simple">
<li>Mode 0: Full Control Mode. (<a class="reference external" href="/docs/gcode/M605.html"><code class="docutils literal notranslate"><span class="pre">M605</span></code></a> <code class="docutils literal notranslate"><span class="pre">S1</span></code>) Slicers that fully support dual x-carriages can use this mode for optimal travel results.</li>
<li>Mode 1: Auto-park Mode. (<a class="reference external" href="/docs/gcode/M605.html"><code class="docutils literal notranslate"><span class="pre">M605</span></code></a> <code class="docutils literal notranslate"><span class="pre">S1</span></code>) The firmware automatically parks/unparks the carriages on tool-change. No slicer support is required. (<a class="reference external" href="/docs/gcode/M605.html"><code class="docutils literal notranslate"><span class="pre">M605</span></code></a> <code class="docutils literal notranslate"><span class="pre">S1</span></code>)</li>
<li>Mode 2: Duplication Mode. (<code class="docutils literal notranslate"><span class="pre">[</span></code>M605<code class="docutils literal notranslate"><span class="pre">](/docs/gcode/M605.html)</span> <span class="pre">S2</span> <span class="pre">X[offs]</span> <span class="pre">R[temp]</span></code>) The firmware will transparently make the second x-carriage and extruder copy all actions of the first x-carriage. This allows the printer to print 2 arbitrary items at once. (The 2nd extruder’s X and temp offsets are set using: <code class="docutils literal notranslate"><span class="pre">[</span></code>M605<code class="docutils literal notranslate"><span class="pre">](/docs/gcode/M605.html)</span> <span class="pre">S2</span> <span class="pre">X[offs]</span> <span class="pre">R[offs]</span></code>.)</li>
</ul>
</div>
<div class="section" id="solenoid">
<h2>Solenoid<a class="headerlink" href="#solenoid" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EXT_SOLENOID</span>
</pre></div>
</div>
<p>Adds control for any solenoid attached to an extruder. Activate the solenoid on the active extruder with <a class="reference external" href="/docs/gcode/M380.html"><code class="docutils literal notranslate"><span class="pre">M380</span></code></a>. Disable all with <a class="reference external" href="/docs/gcode/M381.html"><code class="docutils literal notranslate"><span class="pre">M381</span></code></a>.
{% alert info %}
Requires defining the corresponding pin ie SOL0_PIN, SOL1_PIN, etc.
{% endalert %}</p>
</div>
<div class="section" id="homing">
<h2>Homing<a class="headerlink" href="#homing" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define X_HOME_BUMP_MM 5</span>
<span class="cp">#define Y_HOME_BUMP_MM 5</span>
<span class="cp">#define Z_HOME_BUMP_MM 2</span>
<span class="cp">#define HOMING_BUMP_DIVISOR { 2, 2, 4 }</span>
<span class="c1">//#define QUICK_HOME</span>
<span class="c1">//#define HOME_Y_BEFORE_X</span>
<span class="cp">#define AXIS_RELATIVE_MODES {false, false, false, false}</span>
<span class="c1">//#define DUAL_NOZZLE_DUPLICATION_MODE</span>
</pre></div>
</div>
<p>After an endstop is triggered during homing, the printerhead backs off by the set <code class="docutils literal notranslate"><span class="pre">HOME_BUMP_MM</span></code> distance then homes again at a slower speed.
The slower homing speed for each axis is set by <code class="docutils literal notranslate"><span class="pre">HOMING_BUMP_DIVISOR</span></code>.</p>
</div>
<div class="section" id="id3">
<h2>BLTouch<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(BLTOUCH)</span>
<span class="c1">//#define BLTOUCH_DELAY 500</span>
<span class="c1">//#define BLTOUCH_FORCE_SW_MODE</span>
<span class="c1">//#define BLTOUCH_SET_5V_MODE</span>
<span class="c1">//#define BLTOUCH_FORCE_MODE_SET</span>
<span class="c1">//#define BLTOUCH_HS_MODE</span>
<span class="c1">//#define BLTOUCH_LCD_VOLTAGE_MENU</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>The default BLTouch settings can be overriden with these options. See <code class="docutils literal notranslate"><span class="pre">configuration_adv.h</span></code> for more information.</p>
</div>
<div class="section" id="z-steppers-auto-alignment">
<h2>Z Steppers Auto-Alignment<a class="headerlink" href="#z-steppers-auto-alignment" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define Z_STEPPER_AUTO_ALIGN</span>
<span class="cp">#if ENABLED(Z_STEPPER_AUTO_ALIGN)</span>
  <span class="cp">#define Z_STEPPER_ALIGN_X { 10, 150, 290 }</span>
  <span class="cp">#define Z_STEPPER_ALIGN_Y { 290, 10, 290 }</span>
  <span class="cp">#define Z_STEPPER_ALIGN_ITERATIONS 3</span>
  <span class="cp">#define RESTORE_LEVELING_AFTER_G34</span>
  <span class="cp">#define G34_MAX_GRADE  5 </span>
  <span class="cp">#define Z_STEPPER_ALIGN_AMP 1.0</span>
  <span class="cp">#define Z_STEPPER_ALIGN_ACC 0.02</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Add the <a class="reference external" href="/docs/gcode/G034.html"><code class="docutils literal notranslate"><span class="pre">G34</span></code></a> command to align multiple Z steppers using a bed probe.</p>
</div>
<div class="section" id="todo-options">
<h2>TODO Options<a class="headerlink" href="#todo-options" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define AXIS_RELATIVE_MODES { false, false, false, false }</span>
<span class="c1">//#define MULTI_NOZZLE_DUPLICATION</span>

<span class="cp">#define INVERT_X_STEP_PIN false</span>
<span class="cp">#define INVERT_Y_STEP_PIN false</span>
<span class="cp">#define INVERT_Z_STEP_PIN false</span>
<span class="cp">#define INVERT_E_STEP_PIN false</span>

<span class="cp">#define DEFAULT_STEPPER_DEACTIVE_TIME 120</span>
<span class="cp">#define DISABLE_INACTIVE_X true</span>
<span class="cp">#define DISABLE_INACTIVE_Y true</span>
<span class="cp">#define DISABLE_INACTIVE_Z true</span>
<span class="cp">#define DISABLE_INACTIVE_E true</span>

<span class="cp">#define DEFAULT_MINIMUMFEEDRATE       0.0 </span>
<span class="cp">#define DEFAULT_MINTRAVELFEEDRATE     0.0</span>

<span class="c1">//#define HOME_AFTER_DEACTIVATE</span>

<span class="cp">#if ENABLED(ULTIPANEL)</span>
  <span class="cp">#define MANUAL_FEEDRATE {50*60, 50*60, 4*60, 60} </span><span class="c1">// Feedrates for manual moves along X, Y, Z, E from panel</span>
  <span class="cp">#define ULTIPANEL_FEEDMULTIPLY  </span><span class="c1">// Comment to disable setting feedrate multiplier via encoder</span>
<span class="cp">#endif</span>

<span class="c1">// minimum time in microseconds that a movement needs to take if the buffer is emptied.</span>
<span class="cp">#define DEFAULT_MINSEGMENTTIME        20000</span>

<span class="c1">// If defined the movements slow down when the look ahead buffer is only half full</span>
<span class="cp">#define SLOWDOWN</span>

<span class="c1">//#define XY_FREQUENCY_LIMIT  15</span>

<span class="cp">#define MINIMUM_PLANNER_SPEED 0.05</span>

<span class="cp">#define MICROSTEP_MODES {16,16,16,16,16} </span><span class="c1">// [1,2,4,8,16]</span>

<span class="c1">//#define PWM_MOTOR_CURRENT { 1300, 1300, 1250 }</span>
<span class="c1">//#define DIGIPOT_MOTOR_CURRENT { 135,135,135,135,135 }</span>
<span class="c1">//#define DAC_MOTOR_CURRENT_DEFAULT { 70, 80, 90, 80 }</span>

<span class="c1">//#define DIGIPOT_I2C</span>
<span class="cp">#if ENABLED(DIGIPOT_I2C) &amp;&amp; !defined(DIGIPOT_I2C_ADDRESS_A)</span>
  <span class="cp">#define DIGIPOT_I2C_ADDRESS_A 0x2C </span>
  <span class="cp">#define DIGIPOT_I2C_ADDRESS_B 0x2D</span>
<span class="cp">#endif</span>

<span class="c1">//#define DIGIPOT_MCP4018</span>
<span class="cp">#define DIGIPOT_I2C_NUM_CHANNELS 8</span>
<span class="cp">#define DIGIPOT_I2C_MOTOR_CURRENTS { 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0 }</span>

<span class="cp">#define ENCODER_RATE_MULTIPLIER</span>
<span class="cp">#define ENCODER_10X_STEPS_PER_SEC 75</span>
<span class="cp">#define ENCODER_100X_STEPS_PER_SEC 160</span>
<span class="c1">//#define CHDK 4</span>
<span class="cp">#define CHDK_DELAY 50</span>

<span class="c1">//#define LCD_INFO_MENU</span>

<span class="c1">//#define STATUS_MESSAGE_SCROLLING</span>

<span class="c1">//#define LCD_DECIMAL_SMALL_XY</span>

<span class="c1">//#define LCD_TIMEOUT_TO_STATUS 15000</span>
</pre></div>
</div>
</div>
<div class="section" id="sd-card-extras">
<h2>SD Card Extras<a class="headerlink" href="#sd-card-extras" title="Permalink to this headline">¶</a></h2>
<p>The options listed below help to fix, improve, and optimize SD Card performance.</p>
<div class="section" id="sd-detect-inverted">
<h3>SD Detect Inverted<a class="headerlink" href="#sd-detect-inverted" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="c1">#define SD_DETECT_INVERTED</span>
</pre></div>
</div>
<p>Some RAMPS and other boards don’t detect when an SD card is inserted. You can work around this by connecting a push button or single throw switch to the pin defined as <code class="docutils literal notranslate"><span class="pre">SD_DETECT_PIN</span></code> in your board’s pins definitions. This setting should be disabled unless you are using a push button, pulling the pin to ground. Note: This option is forced off for most LCD controllers (all <code class="docutils literal notranslate"><span class="pre">ULTIPANEL</span></code> except <code class="docutils literal notranslate"><span class="pre">ELB_FULL_GRAPHIC_CONTROLLER</span></code>).</p>
</div>
<div class="section" id="sd-finished-stepper-release">
<h3>SD Finished Stepper Release<a class="headerlink" href="#sd-finished-stepper-release" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SD_FINISHED_STEPPERRELEASE true          </span><span class="c1">// Disable steppers when SD Print is finished</span>
<span class="cp">#define SD_FINISHED_RELEASECOMMAND &quot;[`M84`](/docs/gcode/M018.html) X Y Z E&quot; </span><span class="c1">// You might want to keep the z enabled so your bed stays in place.</span>
</pre></div>
</div>
</div>
<div class="section" id="sd-menu-autostart">
<h3>SD Menu Autostart<a class="headerlink" href="#sd-menu-autostart" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define MENU_ADDAUTOSTART  // Add an option in the menu to run all auto#.g files</span>
</pre></div>
</div>
</div>
<div class="section" id="sd-card-sorting">
<h3>SD Card Sorting<a class="headerlink" href="#sd-card-sorting" title="Permalink to this headline">¶</a></h3>
<div class="section" id="recent-first">
<h4>Recent First<a class="headerlink" href="#recent-first" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SDCARD_RATHERRECENTFIRST</span>
</pre></div>
</div>
<p>Reverse SD sort to show “more recent” files first, according to the card’s FAT. Since the FAT gets out of order with usage, <code class="docutils literal notranslate"><span class="pre">SDCARD_SORT_ALPHA</span></code> is recommended.</p>
</div>
<div class="section" id="alpha-sort">
<h4>Alpha Sort<a class="headerlink" href="#alpha-sort" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SDCARD_SORT_ALPHA</span>

<span class="c1">// SD Card Sorting options</span>
<span class="cp">#if ENABLED(SDCARD_SORT_ALPHA)</span>
  <span class="cp">#define SDSORT_LIMIT       40     </span><span class="c1">// Maximum number of sorted items (10-256). Costs 27 bytes each.</span>
  <span class="cp">#define FOLDER_SORTING     -1     </span><span class="c1">// -1=above  0=none  1=below</span>
  <span class="cp">#define SDSORT_GCODE       false  </span><span class="c1">// Allow turning sorting on/off with LCD and M34 g-code.</span>
  <span class="cp">#define SDSORT_USES_RAM    false  </span><span class="c1">// Pre-allocate a static array for faster pre-sorting.</span>
  <span class="cp">#define SDSORT_USES_STACK  false  </span><span class="c1">// Prefer the stack for pre-sorting to give back some SRAM. (Negated by next 2 options.)</span>
  <span class="cp">#define SDSORT_CACHE_NAMES false  </span><span class="c1">// Keep sorted items in RAM longer for speedy performance. Most expensive option.</span>
  <span class="cp">#define SDSORT_DYNAMIC_RAM false  </span><span class="c1">// Use dynamic allocation (within SD menus). Least expensive option. Set SDSORT_LIMIT before use!</span>
  <span class="cp">#define SDSORT_CACHE_VFATS 2      </span><span class="c1">// Maximum number of 13-byte VFAT entries to use for sorting.</span>
                                    <span class="c1">// Note: Only affects SCROLL_LONG_FILENAMES with SDSORT_CACHE_NAMES but not SDSORT_DYNAMIC_RAM.</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>With this option enabled, items on SD cards will be sorted by name for easier navigation.</p>
<p>By default…</p>
<ul class="simple">
<li>Use the slowest -but safest- method for sorting.</li>
<li>Folders are sorted to the top.</li>
<li>The sort key is statically allocated.</li>
<li>No added G-code (<code class="docutils literal notranslate"><span class="pre">M34</span></code>) support.</li>
<li>40 item sorting limit. (Items after the first 40 are unsorted.)</li>
</ul>
<p>SD sorting uses static allocation (as set by <code class="docutils literal notranslate"><span class="pre">SDSORT_LIMIT</span></code>), allowing the compiler to calculate the worst-case usage and throw an error if the SRAM limit is exceeded.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SDSORT_USES_RAM</span></code> provides faster sorting via a static directory buffer.</li>
<li><code class="docutils literal notranslate"><span class="pre">SDSORT_USES_STACK</span></code> does the same, but uses a local stack-based buffer.</li>
<li><code class="docutils literal notranslate"><span class="pre">SDSORT_CACHE_NAMES</span></code> will retain the sorted file listing in RAM. (Expensive!)</li>
<li><code class="docutils literal notranslate"><span class="pre">SDSORT_DYNAMIC_RAM</span></code> only uses RAM when the SD menu is visible. (Use with caution!)</li>
</ul>
</div>
</div>
<div class="section" id="progress-bar-character-lcd">
<h3>Progress Bar (character LCD)<a class="headerlink" href="#progress-bar-character-lcd" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LCD_PROGRESS_BAR</span>
<span class="cp">#if ENABLED(LCD_PROGRESS_BAR)</span>
  <span class="cp">#define PROGRESS_BAR_BAR_TIME 2000  </span><span class="c1">// Amount of time (ms) to show the progress bar</span>
  <span class="cp">#define PROGRESS_BAR_MSG_TIME 3000  </span><span class="c1">// Amount of time (ms) to show the status message</span>
  <span class="cp">#define PROGRESS_MSG_EXPIRE      0  </span><span class="c1">// Amount of time (ms) to retain the status message (0=forever)</span>
  <span class="c1">//#define PROGRESS_MSG_ONCE         // Show messages for MSG_TIME then hide them</span>
  <span class="c1">//#define LCD_PROGRESS_BAR_TEST     // Add a menu item to test the progress bar.</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Show a progress bar on HD44780 LCDs for SD printing. Sub-options determine how long to show the progress bar and status message, how long to retain the status message, and whether to include a progress bar test in the Debug menu.</p>
</div>
<div class="section" id="set-print-progress">
<h3>Set Print Progress<a class="headerlink" href="#set-print-progress" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LCD_SET_PROGRESS_MANUALLY</span>
</pre></div>
</div>
<p>Add an <a class="reference external" href="/docs/gcode/M073.html"><code class="docutils literal notranslate"><span class="pre">M73</span></code></a> G-code to set the current percentage.</p>
</div>
<div class="section" id="long-filename-host-support">
<h3>Long Filename Host Support<a class="headerlink" href="#long-filename-host-support" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LONG_FILENAME_HOST_SUPPORT</span>
</pre></div>
</div>
<p>Allow hosts to request long names for files and folders with <a class="reference external" href="/docs/gcode/M033.html"><code class="docutils literal notranslate"><span class="pre">M33</span></code></a> <code class="docutils literal notranslate"><span class="pre">[path]</span></code>.</p>
</div>
<div class="section" id="scroll-long-filenames">
<h3>Scroll Long Filenames<a class="headerlink" href="#scroll-long-filenames" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SCROLL_LONG_FILENAMES</span>
</pre></div>
</div>
<p>Enable this option to scroll long filenames in the SD card menu.</p>
</div>
<div class="section" id="abort-on-endstop-hit">
<h3>Abort on Endstop Hit<a class="headerlink" href="#abort-on-endstop-hit" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SD_ABORT_ON_ENDSTOP_HIT</span>
</pre></div>
</div>
<p>Add an option for the firmware to abort SD printing if any endstop is triggered. Turn on with <a class="reference external" href="/docs/gcode/M540.html"><code class="docutils literal notranslate"><span class="pre">M540</span></code></a> <code class="docutils literal notranslate"><span class="pre">S1</span></code> (or from the LCD menu) and make sure endstops are enabled (<code class="docutils literal notranslate"><span class="pre">M120</span></code>) during SD printing.</p>
</div>
<div class="section" id="reprint-last-file">
<h3>Reprint Last File<a class="headerlink" href="#reprint-last-file" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SD_REPRINT_LAST_SELECTED_FILE</span>
</pre></div>
</div>
<p>This option makes it easier to print the same SD Card file again. Whenever an SD print completes the LCD Menu will open with the same file selected. From there you can click to start a new print, or you can navigate elsewhere.</p>
</div>
</div>
<div class="section" id="graphical-display-extras">
<h2>Graphical Display Extras<a class="headerlink" href="#graphical-display-extras" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(DOGLCD)</span>
  <span class="cp">#define XYZ_HOLLOW_FRAME      </span><span class="c1">// Enable to save many cycles by drawing a hollow frame on the Info Screen</span>
  <span class="cp">#define MENU_HOLLOW_FRAME     </span><span class="c1">// Enable to save many cycles by drawing a hollow frame on Menu Screens</span>
  <span class="c1">//#define USE_BIG_EDIT_FONT   // A bigger font is available for edit items. Costs 3120 bytes of PROGMEM.</span>
                                <span class="c1">// Western only. Not available for Cyrillic, Kana, Turkish, Greek, or Chinese.</span>
  <span class="c1">//#define USE_SMALL_INFOFONT  // A smaller font may be used on the Info Screen. Costs 2300 bytes of PROGMEM.</span>
                                <span class="c1">// Western only. Not available for Cyrillic, Kana, Turkish, Greek, or Chinese.</span>
  <span class="c1">//#define DOGM_SPI_DELAY_US 5 // Enable this option and reduce the value to optimize screen updates.</span>
                                <span class="c1">// The normal delay is 10µs. Use the lowest value that still gives a reliable display.</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Use the optimizations here to improve printing performance, which can be adversely affected by graphical display drawing, especially when doing several short moves, and when printing on DELTA and SCARA machines.</p>
<p>Some of these options may result in the display lagging behind controller events, as there is a trade-off between reliable printing performance versus fast display updates.</p>
</div>
<div class="section" id="watchdog">
<h2>Watchdog<a class="headerlink" href="#watchdog" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define USE_WATCHDOG</span>
</pre></div>
</div>
<p>The hardware watchdog should reset the microcontroller, disabling all outputs, in case the firmware gets stuck and doesn’t do temperature regulation.</p>
<div class="section" id="watchdog-manual-reset">
<h3>Watchdog Manual Reset<a class="headerlink" href="#watchdog-manual-reset" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(USE_WATCHDOG)</span>
  <span class="c1">//#define WATCHDOG_RESET_MANUAL</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>If you have a watchdog reboot in an ATmega2560 the device can hang forever, as a watchdog reset will leave the watchdog on. The <code class="docutils literal notranslate"><span class="pre">WATCHDOG_RESET_MANUAL</span></code> option works around this by eschewing the hardware reset. However, <strong>this feature is unsafe</strong> because it only works if interrupts are disabled, and the code could hang in an interrupt routine with interrupts disabled.</p>
</div>
</div>
<div class="section" id="babystepping">
<h2>Babystepping<a class="headerlink" href="#babystepping" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define BABYSTEPPING</span>
<span class="cp">#if ENABLED(BABYSTEPPING)</span>
  <span class="c1">//#define BABYSTEP_XY              // Also enable X/Y Babystepping. Not supported on DELTA!</span>
  <span class="cp">#define BABYSTEP_INVERT_Z false    </span><span class="c1">// Change if Z babysteps should go the other way</span>
  <span class="cp">#define BABYSTEP_MULTIPLICATOR 1   </span><span class="c1">// Babysteps are very small. Increase for faster motion.</span>
  <span class="c1">//#define BABYSTEP_ZPROBE_OFFSET   // Enable to combine M851 and Babystepping</span>
  <span class="c1">//#define DOUBLECLICK_FOR_Z_BABYSTEPPING // Double-click on the Status Screen for Z Babystepping.</span>
  <span class="cp">#define DOUBLECLICK_MAX_INTERVAL 1250 </span><span class="c1">// Maximum interval between clicks, in milliseconds.</span>
                                        <span class="c1">// Note: Extra time may be added to mitigate controller latency.</span>
  <span class="c1">//#define BABYSTEP_ZPROBE_GFX_OVERLAY // Enable graphical overlay on Z-offset editor</span>
  <span class="c1">//#define BABYSTEP_ZPROBE_GFX_REVERSE // Reverses the direction of the CW/CCW indicators</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Babystepping enables <code class="docutils literal notranslate"><span class="pre">M290</span></code> and LCD menu items to move the axes by tiny increments without changing the current position values. This feature is used primarily to adjust the Z axis in the first layer of a print in real-time. <em>Warning: Does not respect endstops!</em></p>
</div>
<div class="section" id="linear-advance">
<h2>Linear Advance<a class="headerlink" href="#linear-advance" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define LIN_ADVANCE</span>

<span class="cp">#if ENABLED(LIN_ADVANCE)</span>
  <span class="cp">#define LIN_ADVANCE_K 75</span>
  <span class="cp">#define LIN_ADVANCE_E_D_RATIO 0 </span><span class="c1">// The calculated ratio (or 0) according to the formula W * H / ((D / 2) ^ 2 * PI)</span>
                                  <span class="c1">// Example: 0.4 * 0.2 / ((1.75 / 2) ^ 2 * PI) = 0.033260135</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>This feature allows Marlin to use linear pressure control for print extrusion, to eliminate ooze, improve corners, etc. See <code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code> and the <a class="reference external" href="/docs/features/lin_advance.html">Linear Advance page</a> for more complete documentation.</p>
</div>
<div class="section" id="delta-scara-limits">
<h2>Delta / Scara Limits<a class="headerlink" href="#delta-scara-limits" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(DELTA) &amp;&amp; !defined(DELTA_PROBEABLE_RADIUS)</span>
  <span class="cp">#define DELTA_PROBEABLE_RADIUS DELTA_PRINTABLE_RADIUS</span>
<span class="cp">#elif IS_SCARA &amp;&amp; !defined(SCARA_PRINTABLE_RADIUS)</span>
  <span class="cp">#define SCARA_PRINTABLE_RADIUS (SCARA_LINKAGE_1 + SCARA_LINKAGE_2)</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-mesh-bounds">
<h2>Custom Mesh Bounds<a class="headerlink" href="#custom-mesh-bounds" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(MESH_BED_LEVELING) || ENABLED(AUTO_BED_LEVELING_UBL)</span>
  <span class="c1">// Override the mesh area if the automatic (max) area is too large</span>
  <span class="c1">//#define MESH_MIN_X MESH_INSET</span>
  <span class="c1">//#define MESH_MIN_Y MESH_INSET</span>
  <span class="c1">//#define MESH_MAX_X X_BED_SIZE - (MESH_INSET)</span>
  <span class="c1">//#define MESH_MAX_Y Y_BED_SIZE - (MESH_INSET)</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="enhanced-g-code">
<h2>Enhanced G-code<a class="headerlink" href="#enhanced-g-code" title="Permalink to this headline">¶</a></h2>
<div class="section" id="g2-g3-arc-support">
<h3>G2/G3 Arc Support<a class="headerlink" href="#g2-g3-arc-support" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define ARC_SUPPORT               </span><span class="c1">// Disable this feature to save ~3226 bytes</span>
<span class="cp">#if ENABLED(ARC_SUPPORT)</span>
  <span class="cp">#define MM_PER_ARC_SEGMENT  1   </span><span class="c1">// Length of each arc segment</span>
  <span class="cp">#define N_ARC_CORRECTION   25   </span><span class="c1">// Number of intertpolated segments between corrections</span>
  <span class="c1">//#define ARC_P_CIRCLES         // Enable the &#39;P&#39; parameter to specify complete circles</span>
  <span class="c1">//#define CNC_WORKSPACE_PLANES  // Allow G2/G3 to operate in XY, ZX, or YZ planes</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p><a class="reference external" href="/docs/gcode/G002-G003.html"><code class="docutils literal notranslate"><span class="pre">G2/G3</span></code></a> Arc Support</p>
</div>
<div class="section" id="g5-bezier-curve">
<h3>G5 Bezier Curve<a class="headerlink" href="#g5-bezier-curve" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define BEZIER_CURVE_SUPPORT</span>
</pre></div>
</div>
<p>Support for <a class="reference external" href="/docs/gcode/G005.html"><code class="docutils literal notranslate"><span class="pre">G5</span></code></a> with XYZE destination and IJPQ offsets. Requires ~2666 bytes.</p>
</div>
<div class="section" id="g38-2-g38-3-probe-target">
<h3>G38.2/G38.3 Probe Target<a class="headerlink" href="#g38-2-g38-3-probe-target" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define G38_PROBE_TARGET</span>
<span class="cp">#if ENABLED(G38_PROBE_TARGET)</span>
  <span class="cp">#define G38_MINIMUM_MOVE 0.0275 </span><span class="c1">// (mm) Minimum distance that will produce a move</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Add commands <a class="reference external" href="/docs/gcode/G038.html"><code class="docutils literal notranslate"><span class="pre">G38.2</span></code></a> and <a class="reference external" href="/docs/gcode/G038.html"><code class="docutils literal notranslate"><span class="pre">G38.3</span></code></a> to probe towards target. Enable <code class="docutils literal notranslate"><span class="pre">PROBE_DOUBLE_TOUCH</span></code> if you want <code class="docutils literal notranslate"><span class="pre">G38</span></code> to double touch.</p>
</div>
</div>
<div class="section" id="minimum-steps-per-segment">
<h2>Minimum Steps Per Segment<a class="headerlink" href="#minimum-steps-per-segment" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MIN_STEPS_PER_SEGMENT 6</span>
</pre></div>
</div>
<p>Moves (or segments) with fewer steps than this will be joined with the next move.</p>
</div>
<div class="section" id="minimum-stepper-pulse">
<h2>Minimum Stepper Pulse<a class="headerlink" href="#minimum-stepper-pulse" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MINIMUM_STEPPER_PULSE 0 </span><span class="c1">// (µs) The smallest stepper pulse allowed</span>
</pre></div>
</div>
<p>The minimum pulse width (in µs) for stepping a stepper. Set this if you find stepping unreliable, or if using a very fast CPU.</p>
</div>
<div class="section" id="parallel-heaters">
<h2>Parallel Heaters<a class="headerlink" href="#parallel-heaters" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define HEATERS_PARALLEL</span>
</pre></div>
</div>
<p>Control heater 0 and heater 1 in parallel.</p>
</div>
<div class="section" id="buffer-hosts">
<h2>Buffer / Hosts<a class="headerlink" href="#buffer-hosts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="block-buffer">
<h3>Block Buffer<a class="headerlink" href="#block-buffer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(SDSUPPORT)</span>
  <span class="cp">#define BLOCK_BUFFER_SIZE 16 </span><span class="c1">// SD,LCD,Buttons take more memory, block buffer needs to be smaller</span>
<span class="cp">#else</span>
  <span class="cp">#define BLOCK_BUFFER_SIZE 16 </span><span class="c1">// maximize block buffer</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>The number of linear motions that can be in the plan at any give time. The <code class="docutils literal notranslate"><span class="pre">BLOCK_BUFFER_SIZE</span></code> must be a power of 2, (8, 16, 32, etc.) because shifts and ors are used to do the ring-buffering.</p>
</div>
<div class="section" id="serial-command-buffer">
<h3>Serial Command Buffer<a class="headerlink" href="#serial-command-buffer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MAX_CMD_SIZE 96</span>
<span class="cp">#define BUFSIZE 4</span>
</pre></div>
</div>
<p>The ASCII buffer for serial input. Individual command line length is set by <code class="docutils literal notranslate"><span class="pre">MAX_CMD_SIZE</span></code>, and should be long enough to hold a complete G-code line. Set the number of lines with <code class="docutils literal notranslate"><span class="pre">BUFSIZE</span></code>.</p>
</div>
<div class="section" id="transmit-to-host-buffer">
<h3>Transmit to Host Buffer<a class="headerlink" href="#transmit-to-host-buffer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TX_BUFFER_SIZE 0</span>
</pre></div>
</div>
<p>Transmission to Host buffer size. To save 386 bytes of PROGMEM (and <code class="docutils literal notranslate"><span class="pre">TX_BUFFER_SIZE</span></code>+3 bytes of SRAM) set to 0. To buffer a simple “ok” you need 4 bytes. An <code class="docutils literal notranslate"><span class="pre">ADVANCED_OK</span></code> (<code class="docutils literal notranslate"><span class="pre">M105</span></code>) needs 32 bytes. For debug-echo: 128 bytes for the optimal speed. Other output doesn’t need to be that speedy.</p>
</div>
<div class="section" id="host-receive-buffer">
<h3>Host Receive Buffer<a class="headerlink" href="#host-receive-buffer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define RX_BUFFER_SIZE 1024</span>
<span class="cp">#if RX_BUFFER_SIZE &gt;= 1024</span>
  <span class="c1">//#define SERIAL_XON_XOFF</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Host Receive buffer size. Without XON/XOFF flow control (see <code class="docutils literal notranslate"><span class="pre">SERIAL_XON_XOFF</span></code> below) 32 bytes should be enough. To use flow control, set this buffer size to at least 1024 bytes.</p>
</div>
<div class="section" id="sd-transfer-stats">
<h3>SD Transfer Stats<a class="headerlink" href="#sd-transfer-stats" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if ENABLED(SDSUPPORT)</span>
  <span class="c1">//#define SERIAL_STATS_MAX_RX_QUEUED</span>
  <span class="c1">//#define SERIAL_STATS_DROPPED_RX</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="emergency-parser">
<h3>Emergency Parser<a class="headerlink" href="#emergency-parser" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EMERGENCY_PARSER</span>
</pre></div>
</div>
<p>Enable an emergency-command parser to intercept certain commands as they enter the serial receive buffer, so they cannot be blocked. Currently handles <a class="reference external" href="/docs/gcode/M108.html"><code class="docutils literal notranslate"><span class="pre">M108</span></code></a>, <a class="reference external" href="/docs/gcode/M112.html"><code class="docutils literal notranslate"><span class="pre">M112</span></code></a>, and <a class="reference external" href="/docs/gcode/M410.html"><code class="docutils literal notranslate"><span class="pre">M410</span></code></a>. Does not work on boards using AT90USB (USBCON) processors!</p>
</div>
<div class="section" id="no-timeouts">
<h3>No Timeouts<a class="headerlink" href="#no-timeouts" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NO_TIMEOUTS 1000 // (ms)</span>
</pre></div>
</div>
<p>Bad serial connections can miss a received command by sending an “ok”, and some hosts will abort after 30 seconds. Some hosts start sending commands while receiving a ‘wait’. This “wait” is only sent when the buffer is empty. 1 second is a good value here. The <code class="docutils literal notranslate"><span class="pre">HOST_KEEPALIVE</span></code> feature provides another way to keep the host alive.</p>
</div>
<div class="section" id="advanced-ok">
<h3>Advanced OK<a class="headerlink" href="#advanced-ok" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ADVANCED_OK</span>
</pre></div>
</div>
<p>Include extra information about the buffer in “ok” messages. Some hosts will have this feature soon. This could make the <code class="docutils literal notranslate"><span class="pre">NO_TIMEOUTS</span></code> unnecessary.</p>
</div>
</div>
<div class="section" id="firmware-retraction">
<h2>Firmware Retraction<a class="headerlink" href="#firmware-retraction" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define FWRETRACT  // ONLY PARTIALLY TESTED</span>
<span class="cp">#if ENABLED(FWRETRACT)</span>
  <span class="cp">#define MIN_AUTORETRACT 0.1             </span><span class="c1">// When auto-retract is on, convert E moves of this length and over</span>
  <span class="cp">#define MAX_AUTORETRACT 10.0            </span><span class="c1">// Upper limit for auto-retract conversion</span>
  <span class="cp">#define RETRACT_LENGTH 3                </span><span class="c1">// Default retract length (positive mm)</span>
  <span class="cp">#define RETRACT_LENGTH_SWAP 13          </span><span class="c1">// Default swap retract length (positive mm), for extruder change</span>
  <span class="cp">#define RETRACT_FEEDRATE 45             </span><span class="c1">// Default feedrate for retracting (mm/s)</span>
  <span class="cp">#define RETRACT_ZLIFT 0                 </span><span class="c1">// Default retract Z-lift</span>
  <span class="cp">#define RETRACT_RECOVER_LENGTH 0        </span><span class="c1">// Default additional recover length (mm, added to retract length when recovering)</span>
  <span class="cp">#define RETRACT_RECOVER_LENGTH_SWAP 0   </span><span class="c1">// Default additional swap recover length (mm, added to retract length when recovering from extruder change)</span>
  <span class="cp">#define RETRACT_RECOVER_FEEDRATE 8      </span><span class="c1">// Default feedrate for recovering from retraction (mm/s)</span>
  <span class="cp">#define RETRACT_RECOVER_FEEDRATE_SWAP 8 </span><span class="c1">// Default feedrate for recovering from swap retraction (mm/s)</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>This option adds <a class="reference external" href="/docs/gcode/G010.html"><code class="docutils literal notranslate"><span class="pre">G10</span></code></a>/<a class="reference external" href="/docs/gcode/G011.html"><code class="docutils literal notranslate"><span class="pre">G11</span></code></a> commands for automatic firmware-based retract/recover. Use <a class="reference external" href="/docs/gcode/M207.html"><code class="docutils literal notranslate"><span class="pre">M207</span></code></a> and <a class="reference external" href="/docs/gcode/G038.html"><code class="docutils literal notranslate"><span class="pre">M208</span></code></a> to set the parameters, and <code class="docutils literal notranslate"><span class="pre">M209</span></code> to enable/disable. With auto-retract enabled, all <code class="docutils literal notranslate"><span class="pre">G1</span> <span class="pre">E</span></code> moves within the set range will be converted to firmware-based retract/recover moves.</p>
<p><strong>Be sure to turn off auto-retract during filament change!</strong> All <a class="reference external" href="/docs/gcode/M207.html"><code class="docutils literal notranslate"><span class="pre">M207</span></code></a>/<a class="reference external" href="/docs/gcode/M208.html"><code class="docutils literal notranslate"><span class="pre">M208</span></code></a>/<a class="reference external" href="/docs/gcode/M209.html"><code class="docutils literal notranslate"><span class="pre">M209</span></code></a> settings are saved to EEPROM.</p>
</div>
<div class="section" id="extra-fan-speed">
<h2>Extra Fan Speed<a class="headerlink" href="#extra-fan-speed" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EXTRA_FAN_SPEED</span>
</pre></div>
</div>
<p>Add a secondary fan speed for each print-cooling fan. <a class="reference external" href="/docs/gcode/M106.html"><code class="docutils literal notranslate"><span class="pre">M106</span></code></a></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">M106</span> <span class="pre">P[fan]</span> <span class="pre">T3-255</span></code> sets a secondary speed for [fan].</li>
<li><code class="docutils literal notranslate"><span class="pre">M106</span> <span class="pre">P[fan]</span> <span class="pre">T2</span></code> uses the set secondary speed.</li>
<li><code class="docutils literal notranslate"><span class="pre">M106</span> <span class="pre">P[fan]</span> <span class="pre">T1</span></code> restores the previous fan speed</li>
</ul>
</div>
<div class="section" id="advanced-pause">
<h2>Advanced Pause<a class="headerlink" href="#advanced-pause" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define ADVANCED_PAUSE_FEATURE</span>
<span class="cp">#if ENABLED(ADVANCED_PAUSE_FEATURE)</span>
  <span class="cp">#define PAUSE_PARK_X_POS 3</span>
  <span class="cp">#define PAUSE_PARK_Y_POS 3</span>
  <span class="cp">#define PAUSE_PARK_Z_ADD 10</span>
  <span class="cp">#define PAUSE_PARK_XY_FEEDRATE 100</span>
  <span class="cp">#define PAUSE_PARK_Z_FEEDRATE 5</span>
  <span class="cp">#define PAUSE_PARK_RETRACT_FEEDRATE 60</span>
  <span class="cp">#define PAUSE_PARK_RETRACT_LENGTH 2</span>
  <span class="cp">#define FILAMENT_CHANGE_UNLOAD_FEEDRATE 10</span>
  <span class="cp">#define FILAMENT_CHANGE_UNLOAD_LENGTH 100</span>
  <span class="cp">#define FILAMENT_CHANGE_LOAD_FEEDRATE 6</span>
  <span class="cp">#define FILAMENT_CHANGE_LOAD_LENGTH 0</span>
  <span class="cp">#define ADVANCED_PAUSE_EXTRUDE_FEEDRATE 3</span>
  <span class="cp">#define ADVANCED_PAUSE_EXTRUDE_LENGTH 50</span>
  <span class="cp">#define PAUSE_PARK_NOZZLE_TIMEOUT 45        </span><span class="c1">// Turn off nozzle if user doesn&#39;t change filament within this time limit in seconds</span>
  <span class="cp">#define FILAMENT_CHANGE_NUMBER_OF_ALERT_BEEPS 5 </span><span class="c1">// Number of alert beeps before printer goes quiet</span>
  <span class="cp">#define PAUSE_PARK_NO_STEPPER_TIMEOUT       </span><span class="c1">// Enable to have stepper motors hold position during filament change</span>
                                              <span class="c1">// even if it takes longer than DEFAULT_STEPPER_DEACTIVE_TIME.</span>
  <span class="c1">//#define PARK_HEAD_ON_PAUSE                // Go to filament change position on pause, return to print position on resume</span>
  <span class="c1">//#define HOME_BEFORE_FILAMENT_CHANGE       // Ensure homing has been completed prior to parking for filament change</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Experimental feature for filament change support and parking the nozzle when paused. Adds the <code class="docutils literal notranslate"><span class="pre">M600</span></code> command to perform a filament change. With <code class="docutils literal notranslate"><span class="pre">PARK_HEAD_ON_PAUSE</span></code> enabled also adds the <a class="reference external" href="/docs/gcode/M115.html"><code class="docutils literal notranslate"><span class="pre">M115</span></code></a> command to pause printing and park the nozzle. Requires an LCD display. Note that <code class="docutils literal notranslate"><span class="pre">M600</span></code> is required for the default <code class="docutils literal notranslate"><span class="pre">FILAMENT_RUNOUT_SCRIPT</span></code>.</p>
</div>
<div class="section" id="id4">
<h2>Stepper Drivers<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="trinamic-tmc26x">
<h3>Trinamic TMC26X<a class="headerlink" href="#trinamic-tmc26x" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define HAVE_TMCDRIVER</span>
</pre></div>
</div>
<p>Enable this section if you have TMC26X motor drivers. You’ll need to import the <a class="reference external" href="https://github.com/trinamic/TMC26XStepper.git">TMC26XStepper</a> library into the Arduino IDE. See the <code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code> file for the full set of sub-options.</p>
</div>
<div class="section" id="trinamic-tmc2130">
<h3>Trinamic TMC2130<a class="headerlink" href="#trinamic-tmc2130" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define HAVE_TMC2130</span>
</pre></div>
</div>
<p>Enable this option for SilentStepStick Trinamic TMC2130 SPI-configurable stepper drivers. You’ll also need the <a class="reference external" href="https://github.com/teemuatlut/TMC2130Stepper">TMC2130Stepper</a> Arduino library. See the <code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code> file for the full set of sub-options.</p>
<p>To use TMC2130 stepper drivers in SPI mode connect your SPI2130 pins to the hardware SPI interface on your board and define the required CS pins in your <code class="docutils literal notranslate"><span class="pre">pins_MYBOARD.h</span></code> file. (e.g., RAMPS 1.4 uses AUX3 pins <code class="docutils literal notranslate"><span class="pre">X_CS_PIN</span> <span class="pre">53</span></code>, <code class="docutils literal notranslate"><span class="pre">Y_CS_PIN</span> <span class="pre">49</span></code>, etc.).</p>
</div>
<div class="section" id="l6470-drivers">
<h3>L6470 Drivers<a class="headerlink" href="#l6470-drivers" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define HAVE_L6470DRIVER</span>
</pre></div>
</div>
<p>Enable this section if you have L6470 motor drivers. You need to import the <a class="reference external" href="https://github.com/ameyer/Arduino-L6470">L6470 library</a> into the Arduino IDE for this. See the <code class="docutils literal notranslate"><span class="pre">Configuration_adv.h</span></code> file for the full set of sub-options.</p>
</div>
</div>
<div class="section" id="experimental-i2c-bus">
<h2>Experimental i2c Bus<a class="headerlink" href="#experimental-i2c-bus" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define EXPERIMENTAL_I2CBUS</span>
<span class="cp">#define I2C_SLAVE_ADDRESS  0 </span><span class="c1">// Set a value from 8 to 127 to act as a slave</span>
</pre></div>
</div>
<p>This feature can be used to talk to slave devices on the i2c bus, passing data back to the host. With additional work the <code class="docutils literal notranslate"><span class="pre">TWIBus</span></code> class can be used to build a full protocol and add remote control features to Marlin, distributing load over two or more boards.</p>
<div class="highlight-gcode notranslate"><div class="highlight"><pre><span></span>; Example #1
; This macro send the string &quot;Marlin&quot; to the slave device with address 0x63 (99)
; It uses multiple [`M260`](/docs/gcode/M260.html) commands with one B[base 10] arg
[`M260`](/docs/gcode/M260.html) A99  ; Target slave address
M260 B77  ; M
M260 B97  ; a
M260 B114 ; r
M260 B108 ; l
M260 B105 ; i
M260 B110 ; n
M260 S1   ; Send the current buffer

; Example #2
; Request 6 bytes from slave device with address 0x63 (99)
[`M261`](/docs/gcode/M261.html) A99 B5

; Example #3
; Example serial output of a M261 request
echo:i2c-reply: from:99 bytes:5 data:hello
</pre></div>
</div>
</div>
<div class="section" id="spindle-laser">
<h2>Spindle / Laser<a class="headerlink" href="#spindle-laser" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define SPINDLE_LASER_ENABLE</span>
<span class="cp">#if ENABLED(SPINDLE_LASER_ENABLE)</span>

  <span class="cp">#define SPINDLE_LASER_ENABLE_INVERT   false  </span><span class="c1">// set to &quot;true&quot; if the on/off function is reversed</span>
  <span class="cp">#define SPINDLE_LASER_PWM             true   </span><span class="c1">// set to true if your controller supports setting the speed/power</span>
  <span class="cp">#define SPINDLE_LASER_PWM_INVERT      true   </span><span class="c1">// set to &quot;true&quot; if the speed/power goes up when you want it to go slower</span>
  <span class="cp">#define SPINDLE_LASER_POWERUP_DELAY   5000   </span><span class="c1">// delay in milliseconds to allow the spindle/laser to come up to speed/power</span>
  <span class="cp">#define SPINDLE_LASER_POWERDOWN_DELAY 5000   </span><span class="c1">// delay in milliseconds to allow the spindle to stop</span>
  <span class="cp">#define SPINDLE_DIR_CHANGE            true   </span><span class="c1">// set to true if your spindle controller supports changing spindle direction</span>
  <span class="cp">#define SPINDLE_INVERT_DIR            false</span>
  <span class="cp">#define SPINDLE_STOP_ON_DIR_CHANGE    true   </span><span class="c1">// set to true if Marlin should stop the spindle before changing rotation direction</span>

  <span class="cp">#define SPEED_POWER_SLOPE    118.4</span>
  <span class="cp">#define SPEED_POWER_INTERCEPT  0</span>
  <span class="cp">#define SPEED_POWER_MIN     5000</span>
  <span class="cp">#define SPEED_POWER_MAX    30000    </span><span class="c1">// SuperPID router controller 0 - 30,000 RPM</span>

  <span class="c1">//#define SPEED_POWER_SLOPE      0.3922</span>
  <span class="c1">//#define SPEED_POWER_INTERCEPT  0</span>
  <span class="c1">//#define SPEED_POWER_MIN       10</span>
  <span class="c1">//#define SPEED_POWER_MAX      100      // 0-100%</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>Enable for Spindle and Laser control. Adds the <a class="reference external" href="/docs/gcode/M003.html"><code class="docutils literal notranslate"><span class="pre">M3</span></code></a>, <a class="reference external" href="/docs/gcode/M004.html"><code class="docutils literal notranslate"><span class="pre">M4</span></code></a>, and <a class="reference external" href="/docs/gcode/M005.html"><code class="docutils literal notranslate"><span class="pre">M5</span></code></a> commands to turn the spindle/laser on and off, and to set spindle speed, spindle direction, and laser power.</p>
<p>SuperPid is a router/spindle speed controller used in the CNC milling community. Marlin can be used to turn the spindle on and off. It can also be used to set the spindle speed from 5,000 to 30,000 RPM.</p>
<p>You’ll need to select a pin for the ON/OFF function and optionally choose a 0-5V hardware PWM pin for the speed control and a pin for the rotation direction.</p>
<p>See the <a class="reference external" href="/docs/configuration/laser_spindle.html">Laser and Spindle page</a> for more details.</p>
</div>
<div class="section" id="filament-width-sensor">
<h2>Filament Width Sensor<a class="headerlink" href="#filament-width-sensor" title="Permalink to this headline">¶</a></h2>
<iframe style="float:right;margin:0 0 1em 1em;" title="YouTube video player" width="240" height="195" src="http://www.youtube.com/embed/W93dFxF425s?autoplay=0" frameborder="0" allowfullscreen></iframe>
```cpp
//#define FILAMENT_WIDTH_SENSOR
```
Enable to add support for a filament width sensor such as [Filament Width Sensor Prototype Version 3](http://www.thingiverse.com/thing:454584). With a filament sensor installed, Marlin can adjust the flow rate according to the measured filament width. Adjust the sub-options below according to your setup.<p>Only a single extruder is supported at this time.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define FILAMENT_SENSOR_EXTRUDER_NUM 0</span>
</pre></div>
</div>
<p>Only one extruder can have a filament sensor. Specify here which extruder has it.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MEASUREMENT_DELAY_CM        14</span>
</pre></div>
</div>
<p>Distance from the filament width sensor to the melt chamber.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MEASURED_UPPER_LIMIT         3.30 </span><span class="c1">// (mm) Upper limit used to validate sensor reading</span>
<span class="cp">#define MEASURED_LOWER_LIMIT         1.90 </span><span class="c1">// (mm) Lower limit used to validate sensor reading</span>
</pre></div>
</div>
<p>The range of your filament width. Set these according to your filament preferences. The sample values here apply to 3mm. For 1.75mm you’ll use a range more like 1.60 to 1.90.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MAX_MEASUREMENT_DELAY       20</span>
</pre></div>
</div>
<p>This defines the size of the buffer to allocate for use with <code class="docutils literal notranslate"><span class="pre">MEASUREMENT_DELAY_CM</span></code>. The value must be greater than or equal to <code class="docutils literal notranslate"><span class="pre">MEASUREMENT_DELAY_CM</span></code>. Keep this setting low to reduce RAM usage.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define FILAMENT_LCD_DISPLAY</span>
</pre></div>
</div>
<p>Periodically display a message on the LCD showing the measured filament diameter.</p>
</div>
<div class="section" id="cnc-coordinate-systems">
<h2>CNC Coordinate Systems<a class="headerlink" href="#cnc-coordinate-systems" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define CNC_COORDINATE_SYSTEMS</span>
</pre></div>
</div>
<p>Enables <a class="reference external" href="/docs/gcode/G053.html"><code class="docutils literal notranslate"><span class="pre">G53</span></code></a> and <a class="reference external" href="/docs/gcode/G054-G059.html"><code class="docutils literal notranslate"><span class="pre">G54</span></code>-<code class="docutils literal notranslate"><span class="pre">G59.3</span></code></a> commands to select coordinate systems, plus <a class="reference external" href="/docs/gcode/G010.html"><code class="docutils literal notranslate"><span class="pre">G92.1</span></code></a> to reset the current workspace to native machine space. Workspaces set with this feature are also saved to EEPROM.</p>
</div>
<div class="section" id="pins-debugging">
<h2>Pins Debugging<a class="headerlink" href="#pins-debugging" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define PINS_DEBUGGING</span>
</pre></div>
</div>
<p>Enable this option to add the <a class="reference external" href="/docs/gcode/M043.html"><code class="docutils literal notranslate"><span class="pre">M43</span></code></a> Debug Pins G-code. This command can be used to list pins, display their status, to watch pins for changes, observe endstops, toggle LEDs, test Z servo probe, toggle pins, etc.</p>
</div>
<div class="section" id="temperature-auto-report">
<h2>Temperature Auto-Report<a class="headerlink" href="#temperature-auto-report" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define AUTO_REPORT_TEMPERATURES</span>
</pre></div>
</div>
<p>It is recommended to enable this feature (along with <code class="docutils literal notranslate"><span class="pre">EXTENDED_CAPABILITIES_REPORT</span></code>) to install the <a class="reference external" href="/docs/gcode/M115.html"><code class="docutils literal notranslate"><span class="pre">M155</span></code></a> Auto-Report Temperature command. <a class="reference external" href="/docs/gcode/M115.html"><code class="docutils literal notranslate"><span class="pre">M115</span></code></a> tells Marlin to send the current temperature to the host at regular intervals, instead of requiring the host software to send <code class="docutils literal notranslate"><span class="pre">M105</span></code> repeatedly. This saves a space in the command buffer and reduces overhead.</p>
</div>
<div class="section" id="extended-capabilities-report">
<h2>Extended Capabilities Report<a class="headerlink" href="#extended-capabilities-report" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define EXTENDED_CAPABILITIES_REPORT</span>
</pre></div>
</div>
<p>This option adds a list of capabilities to the output of <a class="reference external" href="/docs/gcode/M115.html"><code class="docutils literal notranslate"><span class="pre">M115</span></code></a>, allowing savvy host software to take advantage of add-ons like <code class="docutils literal notranslate"><span class="pre">AUTO_REPORT_TEMPERATURES</span></code>.</p>
</div>
<div class="section" id="volumetric-mode-default">
<h2>Volumetric Mode Default<a class="headerlink" href="#volumetric-mode-default" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define VOLUMETRIC_DEFAULT_ON</span>
</pre></div>
</div>
<p>Activate this option to make volumetric extrusion the default method The last values loaded or set by <a class="reference external" href="/docs/gcode/M400.html"><code class="docutils literal notranslate"><span class="pre">M404</span> <span class="pre">W</span></code></a> and <a class="reference external" href="/docs/gcode/M200.html"><code class="docutils literal notranslate"><span class="pre">M200</span> <span class="pre">D</span></code></a> will be used as the Nominal and Actual filament diameters. With this option, <a class="reference external" href="/docs/gcode/M200.html"><code class="docutils literal notranslate"><span class="pre">M200</span> <span class="pre">D0</span></code></a> must be used to disable volumetric mode when running length-based G-code.</p>
</div>
<div class="section" id="no-workspace-offsets">
<h2>No Workspace Offsets<a class="headerlink" href="#no-workspace-offsets" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//#define NO_WORKSPACE_OFFSETS</span>
</pre></div>
</div>
<p>Enable this option for a leaner build of Marlin that removes all workspace offsets. This simplifies all coordinate transformations, leveling, etc., and may allow for slightly faster printing. With this option, <a class="reference external" href="/docs/gcode/M206.html"><code class="docutils literal notranslate"><span class="pre">M206</span></code></a> and <a class="reference external" href="/docs/gcode/M428.html"><code class="docutils literal notranslate"><span class="pre">M428</span></code></a> are disabled, and <a class="reference external" href="/docs/gcode/G092.html"><code class="docutils literal notranslate"><span class="pre">G92</span></code></a> reverts to its old behavior, as it is in Marlin 1.0.</p>
</div>
<div class="section" id="proportional-font-ratio">
<h2>Proportional Font Ratio<a class="headerlink" href="#proportional-font-ratio" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define PROPORTIONAL_FONT_RATIO 1.0</span>
</pre></div>
</div>
<p>Some hosts use a proportional font in their output console. This makes it hard to read output from Marlin that relies on fixed-width for alignment. This option tells Marlin how many spaces are required to fill up a typical character space in the host font. For clients that use a fixed-width font (like OctoPrint), leave this set to 1.0. Otherwise, adjust according to your host.</p>
</div>
<div class="section" id="faster-g-code-parser">
<h2>Faster G-code Parser<a class="headerlink" href="#faster-g-code-parser" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define FASTER_GCODE_PARSER</span>
</pre></div>
</div>
<p>This option uses a 28 byte SRAM buffer and an alternative method to get parameter values so the G-code parser can run a little faster. If possible, always leave this option enabled.</p>
</div>
<div class="section" id="even-more-options">
<h2>Even More Options…<a class="headerlink" href="#even-more-options" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * User-defined menu items that execute custom GCode</span>
<span class="cm"> */</span>
<span class="c1">//#define CUSTOM_USER_MENUS</span>
<span class="cp">#if ENABLED(CUSTOM_USER_MENUS)</span>
  <span class="cp">#define USER_SCRIPT_DONE &quot;M117 User Script Done&quot;</span>
  <span class="cp">#define USER_SCRIPT_AUDIBLE_FEEDBACK</span>
  <span class="c1">//#define USER_SCRIPT_RETURN  // Return to status screen after a script</span>

  <span class="cp">#define USER_DESC_1 &quot;Home &amp; UBL Info&quot;</span>
  <span class="cp">#define USER_GCODE_1 &quot;G28\nG29 W&quot;</span>

  <span class="cp">#define USER_DESC_2 &quot;Preheat for PLA&quot;</span>
  <span class="cp">#define USER_GCODE_2 &quot;M140 S&quot; STRINGIFY(PREHEAT_1_TEMP_BED) &quot;\nM104 S&quot; STRINGIFY(PREHEAT_1_TEMP_HOTEND)</span>

  <span class="cp">#define USER_DESC_3 &quot;Preheat for ABS&quot;</span>
  <span class="cp">#define USER_GCODE_3 &quot;M140 S&quot; STRINGIFY(PREHEAT_2_TEMP_BED) &quot;\nM104 S&quot; STRINGIFY(PREHEAT_2_TEMP_HOTEND)</span>

  <span class="cp">#define USER_DESC_4 &quot;Heat Bed/Home/Level&quot;</span>
  <span class="cp">#define USER_GCODE_4 &quot;M140 S&quot; STRINGIFY(PREHEAT_2_TEMP_BED) &quot;\nG28\nG29&quot;</span>

  <span class="cp">#define USER_DESC_5 &quot;Home &amp; Info&quot;</span>
  <span class="cp">#define USER_GCODE_5 &quot;G28\nM503&quot;</span>
<span class="cp">#endif</span>

<span class="c1">//#define ACTION_ON_KILL &quot;poweroff&quot;</span>

<span class="c1">//#define I2C_POSITION_ENCODERS</span>
<span class="cp">#if ENABLED(I2C_POSITION_ENCODERS)</span>

  <span class="cp">#define I2CPE_ENCODER_CNT         1                       </span><span class="c1">// The number of encoders installed; max of 5</span>
                                                            <span class="c1">// encoders supported currently.</span>

  <span class="cp">#define I2CPE_ENC_1_ADDR          I2CPE_PRESET_ADDR_X     </span><span class="c1">// I2C address of the encoder. 30-200.</span>
  <span class="cp">#define I2CPE_ENC_1_AXIS          X_AXIS                  </span><span class="c1">// Axis the encoder module is installed on.  &lt;X|Y|Z|E&gt;_AXIS.</span>
  <span class="cp">#define I2CPE_ENC_1_TYPE          I2CPE_ENC_TYPE_LINEAR   </span><span class="c1">// Type of encoder:  I2CPE_ENC_TYPE_LINEAR -or-</span>
                                                            <span class="c1">// I2CPE_ENC_TYPE_ROTARY.</span>
  <span class="cp">#define I2CPE_ENC_1_TICKS_UNIT    2048                    </span><span class="c1">// 1024 for magnetic strips with 2mm poles; 2048 for</span>
  <span class="c1">//#define I2CPE_ENC_1_TICKS_REV     (16 * 200)            // Only needed for rotary encoders; number of stepper</span>
  <span class="c1">//#define I2CPE_ENC_1_INVERT                              // Invert the direction of axis travel.</span>
  <span class="cp">#define I2CPE_ENC_1_EC_METHOD     I2CPE_ECM_NONE          </span><span class="c1">// Type of error error correction.</span>
  <span class="cp">#define I2CPE_ENC_1_EC_THRESH     0.10                    </span><span class="c1">// Threshold size for error (in mm) above which the</span>

  <span class="cp">#define I2CPE_ENC_2_ADDR          I2CPE_PRESET_ADDR_Y     </span><span class="c1">// Same as above, but for encoder 2.</span>
  <span class="cp">#define I2CPE_ENC_2_AXIS          Y_AXIS</span>
  <span class="cp">#define I2CPE_ENC_2_TYPE          I2CPE_ENC_TYPE_LINEAR</span>
  <span class="cp">#define I2CPE_ENC_2_TICKS_UNIT    2048</span>
  <span class="c1">//#define I2CPE_ENC_2_TICKS_REV   (16 * 200)</span>
  <span class="c1">//#define I2CPE_ENC_2_INVERT</span>
  <span class="cp">#define I2CPE_ENC_2_EC_METHOD     I2CPE_ECM_NONE</span>
  <span class="cp">#define I2CPE_ENC_2_EC_THRESH     0.10</span>

  <span class="cp">#define I2CPE_ENC_3_ADDR          I2CPE_PRESET_ADDR_Z     </span><span class="c1">// Encoder 3.  Add additional configuration options</span>
  <span class="cp">#define I2CPE_ENC_3_AXIS          Z_AXIS                  </span><span class="c1">// as above, or use defaults below.</span>

  <span class="cp">#define I2CPE_ENC_4_ADDR          I2CPE_PRESET_ADDR_E     </span><span class="c1">// Encoder 4.</span>
  <span class="cp">#define I2CPE_ENC_4_AXIS          E_AXIS</span>

  <span class="cp">#define I2CPE_ENC_5_ADDR          34                      </span><span class="c1">// Encoder 5.</span>
  <span class="cp">#define I2CPE_ENC_5_AXIS          E_AXIS</span>

  <span class="cp">#define I2CPE_DEF_TYPE            I2CPE_ENC_TYPE_LINEAR</span>
  <span class="cp">#define I2CPE_DEF_ENC_TICKS_UNIT  2048</span>
  <span class="cp">#define I2CPE_DEF_TICKS_REV       (16 * 200)</span>
  <span class="cp">#define I2CPE_DEF_EC_METHOD       I2CPE_ECM_NONE</span>
  <span class="cp">#define I2CPE_DEF_EC_THRESH       0.1</span>

  <span class="c1">//#define I2CPE_ERR_THRESH_ABORT  100.0</span>

  <span class="cp">#define I2CPE_TIME_TRUSTED        10000 </span>
  <span class="cp">#define I2CPE_MIN_UPD_TIME_MS     100</span>
  <span class="cp">#define I2CPE_ERR_ROLLING_AVERAGE</span>

<span class="cp">#endif</span>

<span class="c1">//#define MAX7219_DEBUG</span>
<span class="cp">#if ENABLED(MAX7219_DEBUG)</span>
  <span class="cp">#define MAX7219_CLK_PIN   64  </span><span class="c1">// 77 on Re-ARM</span>
  <span class="c1">// Configuration of the 3 pins to control the display</span>
  <span class="cp">#define MAX7219_DIN_PIN   57  </span><span class="c1">// 78 on Re-ARM</span>
  <span class="cp">#define MAX7219_LOAD_PIN  44  </span><span class="c1">// 79 on Re-ARM</span>

  <span class="cp">#define MAX7219_DEBUG_PRINTER_ALIVE    </span><span class="c1">// Blink corner LED of 8x8 matrix to show that the firmware is functioning</span>
  <span class="cp">#define MAX7219_DEBUG_STEPPER_HEAD  3  </span><span class="c1">// Show the stepper queue head position on this and the next LED matrix row</span>
  <span class="cp">#define MAX7219_DEBUG_STEPPER_TAIL  5  </span><span class="c1">// Show the stepper queue tail position on this and the next LED matrix row</span>

  <span class="cp">#define MAX7219_DEBUG_STEPPER_QUEUE 0  </span><span class="c1">// Show the current stepper queue depth on this and the next LED matrix row</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="prusa-mmu2-advanced-settings">
<h2>Prusa MMU2 advanced settings<a class="headerlink" href="#prusa-mmu2-advanced-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="serial-connection">
<h3>Serial connection<a class="headerlink" href="#serial-connection" title="Permalink to this headline">¶</a></h3>
<p>A serial connection is required for communication between the printer board and the MMU2. The configuration differs between 8- and 32-bit boards.</p>
<div class="section" id="bit-avr-boards">
<h4>8-bit AVR boards<a class="headerlink" href="#bit-avr-boards" title="Permalink to this headline">¶</a></h4>
<p>On a board with a ATmega2560/1280 microcontroller you have three potential serial ports to use for the MMU2: serial 1 (pins 18/19), serial 2 (pins 16/17), serial 3 (pins 14/15). Define the port your MMU2 is connected to</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="cp">#define INTERNAL_SERIAL_PORT 2</span>
</pre></div>
</div>
<p>This activates an additional serial connection in Marlin named internalSerial. So the second define in the example configuration can just remain as it is.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="cp">#define MMU2_SERIAL internalSerial</span>
</pre></div>
</div>
</div>
<div class="section" id="bit-boards">
<h4>32-bit boards<a class="headerlink" href="#bit-boards" title="Permalink to this headline">¶</a></h4>
<p>When using a 32-bit board you just have to define the name of the serial port which will be used for communication with the MMU2.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="cp">#define MMU2_SERIAL Serial1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mmu2-reset">
<h3>MMU2 Reset<a class="headerlink" href="#mmu2-reset" title="Permalink to this headline">¶</a></h3>
<p>The MMU2 provides two options how the printer board can trigger a reset: software and hardware reset. By default software reset is enabled. Hardware reset requires a digital output pin wired to the reset pin on the MMU2. To activate hardware reset you define the pin to use on the printer board</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="cp">#define MMU2_RST_PIN 23</span>
</pre></div>
</div>
</div>
<div class="section" id="v-mode">
<h3>12V mode<a class="headerlink" href="#v-mode" title="Permalink to this headline">¶</a></h3>
<p>If your MMU2 is powered from 12 V you can activate a special mode on the MMU2.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="c1">// Enable if the MMU2 has 12V stepper motors (MMU2 Firmware 1.0.2 and up)</span>
  <span class="cp">#define MMU2_MODE_12V</span>
</pre></div>
</div>
<p>This should reduce the noise of the MMU2 but has no effect on the general operation.</p>
</div>
<div class="section" id="filament-runout-handling">
<h3>Filament runout handling<a class="headerlink" href="#filament-runout-handling" title="Permalink to this headline">¶</a></h3>
<p>Here you define the gcode script which will be executed when the so-called FINDA sensor on the MMU2 detects a filament runout.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="c1">// G-code to execute when MMU2 F.I.N.D.A. probe detects filament runout</span>
  <span class="cp">#define MMU2_FILAMENT_RUNOUT_SCRIPT &quot;M600&quot;</span>
</pre></div>
</div>
<p>The default is <a class="reference external" href="/docs/gcode/M600.html"><code class="docutils literal notranslate"><span class="pre">M600</span></code></a> which requires <a class="reference external" href="#advanced_pause">ADVANCED_PAUSE_FEATURE</a>.</p>
</div>
<div class="section" id="lcd-menu">
<h3>LCD Menu<a class="headerlink" href="#lcd-menu" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="c1">// Add MMU2 controls to the LCD menu</span>
  <span class="cp">#define MMU2_MENUS</span>
</pre></div>
</div>
<p>Enable this option to activate an additional menu to operate the MMU2 from the LCD.</p>
</div>
<div class="section" id="filament-load-unload-settings">
<h3>Filament load/unload settings<a class="headerlink" href="#filament-load-unload-settings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="load-to-nozzle">
<h4>Load to nozzle<a class="headerlink" href="#load-to-nozzle" title="Permalink to this headline">¶</a></h4>
<p>The MMU2 LCD menu allows you to load filament to the nozzle. The MMU2 will transport the filament all the way to the extruder gears. The required extruder steps to load it into the hotend have to be defined in Marlin.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>    <span class="c1">// This is for Prusa MK3-style extruders. Customize for your hardware.</span>
    <span class="cp">#define MMU2_LOAD_TO_NOZZLE_SEQUENCE \</span>
<span class="cp">      {  7.2,  562 }, \</span>
<span class="cp">      { 14.4,  871 }, \</span>
<span class="cp">      { 36.0, 1393 }, \</span>
<span class="cp">      { 14.4,  871 }, \</span>
<span class="cp">      { 50.0,  198 }</span>
</pre></div>
</div>
<p>The values are relative E distances and feed rates in mm/m. The defaults are based on the nozzle to extruder gear distance of a Prusa MK3 extruder, so if required you have to modifiy those to your extruder/hotend setup accordingly.</p>
</div>
<div class="section" id="unload-filament">
<h4>Unload filament<a class="headerlink" href="#unload-filament" title="Permalink to this headline">¶</a></h4>
<p>To unload filament using the LCD menu a generic ramming sequence will be exectued before the MMU2 will retract the filament. The steps to do so are defined using</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>    <span class="cp">#define MMU2_RAMMING_SEQUENCE \</span>
<span class="cp">      {   1.0, 1000 }, \</span>
<span class="cp">      {   1.0, 1500 }, \</span>
<span class="cp">      {   2.0, 2000 }, \</span>
<span class="cp">      {   1.5, 3000 }, \</span>
<span class="cp">      {   2.5, 4000 }, \</span>
<span class="cp">      { -15.0, 5000 }, \</span>
<span class="cp">      { -14.0, 1200 }, \</span>
<span class="cp">      {  -6.0,  600 }, \</span>
<span class="cp">      {  10.0,  700 }, \</span>
<span class="cp">      { -10.0,  400 }, \</span>
<span class="cp">      { -50.0, 2000 }</span>
</pre></div>
</div>
<p>The values are relative E distances and feed rates in mm/m. The default values are based on a E3D V6 hotend and the nozzle to extruder gear distance of a Prusa MK3 extruder, so if required you have to modifiy those to your extruder/hotend setup accordingly.</p>
</div>
<div class="section" id="eject-filament">
<h4>Eject filament<a class="headerlink" href="#eject-filament" title="Permalink to this headline">¶</a></h4>
<p>Eject filament will do a simple retraction of the filament out of the hotend without ramming. The feedrate to do so is defined using</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>    <span class="cp">#define MMU2_FILAMENTCHANGE_EJECT_FEED 80.0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="debug">
<h3>Debug<a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>  <span class="cp">#define MMU2_DEBUG  </span><span class="c1">// Write debug info to serial output</span>
</pre></div>
</div>
<p>Enable this option to get debug output related to the printer to MMU2 communication. This will consume some PROGMEM.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to mydocs’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Apex-yuan

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>